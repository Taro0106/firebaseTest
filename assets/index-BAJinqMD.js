const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MyhomeView-B7J-zQsR.js","assets/sweetalert2.esm.all-BQxta0Da.js","assets/MyhomeView-DDas6Ghs.css","assets/ListView-C5ZTC0xf.js","assets/ListView-C4dkagcq.css","assets/AddFavoryView-CdI9zK-s.js","assets/AddFavoryView-D2vLN33m.css","assets/PersonalDataView-CrCGPzg2.js","assets/PersonalDataView-G3fPTDvm.css","assets/HomeView-BdYwUNnY.js","assets/HomeView-DTQ9U28q.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Cl(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ve={},as=[],ln=()=>{},gp=()=>!1,ma=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Pl=t=>t.startsWith("onUpdate:"),et=Object.assign,Nl=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},By=Object.prototype.hasOwnProperty,Se=(t,e)=>By.call(t,e),ae=Array.isArray,cs=t=>Fi(t)==="[object Map]",_p=t=>Fi(t)==="[object Set]",Fh=t=>Fi(t)==="[object Date]",he=t=>typeof t=="function",qe=t=>typeof t=="string",mn=t=>typeof t=="symbol",Pe=t=>t!==null&&typeof t=="object",yp=t=>(Pe(t)||he(t))&&he(t.then)&&he(t.catch),Ep=Object.prototype.toString,Fi=t=>Ep.call(t),jy=t=>Fi(t).slice(8,-1),Tp=t=>Fi(t)==="[object Object]",Vl=t=>qe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ii=Cl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ga=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},qy=/-\w/g,jt=ga(t=>t.replace(qy,e=>e.slice(1).toUpperCase())),$y=/\B([A-Z])/g,Gr=ga(t=>t.replace($y,"-$1").toLowerCase()),_a=ga(t=>t.charAt(0).toUpperCase()+t.slice(1)),dc=ga(t=>t?`on${_a(t)}`:""),rr=(t,e)=>!Object.is(t,e),Io=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},vp=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Dl=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Hy=t=>{const e=qe(t)?Number(t):NaN;return isNaN(e)?t:e};let Uh;const ya=()=>Uh||(Uh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function kl(t){if(ae(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=qe(r)?Ky(r):kl(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(qe(t)||Pe(t))return t}const Gy=/;(?![^(]*\))/g,zy=/:([^]+)/,Wy=/\/\*[^]*?\*\//g;function Ky(t){const e={};return t.replace(Wy,"").split(Gy).forEach(n=>{if(n){const r=n.split(zy);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ol(t){let e="";if(qe(t))e=t;else if(ae(t))for(let n=0;n<t.length;n++){const r=Ol(t[n]);r&&(e+=r+" ")}else if(Pe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Qy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Jy=Cl(Qy);function Ip(t){return!!t||t===""}function Yy(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Lo(t[r],e[r]);return n}function Lo(t,e){if(t===e)return!0;let n=Fh(t),r=Fh(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=mn(t),r=mn(e),n||r)return t===e;if(n=ae(t),r=ae(e),n||r)return n&&r?Yy(t,e):!1;if(n=Pe(t),r=Pe(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const c=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(c&&!l||!c&&l||!Lo(t[o],e[o]))return!1}}return String(t)===String(e)}const wp=t=>!!(t&&t.__v_isRef===!0),Xy=t=>qe(t)?t:t==null?"":ae(t)||Pe(t)&&(t.toString===Ep||!he(t.toString))?wp(t)?Xy(t.value):JSON.stringify(t,Ap,2):String(t),Ap=(t,e)=>wp(e)?Ap(t,e.value):cs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[pc(r,i)+" =>"]=s,n),{})}:_p(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>pc(n))}:mn(e)?pc(e):Pe(e)&&!ae(e)&&!Tp(e)?String(e):e,pc=(t,e="")=>{var n;return mn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let At;class Zy{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=At,!e&&At&&(this.index=(At.scopes||(At.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=At;try{return At=this,e()}finally{At=n}}}on(){++this._on===1&&(this.prevScope=At,At=this)}off(){this._on>0&&--this._on===0&&(At=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function eE(){return At}let De;const mc=new WeakSet;class Rp{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,At&&At.active&&At.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,mc.has(this)&&(mc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||bp(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Bh(this),Cp(this);const e=De,n=Kt;De=this,Kt=!0;try{return this.fn()}finally{Pp(this),De=e,Kt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ll(e);this.deps=this.depsTail=void 0,Bh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?mc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){qc(this)&&this.run()}get dirty(){return qc(this)}}let Sp=0,oi,ai;function bp(t,e=!1){if(t.flags|=8,e){t.next=ai,ai=t;return}t.next=oi,oi=t}function xl(){Sp++}function Ml(){if(--Sp>0)return;if(ai){let e=ai;for(ai=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;oi;){let e=oi;for(oi=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Cp(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Pp(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Ll(r),tE(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function qc(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Np(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Np(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ti)||(t.globalVersion=Ti,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!qc(t))))return;t.flags|=2;const e=t.dep,n=De,r=Kt;De=t,Kt=!0;try{Cp(t);const s=t.fn(t._value);(e.version===0||rr(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{De=n,Kt=r,Pp(t),t.flags&=-3}}function Ll(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Ll(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function tE(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Kt=!0;const Vp=[];function Pn(){Vp.push(Kt),Kt=!1}function Nn(){const t=Vp.pop();Kt=t===void 0?!0:t}function Bh(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=De;De=void 0;try{e()}finally{De=n}}}let Ti=0;class nE{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Fl{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!De||!Kt||De===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==De)n=this.activeLink=new nE(De,this),De.deps?(n.prevDep=De.depsTail,De.depsTail.nextDep=n,De.depsTail=n):De.deps=De.depsTail=n,Dp(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=De.depsTail,n.nextDep=void 0,De.depsTail.nextDep=n,De.depsTail=n,De.deps===n&&(De.deps=r)}return n}trigger(e){this.version++,Ti++,this.notify(e)}notify(e){xl();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ml()}}}function Dp(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Dp(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const $c=new WeakMap,Mr=Symbol(""),Hc=Symbol(""),vi=Symbol("");function ht(t,e,n){if(Kt&&De){let r=$c.get(t);r||$c.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Fl),s.map=r,s.key=n),s.track()}}function An(t,e,n,r,s,i){const o=$c.get(t);if(!o){Ti++;return}const c=l=>{l&&l.trigger()};if(xl(),e==="clear")o.forEach(c);else{const l=ae(t),u=l&&Vl(n);if(l&&n==="length"){const f=Number(r);o.forEach((p,m)=>{(m==="length"||m===vi||!mn(m)&&m>=f)&&c(p)})}else switch((n!==void 0||o.has(void 0))&&c(o.get(n)),u&&c(o.get(vi)),e){case"add":l?u&&c(o.get("length")):(c(o.get(Mr)),cs(t)&&c(o.get(Hc)));break;case"delete":l||(c(o.get(Mr)),cs(t)&&c(o.get(Hc)));break;case"set":cs(t)&&c(o.get(Mr));break}}Ml()}function Xr(t){const e=we(t);return e===t?e:(ht(e,"iterate",vi),Bt(t)?e:e.map(Yt))}function Ea(t){return ht(t=we(t),"iterate",vi),t}function Qn(t,e){return Vn(t)?Lr(t)?gs(Yt(e)):gs(e):Yt(e)}const rE={__proto__:null,[Symbol.iterator](){return gc(this,Symbol.iterator,t=>Qn(this,t))},concat(...t){return Xr(this).concat(...t.map(e=>ae(e)?Xr(e):e))},entries(){return gc(this,"entries",t=>(t[1]=Qn(this,t[1]),t))},every(t,e){return En(this,"every",t,e,void 0,arguments)},filter(t,e){return En(this,"filter",t,e,n=>n.map(r=>Qn(this,r)),arguments)},find(t,e){return En(this,"find",t,e,n=>Qn(this,n),arguments)},findIndex(t,e){return En(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return En(this,"findLast",t,e,n=>Qn(this,n),arguments)},findLastIndex(t,e){return En(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return En(this,"forEach",t,e,void 0,arguments)},includes(...t){return _c(this,"includes",t)},indexOf(...t){return _c(this,"indexOf",t)},join(t){return Xr(this).join(t)},lastIndexOf(...t){return _c(this,"lastIndexOf",t)},map(t,e){return En(this,"map",t,e,void 0,arguments)},pop(){return Ys(this,"pop")},push(...t){return Ys(this,"push",t)},reduce(t,...e){return jh(this,"reduce",t,e)},reduceRight(t,...e){return jh(this,"reduceRight",t,e)},shift(){return Ys(this,"shift")},some(t,e){return En(this,"some",t,e,void 0,arguments)},splice(...t){return Ys(this,"splice",t)},toReversed(){return Xr(this).toReversed()},toSorted(t){return Xr(this).toSorted(t)},toSpliced(...t){return Xr(this).toSpliced(...t)},unshift(...t){return Ys(this,"unshift",t)},values(){return gc(this,"values",t=>Qn(this,t))}};function gc(t,e,n){const r=Ea(t),s=r[e]();return r!==t&&!Bt(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const sE=Array.prototype;function En(t,e,n,r,s,i){const o=Ea(t),c=o!==t&&!Bt(t),l=o[e];if(l!==sE[e]){const p=l.apply(t,i);return c?Yt(p):p}let u=n;o!==t&&(c?u=function(p,m){return n.call(this,Qn(t,p),m,t)}:n.length>2&&(u=function(p,m){return n.call(this,p,m,t)}));const f=l.call(o,u,r);return c&&s?s(f):f}function jh(t,e,n,r){const s=Ea(t);let i=n;return s!==t&&(Bt(t)?n.length>3&&(i=function(o,c,l){return n.call(this,o,c,l,t)}):i=function(o,c,l){return n.call(this,o,Qn(t,c),l,t)}),s[e](i,...r)}function _c(t,e,n){const r=we(t);ht(r,"iterate",vi);const s=r[e](...n);return(s===-1||s===!1)&&jl(n[0])?(n[0]=we(n[0]),r[e](...n)):s}function Ys(t,e,n=[]){Pn(),xl();const r=we(t)[e].apply(t,n);return Ml(),Nn(),r}const iE=Cl("__proto__,__v_isRef,__isVue"),kp=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(mn));function oE(t){mn(t)||(t=String(t));const e=we(this);return ht(e,"has",t),e.hasOwnProperty(t)}class Op{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?gE:Fp:i?Lp:Mp).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ae(e);if(!s){let l;if(o&&(l=rE[n]))return l;if(n==="hasOwnProperty")return oE}const c=Reflect.get(e,n,pt(e)?e:r);if((mn(n)?kp.has(n):iE(n))||(s||ht(e,"get",n),i))return c;if(pt(c)){const l=o&&Vl(n)?c:c.value;return s&&Pe(l)?zc(l):l}return Pe(c)?s?zc(c):Ta(c):c}}class xp extends Op{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];const o=ae(e)&&Vl(n);if(!this._isShallow){const u=Vn(i);if(!Bt(r)&&!Vn(r)&&(i=we(i),r=we(r)),!o&&pt(i)&&!pt(r))return u||(i.value=r),!0}const c=o?Number(n)<e.length:Se(e,n),l=Reflect.set(e,n,r,pt(e)?e:s);return e===we(s)&&(c?rr(r,i)&&An(e,"set",n,r):An(e,"add",n,r)),l}deleteProperty(e,n){const r=Se(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&An(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!mn(n)||!kp.has(n))&&ht(e,"has",n),r}ownKeys(e){return ht(e,"iterate",ae(e)?"length":Mr),Reflect.ownKeys(e)}}class aE extends Op{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const cE=new xp,lE=new aE,uE=new xp(!0);const Gc=t=>t,ho=t=>Reflect.getPrototypeOf(t);function hE(t,e,n){return function(...r){const s=this.__v_raw,i=we(s),o=cs(i),c=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=s[t](...r),f=n?Gc:e?gs:Yt;return!e&&ht(i,"iterate",l?Hc:Mr),{next(){const{value:p,done:m}=u.next();return m?{value:p,done:m}:{value:c?[f(p[0]),f(p[1])]:f(p),done:m}},[Symbol.iterator](){return this}}}}function fo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function fE(t,e){const n={get(s){const i=this.__v_raw,o=we(i),c=we(s);t||(rr(s,c)&&ht(o,"get",s),ht(o,"get",c));const{has:l}=ho(o),u=e?Gc:t?gs:Yt;if(l.call(o,s))return u(i.get(s));if(l.call(o,c))return u(i.get(c));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&ht(we(s),"iterate",Mr),s.size},has(s){const i=this.__v_raw,o=we(i),c=we(s);return t||(rr(s,c)&&ht(o,"has",s),ht(o,"has",c)),s===c?i.has(s):i.has(s)||i.has(c)},forEach(s,i){const o=this,c=o.__v_raw,l=we(c),u=e?Gc:t?gs:Yt;return!t&&ht(l,"iterate",Mr),c.forEach((f,p)=>s.call(i,u(f),u(p),o))}};return et(n,t?{add:fo("add"),set:fo("set"),delete:fo("delete"),clear:fo("clear")}:{add(s){!e&&!Bt(s)&&!Vn(s)&&(s=we(s));const i=we(this);return ho(i).has.call(i,s)||(i.add(s),An(i,"add",s,s)),this},set(s,i){!e&&!Bt(i)&&!Vn(i)&&(i=we(i));const o=we(this),{has:c,get:l}=ho(o);let u=c.call(o,s);u||(s=we(s),u=c.call(o,s));const f=l.call(o,s);return o.set(s,i),u?rr(i,f)&&An(o,"set",s,i):An(o,"add",s,i),this},delete(s){const i=we(this),{has:o,get:c}=ho(i);let l=o.call(i,s);l||(s=we(s),l=o.call(i,s)),c&&c.call(i,s);const u=i.delete(s);return l&&An(i,"delete",s,void 0),u},clear(){const s=we(this),i=s.size!==0,o=s.clear();return i&&An(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=hE(s,t,e)}),n}function Ul(t,e){const n=fE(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Se(n,s)&&s in r?n:r,s,i)}const dE={get:Ul(!1,!1)},pE={get:Ul(!1,!0)},mE={get:Ul(!0,!1)};const Mp=new WeakMap,Lp=new WeakMap,Fp=new WeakMap,gE=new WeakMap;function _E(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function yE(t){return t.__v_skip||!Object.isExtensible(t)?0:_E(jy(t))}function Ta(t){return Vn(t)?t:Bl(t,!1,cE,dE,Mp)}function Up(t){return Bl(t,!1,uE,pE,Lp)}function zc(t){return Bl(t,!0,lE,mE,Fp)}function Bl(t,e,n,r,s){if(!Pe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=yE(t);if(i===0)return t;const o=s.get(t);if(o)return o;const c=new Proxy(t,i===2?r:n);return s.set(t,c),c}function Lr(t){return Vn(t)?Lr(t.__v_raw):!!(t&&t.__v_isReactive)}function Vn(t){return!!(t&&t.__v_isReadonly)}function Bt(t){return!!(t&&t.__v_isShallow)}function jl(t){return t?!!t.__v_raw:!1}function we(t){const e=t&&t.__v_raw;return e?we(e):t}function EE(t){return!Se(t,"__v_skip")&&Object.isExtensible(t)&&vp(t,"__v_skip",!0),t}const Yt=t=>Pe(t)?Ta(t):t,gs=t=>Pe(t)?zc(t):t;function pt(t){return t?t.__v_isRef===!0:!1}function TE(t){return Bp(t,!1)}function vE(t){return Bp(t,!0)}function Bp(t,e){return pt(t)?t:new IE(t,e)}class IE{constructor(e,n){this.dep=new Fl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:we(e),this._value=n?e:Yt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Bt(e)||Vn(e);e=r?e:we(e),rr(e,n)&&(this._rawValue=e,this._value=r?e:Yt(e),this.dep.trigger())}}function Fr(t){return pt(t)?t.value:t}const wE={get:(t,e,n)=>e==="__v_raw"?t:Fr(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return pt(s)&&!pt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function jp(t){return Lr(t)?t:new Proxy(t,wE)}class AE{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Fl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ti-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&De!==this)return bp(this,!0),!0}get value(){const e=this.dep.track();return Np(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function RE(t,e,n=!1){let r,s;return he(t)?r=t:(r=t.get,s=t.set),new AE(r,s,n)}const po={},Fo=new WeakMap;let Pr;function SE(t,e=!1,n=Pr){if(n){let r=Fo.get(n);r||Fo.set(n,r=[]),r.push(t)}}function bE(t,e,n=Ve){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:c,call:l}=n,u=W=>s?W:Bt(W)||s===!1||s===0?Rn(W,1):Rn(W);let f,p,m,y,P=!1,V=!1;if(pt(t)?(p=()=>t.value,P=Bt(t)):Lr(t)?(p=()=>u(t),P=!0):ae(t)?(V=!0,P=t.some(W=>Lr(W)||Bt(W)),p=()=>t.map(W=>{if(pt(W))return W.value;if(Lr(W))return u(W);if(he(W))return l?l(W,2):W()})):he(t)?e?p=l?()=>l(t,2):t:p=()=>{if(m){Pn();try{m()}finally{Nn()}}const W=Pr;Pr=f;try{return l?l(t,3,[y]):t(y)}finally{Pr=W}}:p=ln,e&&s){const W=p,ie=s===!0?1/0:s;p=()=>Rn(W(),ie)}const k=eE(),q=()=>{f.stop(),k&&k.active&&Nl(k.effects,f)};if(i&&e){const W=e;e=(...ie)=>{W(...ie),q()}}let B=V?new Array(t.length).fill(po):po;const H=W=>{if(!(!(f.flags&1)||!f.dirty&&!W))if(e){const ie=f.run();if(s||P||(V?ie.some((le,R)=>rr(le,B[R])):rr(ie,B))){m&&m();const le=Pr;Pr=f;try{const R=[ie,B===po?void 0:V&&B[0]===po?[]:B,y];B=ie,l?l(e,3,R):e(...R)}finally{Pr=le}}}else f.run()};return c&&c(H),f=new Rp(p),f.scheduler=o?()=>o(H,!1):H,y=W=>SE(W,!1,f),m=f.onStop=()=>{const W=Fo.get(f);if(W){if(l)l(W,4);else for(const ie of W)ie();Fo.delete(f)}},e?r?H(!0):B=f.run():o?o(H.bind(null,!0),!0):f.run(),q.pause=f.pause.bind(f),q.resume=f.resume.bind(f),q.stop=q,q}function Rn(t,e=1/0,n){if(e<=0||!Pe(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,pt(t))Rn(t.value,e,n);else if(ae(t))for(let r=0;r<t.length;r++)Rn(t[r],e,n);else if(_p(t)||cs(t))t.forEach(r=>{Rn(r,e,n)});else if(Tp(t)){for(const r in t)Rn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Rn(t[r],e,n)}return t}function Ui(t,e,n,r){try{return r?t(...r):t()}catch(s){va(s,e,n)}}function Xt(t,e,n,r){if(he(t)){const s=Ui(t,e,n,r);return s&&yp(s)&&s.catch(i=>{va(i,e,n)}),s}if(ae(t)){const s=[];for(let i=0;i<t.length;i++)s.push(Xt(t[i],e,n,r));return s}}function va(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ve;if(e){let c=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const f=c.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](t,l,u)===!1)return}c=c.parent}if(i){Pn(),Ui(i,null,10,[t,l,u]),Nn();return}}CE(t,n,s,r,o)}function CE(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const Et=[];let on=-1;const ls=[];let Jn=null,es=0;const qp=Promise.resolve();let Uo=null;function $p(t){const e=Uo||qp;return t?e.then(this?t.bind(this):t):e}function PE(t){let e=on+1,n=Et.length;for(;e<n;){const r=e+n>>>1,s=Et[r],i=Ii(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function ql(t){if(!(t.flags&1)){const e=Ii(t),n=Et[Et.length-1];!n||!(t.flags&2)&&e>=Ii(n)?Et.push(t):Et.splice(PE(e),0,t),t.flags|=1,Hp()}}function Hp(){Uo||(Uo=qp.then(zp))}function NE(t){ae(t)?ls.push(...t):Jn&&t.id===-1?Jn.splice(es+1,0,t):t.flags&1||(ls.push(t),t.flags|=1),Hp()}function qh(t,e,n=on+1){for(;n<Et.length;n++){const r=Et[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Et.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Gp(t){if(ls.length){const e=[...new Set(ls)].sort((n,r)=>Ii(n)-Ii(r));if(ls.length=0,Jn){Jn.push(...e);return}for(Jn=e,es=0;es<Jn.length;es++){const n=Jn[es];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Jn=null,es=0}}const Ii=t=>t.id==null?t.flags&2?-1:1/0:t.id;function zp(t){try{for(on=0;on<Et.length;on++){const e=Et[on];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ui(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;on<Et.length;on++){const e=Et[on];e&&(e.flags&=-2)}on=-1,Et.length=0,Gp(),Uo=null,(Et.length||ls.length)&&zp()}}let kt=null,Wp=null;function Bo(t){const e=kt;return kt=t,Wp=t&&t.type.__scopeId||null,e}function VE(t,e=kt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&$o(-1);const i=Bo(e);let o;try{o=t(...s)}finally{Bo(i),r._d&&$o(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function OP(t,e){if(kt===null)return t;const n=Sa(kt),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,c,l=Ve]=e[s];i&&(he(i)&&(i={mounted:i,updated:i}),i.deep&&Rn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:c,modifiers:l}))}return t}function Rr(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const c=s[o];i&&(c.oldValue=i[o].value);let l=c.dir[r];l&&(Pn(),Xt(l,n,8,[t.el,c,t,e]),Nn())}}function wo(t,e){if(ft){let n=ft.provides;const r=ft.parent&&ft.parent.provides;r===n&&(n=ft.provides=Object.create(r)),n[t]=e}}function Qt(t,e,n=!1){const r=bm();if(r||us){let s=us?us._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&he(e)?e.call(r&&r.proxy):e}}const DE=Symbol.for("v-scx"),kE=()=>Qt(DE);function Ao(t,e,n){return Kp(t,e,n)}function Kp(t,e,n=Ve){const{immediate:r,deep:s,flush:i,once:o}=n,c=et({},n),l=e&&r||!e&&i!=="post";let u;if(Ri){if(i==="sync"){const y=kE();u=y.__watcherHandles||(y.__watcherHandles=[])}else if(!l){const y=()=>{};return y.stop=ln,y.resume=ln,y.pause=ln,y}}const f=ft;c.call=(y,P,V)=>Xt(y,f,P,V);let p=!1;i==="post"?c.scheduler=y=>{Vt(y,f&&f.suspense)}:i!=="sync"&&(p=!0,c.scheduler=(y,P)=>{P?y():ql(y)}),c.augmentJob=y=>{e&&(y.flags|=4),p&&(y.flags|=2,f&&(y.id=f.uid,y.i=f))};const m=bE(t,e,c);return Ri&&(u?u.push(m):l&&m()),m}function OE(t,e,n){const r=this.proxy,s=qe(t)?t.includes(".")?Qp(r,t):()=>r[t]:t.bind(r,r);let i;he(e)?i=e:(i=e.handler,n=e);const o=Bi(this),c=Kp(s,i.bind(r),n);return o(),c}function Qp(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const xE=Symbol("_vte"),Jp=t=>t.__isTeleport,wn=Symbol("_leaveCb"),mo=Symbol("_enterCb");function ME(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return $l(()=>{t.isMounted=!0}),im(()=>{t.isUnmounting=!0}),t}const Ft=[Function,Array],Yp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ft,onEnter:Ft,onAfterEnter:Ft,onEnterCancelled:Ft,onBeforeLeave:Ft,onLeave:Ft,onAfterLeave:Ft,onLeaveCancelled:Ft,onBeforeAppear:Ft,onAppear:Ft,onAfterAppear:Ft,onAppearCancelled:Ft},Xp=t=>{const e=t.subTree;return e.component?Xp(e.component):e},LE={name:"BaseTransition",props:Yp,setup(t,{slots:e}){const n=bm(),r=ME();return()=>{const s=e.default&&tm(e.default(),!0);if(!s||!s.length)return;const i=Zp(s),o=we(t),{mode:c}=o;if(r.isLeaving)return yc(i);const l=$h(i);if(!l)return yc(i);let u=Wc(l,o,r,n,p=>u=p);l.type!==Tt&&wi(l,u);let f=n.subTree&&$h(n.subTree);if(f&&f.type!==Tt&&!Vr(f,l)&&Xp(n).type!==Tt){let p=Wc(f,o,r,n);if(wi(f,p),c==="out-in"&&l.type!==Tt)return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete p.afterLeave,f=void 0},yc(i);c==="in-out"&&l.type!==Tt?p.delayLeave=(m,y,P)=>{const V=em(r,f);V[String(f.key)]=f,m[wn]=()=>{y(),m[wn]=void 0,delete u.delayedLeave,f=void 0},u.delayedLeave=()=>{P(),delete u.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return i}}};function Zp(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Tt){e=n;break}}return e}const FE=LE;function em(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Wc(t,e,n,r,s){const{appear:i,mode:o,persisted:c=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:f,onEnterCancelled:p,onBeforeLeave:m,onLeave:y,onAfterLeave:P,onLeaveCancelled:V,onBeforeAppear:k,onAppear:q,onAfterAppear:B,onAppearCancelled:H}=e,W=String(t.key),ie=em(n,t),le=(_,S)=>{_&&Xt(_,r,9,S)},R=(_,S)=>{const A=S[1];le(_,S),ae(_)?_.every(w=>w.length<=1)&&A():_.length<=1&&A()},v={mode:o,persisted:c,beforeEnter(_){let S=l;if(!n.isMounted)if(i)S=k||l;else return;_[wn]&&_[wn](!0);const A=ie[W];A&&Vr(t,A)&&A.el[wn]&&A.el[wn](),le(S,[_])},enter(_){let S=u,A=f,w=p;if(!n.isMounted)if(i)S=q||u,A=B||f,w=H||p;else return;let E=!1;const ve=_[mo]=Be=>{E||(E=!0,Be?le(w,[_]):le(A,[_]),v.delayedLeave&&v.delayedLeave(),_[mo]=void 0)};S?R(S,[_,ve]):ve()},leave(_,S){const A=String(t.key);if(_[mo]&&_[mo](!0),n.isUnmounting)return S();le(m,[_]);let w=!1;const E=_[wn]=ve=>{w||(w=!0,S(),ve?le(V,[_]):le(P,[_]),_[wn]=void 0,ie[A]===t&&delete ie[A])};ie[A]=t,y?R(y,[_,E]):E()},clone(_){const S=Wc(_,e,n,r,s);return s&&s(S),S}};return v}function yc(t){if(Ia(t))return t=hr(t),t.children=null,t}function $h(t){if(!Ia(t))return Jp(t.type)&&t.children?Zp(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&he(n.default))return n.default()}}function wi(t,e){t.shapeFlag&6&&t.component?(t.transition=e,wi(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function tm(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const c=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Gt?(o.patchFlag&128&&s++,r=r.concat(tm(o.children,e,c))):(e||o.type!==Tt)&&r.push(c!=null?hr(o,{key:c}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function nm(t,e){return he(t)?et({name:t.name},e,{setup:t}):t}function rm(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const jo=new WeakMap;function ci(t,e,n,r,s=!1){if(ae(t)){t.forEach((P,V)=>ci(P,e&&(ae(e)?e[V]:e),n,r,s));return}if(li(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&ci(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?Sa(r.component):r.el,o=s?null:i,{i:c,r:l}=t,u=e&&e.r,f=c.refs===Ve?c.refs={}:c.refs,p=c.setupState,m=we(p),y=p===Ve?gp:P=>Se(m,P);if(u!=null&&u!==l){if(Hh(e),qe(u))f[u]=null,y(u)&&(p[u]=null);else if(pt(u)){u.value=null;const P=e;P.k&&(f[P.k]=null)}}if(he(l))Ui(l,c,12,[o,f]);else{const P=qe(l),V=pt(l);if(P||V){const k=()=>{if(t.f){const q=P?y(l)?p[l]:f[l]:l.value;if(s)ae(q)&&Nl(q,i);else if(ae(q))q.includes(i)||q.push(i);else if(P)f[l]=[i],y(l)&&(p[l]=f[l]);else{const B=[i];l.value=B,t.k&&(f[t.k]=B)}}else P?(f[l]=o,y(l)&&(p[l]=o)):V&&(l.value=o,t.k&&(f[t.k]=o))};if(o){const q=()=>{k(),jo.delete(t)};q.id=-1,jo.set(t,q),Vt(q,n)}else Hh(t),k()}}}function Hh(t){const e=jo.get(t);e&&(e.flags|=8,jo.delete(t))}ya().requestIdleCallback;ya().cancelIdleCallback;const li=t=>!!t.type.__asyncLoader,Ia=t=>t.type.__isKeepAlive;function UE(t,e){sm(t,"a",e)}function BE(t,e){sm(t,"da",e)}function sm(t,e,n=ft){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(wa(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Ia(s.parent.vnode)&&jE(r,e,n,s),s=s.parent}}function jE(t,e,n,r){const s=wa(e,t,r,!0);om(()=>{Nl(r[e],s)},n)}function wa(t,e,n=ft,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Pn();const c=Bi(n),l=Xt(e,n,t,o);return c(),Nn(),l});return r?s.unshift(i):s.push(i),i}}const Ln=t=>(e,n=ft)=>{(!Ri||t==="sp")&&wa(t,(...r)=>e(...r),n)},qE=Ln("bm"),$l=Ln("m"),$E=Ln("bu"),HE=Ln("u"),im=Ln("bum"),om=Ln("um"),GE=Ln("sp"),zE=Ln("rtg"),WE=Ln("rtc");function KE(t,e=ft){wa("ec",t,e)}const QE="components";function xP(t,e){return YE(QE,t,!0,e)||t}const JE=Symbol.for("v-ndc");function YE(t,e,n=!0,r=!1){const s=kt||ft;if(s){const i=s.type;{const c=MT(i,!1);if(c&&(c===e||c===jt(e)||c===_a(jt(e))))return i}const o=Gh(s[t]||i[t],e)||Gh(s.appContext[t],e);return!o&&r?i:o}}function Gh(t,e){return t&&(t[e]||t[jt(e)]||t[_a(jt(e))])}function MP(t,e,n,r){let s;const i=n,o=ae(t);if(o||qe(t)){const c=o&&Lr(t);let l=!1,u=!1;c&&(l=!Bt(t),u=Vn(t),t=Ea(t)),s=new Array(t.length);for(let f=0,p=t.length;f<p;f++)s[f]=e(l?u?gs(Yt(t[f])):Yt(t[f]):t[f],f,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let c=0;c<t;c++)s[c]=e(c+1,c,void 0,i)}else if(Pe(t))if(t[Symbol.iterator])s=Array.from(t,(c,l)=>e(c,l,void 0,i));else{const c=Object.keys(t);s=new Array(c.length);for(let l=0,u=c.length;l<u;l++){const f=c[l];s[l]=e(t[f],f,l,i)}}else s=[];return s}const Kc=t=>t?Cm(t)?Sa(t):Kc(t.parent):null,ui=et(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Kc(t.parent),$root:t=>Kc(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>cm(t),$forceUpdate:t=>t.f||(t.f=()=>{ql(t.update)}),$nextTick:t=>t.n||(t.n=$p.bind(t.proxy)),$watch:t=>OE.bind(t)}),Ec=(t,e)=>t!==Ve&&!t.__isScriptSetup&&Se(t,e),XE={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:c,appContext:l}=t;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Ec(r,e))return o[e]=1,r[e];if(s!==Ve&&Se(s,e))return o[e]=2,s[e];if(Se(i,e))return o[e]=3,i[e];if(n!==Ve&&Se(n,e))return o[e]=4,n[e];Qc&&(o[e]=0)}}const u=ui[e];let f,p;if(u)return e==="$attrs"&&ht(t.attrs,"get",""),u(t);if((f=c.__cssModules)&&(f=f[e]))return f;if(n!==Ve&&Se(n,e))return o[e]=4,n[e];if(p=l.config.globalProperties,Se(p,e))return p[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Ec(s,e)?(s[e]=n,!0):r!==Ve&&Se(r,e)?(r[e]=n,!0):Se(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,props:i,type:o}},c){let l;return!!(n[c]||t!==Ve&&c[0]!=="$"&&Se(t,c)||Ec(e,c)||Se(i,c)||Se(r,c)||Se(ui,c)||Se(s.config.globalProperties,c)||(l=o.__cssModules)&&l[c])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Se(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function zh(t){return ae(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Qc=!0;function ZE(t){const e=cm(t),n=t.proxy,r=t.ctx;Qc=!1,e.beforeCreate&&Wh(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:c,provide:l,inject:u,created:f,beforeMount:p,mounted:m,beforeUpdate:y,updated:P,activated:V,deactivated:k,beforeDestroy:q,beforeUnmount:B,destroyed:H,unmounted:W,render:ie,renderTracked:le,renderTriggered:R,errorCaptured:v,serverPrefetch:_,expose:S,inheritAttrs:A,components:w,directives:E,filters:ve}=e;if(u&&eT(u,r,null),o)for(const Ae in o){const ye=o[Ae];he(ye)&&(r[Ae]=ye.bind(n))}if(s){const Ae=s.call(n,n);Pe(Ae)&&(t.data=Ta(Ae))}if(Qc=!0,i)for(const Ae in i){const ye=i[Ae],It=he(ye)?ye.bind(n,n):he(ye.get)?ye.get.bind(n,n):ln,tn=!he(ye)&&he(ye.set)?ye.set.bind(n):ln,bt=zt({get:It,set:tn});Object.defineProperty(r,Ae,{enumerable:!0,configurable:!0,get:()=>bt.value,set:tt=>bt.value=tt})}if(c)for(const Ae in c)am(c[Ae],r,n,Ae);if(l){const Ae=he(l)?l.call(n):l;Reflect.ownKeys(Ae).forEach(ye=>{wo(ye,Ae[ye])})}f&&Wh(f,t,"c");function xe(Ae,ye){ae(ye)?ye.forEach(It=>Ae(It.bind(n))):ye&&Ae(ye.bind(n))}if(xe(qE,p),xe($l,m),xe($E,y),xe(HE,P),xe(UE,V),xe(BE,k),xe(KE,v),xe(WE,le),xe(zE,R),xe(im,B),xe(om,W),xe(GE,_),ae(S))if(S.length){const Ae=t.exposed||(t.exposed={});S.forEach(ye=>{Object.defineProperty(Ae,ye,{get:()=>n[ye],set:It=>n[ye]=It,enumerable:!0})})}else t.exposed||(t.exposed={});ie&&t.render===ln&&(t.render=ie),A!=null&&(t.inheritAttrs=A),w&&(t.components=w),E&&(t.directives=E),_&&rm(t)}function eT(t,e,n=ln){ae(t)&&(t=Jc(t));for(const r in t){const s=t[r];let i;Pe(s)?"default"in s?i=Qt(s.from||r,s.default,!0):i=Qt(s.from||r):i=Qt(s),pt(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Wh(t,e,n){Xt(ae(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function am(t,e,n,r){let s=r.includes(".")?Qp(n,r):()=>n[r];if(qe(t)){const i=e[t];he(i)&&Ao(s,i)}else if(he(t))Ao(s,t.bind(n));else if(Pe(t))if(ae(t))t.forEach(i=>am(i,e,n,r));else{const i=he(t.handler)?t.handler.bind(n):e[t.handler];he(i)&&Ao(s,i,t)}}function cm(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,c=i.get(e);let l;return c?l=c:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(u=>qo(l,u,o,!0)),qo(l,e,o)),Pe(e)&&i.set(e,l),l}function qo(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&qo(t,i,n,!0),s&&s.forEach(o=>qo(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const c=tT[o]||n&&n[o];t[o]=c?c(t[o],e[o]):e[o]}return t}const tT={data:Kh,props:Qh,emits:Qh,methods:ei,computed:ei,beforeCreate:_t,created:_t,beforeMount:_t,mounted:_t,beforeUpdate:_t,updated:_t,beforeDestroy:_t,beforeUnmount:_t,destroyed:_t,unmounted:_t,activated:_t,deactivated:_t,errorCaptured:_t,serverPrefetch:_t,components:ei,directives:ei,watch:rT,provide:Kh,inject:nT};function Kh(t,e){return e?t?function(){return et(he(t)?t.call(this,this):t,he(e)?e.call(this,this):e)}:e:t}function nT(t,e){return ei(Jc(t),Jc(e))}function Jc(t){if(ae(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function _t(t,e){return t?[...new Set([].concat(t,e))]:e}function ei(t,e){return t?et(Object.create(null),t,e):e}function Qh(t,e){return t?ae(t)&&ae(e)?[...new Set([...t,...e])]:et(Object.create(null),zh(t),zh(e??{})):e}function rT(t,e){if(!t)return e;if(!e)return t;const n=et(Object.create(null),t);for(const r in e)n[r]=_t(t[r],e[r]);return n}function lm(){return{app:null,config:{isNativeTag:gp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let sT=0;function iT(t,e){return function(r,s=null){he(r)||(r=et({},r)),s!=null&&!Pe(s)&&(s=null);const i=lm(),o=new WeakSet,c=[];let l=!1;const u=i.app={_uid:sT++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:FT,get config(){return i.config},set config(f){},use(f,...p){return o.has(f)||(f&&he(f.install)?(o.add(f),f.install(u,...p)):he(f)&&(o.add(f),f(u,...p))),u},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),u},component(f,p){return p?(i.components[f]=p,u):i.components[f]},directive(f,p){return p?(i.directives[f]=p,u):i.directives[f]},mount(f,p,m){if(!l){const y=u._ceVNode||xt(r,s);return y.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),t(y,f,m),l=!0,u._container=f,f.__vue_app__=u,Sa(y.component)}},onUnmount(f){c.push(f)},unmount(){l&&(Xt(c,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(f,p){return i.provides[f]=p,u},runWithContext(f){const p=us;us=u;try{return f()}finally{us=p}}};return u}}let us=null;const oT=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${jt(e)}Modifiers`]||t[`${Gr(e)}Modifiers`];function aT(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ve;let s=n;const i=e.startsWith("update:"),o=i&&oT(r,e.slice(7));o&&(o.trim&&(s=n.map(f=>qe(f)?f.trim():f)),o.number&&(s=n.map(Dl)));let c,l=r[c=dc(e)]||r[c=dc(jt(e))];!l&&i&&(l=r[c=dc(Gr(e))]),l&&Xt(l,t,6,s);const u=r[c+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,Xt(u,t,6,s)}}const cT=new WeakMap;function um(t,e,n=!1){const r=n?cT:e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},c=!1;if(!he(t)){const l=u=>{const f=um(u,e,!0);f&&(c=!0,et(o,f))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!c?(Pe(t)&&r.set(t,null),null):(ae(i)?i.forEach(l=>o[l]=null):et(o,i),Pe(t)&&r.set(t,o),o)}function Aa(t,e){return!t||!ma(e)?!1:(e=e.slice(2).replace(/Once$/,""),Se(t,e[0].toLowerCase()+e.slice(1))||Se(t,Gr(e))||Se(t,e))}function Jh(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:c,emit:l,render:u,renderCache:f,props:p,data:m,setupState:y,ctx:P,inheritAttrs:V}=t,k=Bo(t);let q,B;try{if(n.shapeFlag&4){const W=s||r,ie=W;q=cn(u.call(ie,W,f,p,y,m,P)),B=c}else{const W=e;q=cn(W.length>1?W(p,{attrs:c,slots:o,emit:l}):W(p,null)),B=e.props?c:lT(c)}}catch(W){hi.length=0,va(W,t,1),q=xt(Tt)}let H=q;if(B&&V!==!1){const W=Object.keys(B),{shapeFlag:ie}=H;W.length&&ie&7&&(i&&W.some(Pl)&&(B=uT(B,i)),H=hr(H,B,!1,!0))}return n.dirs&&(H=hr(H,null,!1,!0),H.dirs=H.dirs?H.dirs.concat(n.dirs):n.dirs),n.transition&&wi(H,n.transition),q=H,Bo(k),q}const lT=t=>{let e;for(const n in t)(n==="class"||n==="style"||ma(n))&&((e||(e={}))[n]=t[n]);return e},uT=(t,e)=>{const n={};for(const r in t)(!Pl(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function hT(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:c,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Yh(r,o,u):!!o;if(l&8){const f=e.dynamicProps;for(let p=0;p<f.length;p++){const m=f[p];if(o[m]!==r[m]&&!Aa(u,m))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===o?!1:r?o?Yh(r,o,u):!0:!!o;return!1}function Yh(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Aa(n,i))return!0}return!1}function fT({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const hm={},fm=()=>Object.create(hm),dm=t=>Object.getPrototypeOf(t)===hm;function dT(t,e,n,r=!1){const s={},i=fm();t.propsDefaults=Object.create(null),pm(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Up(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function pT(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,c=we(s),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=t.vnode.dynamicProps;for(let p=0;p<f.length;p++){let m=f[p];if(Aa(t.emitsOptions,m))continue;const y=e[m];if(l)if(Se(i,m))y!==i[m]&&(i[m]=y,u=!0);else{const P=jt(m);s[P]=Yc(l,c,P,y,t,!1)}else y!==i[m]&&(i[m]=y,u=!0)}}}else{pm(t,e,s,i)&&(u=!0);let f;for(const p in c)(!e||!Se(e,p)&&((f=Gr(p))===p||!Se(e,f)))&&(l?n&&(n[p]!==void 0||n[f]!==void 0)&&(s[p]=Yc(l,c,p,void 0,t,!0)):delete s[p]);if(i!==c)for(const p in i)(!e||!Se(e,p))&&(delete i[p],u=!0)}u&&An(t.attrs,"set","")}function pm(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,c;if(e)for(let l in e){if(ii(l))continue;const u=e[l];let f;s&&Se(s,f=jt(l))?!i||!i.includes(f)?n[f]=u:(c||(c={}))[f]=u:Aa(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=we(n),u=c||Ve;for(let f=0;f<i.length;f++){const p=i[f];n[p]=Yc(s,l,p,u[p],t,!Se(u,p))}}return o}function Yc(t,e,n,r,s,i){const o=t[n];if(o!=null){const c=Se(o,"default");if(c&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&he(l)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const f=Bi(s);r=u[n]=l.call(null,e),f()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!c?r=!1:o[1]&&(r===""||r===Gr(n))&&(r=!0))}return r}const mT=new WeakMap;function mm(t,e,n=!1){const r=n?mT:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},c=[];let l=!1;if(!he(t)){const f=p=>{l=!0;const[m,y]=mm(p,e,!0);et(o,m),y&&c.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!i&&!l)return Pe(t)&&r.set(t,as),as;if(ae(i))for(let f=0;f<i.length;f++){const p=jt(i[f]);Xh(p)&&(o[p]=Ve)}else if(i)for(const f in i){const p=jt(f);if(Xh(p)){const m=i[f],y=o[p]=ae(m)||he(m)?{type:m}:et({},m),P=y.type;let V=!1,k=!0;if(ae(P))for(let q=0;q<P.length;++q){const B=P[q],H=he(B)&&B.name;if(H==="Boolean"){V=!0;break}else H==="String"&&(k=!1)}else V=he(P)&&P.name==="Boolean";y[0]=V,y[1]=k,(V||Se(y,"default"))&&c.push(p)}}const u=[o,c];return Pe(t)&&r.set(t,u),u}function Xh(t){return t[0]!=="$"&&!ii(t)}const Hl=t=>t==="_"||t==="_ctx"||t==="$stable",Gl=t=>ae(t)?t.map(cn):[cn(t)],gT=(t,e,n)=>{if(e._n)return e;const r=VE((...s)=>Gl(e(...s)),n);return r._c=!1,r},gm=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Hl(s))continue;const i=t[s];if(he(i))e[s]=gT(s,i,r);else if(i!=null){const o=Gl(i);e[s]=()=>o}}},_m=(t,e)=>{const n=Gl(e);t.slots.default=()=>n},ym=(t,e,n)=>{for(const r in e)(n||!Hl(r))&&(t[r]=e[r])},_T=(t,e,n)=>{const r=t.slots=fm();if(t.vnode.shapeFlag&32){const s=e._;s?(ym(r,e,n),n&&vp(r,"_",s,!0)):gm(e,r)}else e&&_m(t,e)},yT=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Ve;if(r.shapeFlag&32){const c=e._;c?n&&c===1?i=!1:ym(s,e,n):(i=!e.$stable,gm(e,s)),o=e}else e&&(_m(t,e),o={default:1});if(i)for(const c in s)!Hl(c)&&o[c]==null&&delete s[c]},Vt=wT;function ET(t){return TT(t)}function TT(t,e){const n=ya();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:c,createComment:l,setText:u,setElementText:f,parentNode:p,nextSibling:m,setScopeId:y=ln,insertStaticContent:P}=t,V=(T,I,b,O=null,F=null,x=null,K=void 0,$=null,j=!!I.dynamicChildren)=>{if(T===I)return;T&&!Vr(T,I)&&(O=M(T),tt(T,F,x,!0),T=null),I.patchFlag===-2&&(j=!1,I.dynamicChildren=null);const{type:U,ref:re,shapeFlag:J}=I;switch(U){case Ra:k(T,I,b,O);break;case Tt:q(T,I,b,O);break;case vc:T==null&&B(I,b,O,K);break;case Gt:w(T,I,b,O,F,x,K,$,j);break;default:J&1?ie(T,I,b,O,F,x,K,$,j):J&6?E(T,I,b,O,F,x,K,$,j):(J&64||J&128)&&U.process(T,I,b,O,F,x,K,$,j,ee)}re!=null&&F?ci(re,T&&T.ref,x,I||T,!I):re==null&&T&&T.ref!=null&&ci(T.ref,null,x,T,!0)},k=(T,I,b,O)=>{if(T==null)r(I.el=c(I.children),b,O);else{const F=I.el=T.el;I.children!==T.children&&u(F,I.children)}},q=(T,I,b,O)=>{T==null?r(I.el=l(I.children||""),b,O):I.el=T.el},B=(T,I,b,O)=>{[T.el,T.anchor]=P(T.children,I,b,O,T.el,T.anchor)},H=({el:T,anchor:I},b,O)=>{let F;for(;T&&T!==I;)F=m(T),r(T,b,O),T=F;r(I,b,O)},W=({el:T,anchor:I})=>{let b;for(;T&&T!==I;)b=m(T),s(T),T=b;s(I)},ie=(T,I,b,O,F,x,K,$,j)=>{if(I.type==="svg"?K="svg":I.type==="math"&&(K="mathml"),T==null)le(I,b,O,F,x,K,$,j);else{const U=T.el&&T.el._isVueCE?T.el:null;try{U&&U._beginPatch(),_(T,I,F,x,K,$,j)}finally{U&&U._endPatch()}}},le=(T,I,b,O,F,x,K,$)=>{let j,U;const{props:re,shapeFlag:J,transition:te,dirs:se}=T;if(j=T.el=o(T.type,x,re&&re.is,re),J&8?f(j,T.children):J&16&&v(T.children,j,null,O,F,Tc(T,x),K,$),se&&Rr(T,null,O,"created"),R(j,T,T.scopeId,K,O),re){for(const be in re)be!=="value"&&!ii(be)&&i(j,be,null,re[be],x,O);"value"in re&&i(j,"value",null,re.value,x),(U=re.onVnodeBeforeMount)&&sn(U,O,T)}se&&Rr(T,null,O,"beforeMount");const de=vT(F,te);de&&te.beforeEnter(j),r(j,I,b),((U=re&&re.onVnodeMounted)||de||se)&&Vt(()=>{U&&sn(U,O,T),de&&te.enter(j),se&&Rr(T,null,O,"mounted")},F)},R=(T,I,b,O,F)=>{if(b&&y(T,b),O)for(let x=0;x<O.length;x++)y(T,O[x]);if(F){let x=F.subTree;if(I===x||Im(x.type)&&(x.ssContent===I||x.ssFallback===I)){const K=F.vnode;R(T,K,K.scopeId,K.slotScopeIds,F.parent)}}},v=(T,I,b,O,F,x,K,$,j=0)=>{for(let U=j;U<T.length;U++){const re=T[U]=$?Yn(T[U]):cn(T[U]);V(null,re,I,b,O,F,x,K,$)}},_=(T,I,b,O,F,x,K)=>{const $=I.el=T.el;let{patchFlag:j,dynamicChildren:U,dirs:re}=I;j|=T.patchFlag&16;const J=T.props||Ve,te=I.props||Ve;let se;if(b&&Sr(b,!1),(se=te.onVnodeBeforeUpdate)&&sn(se,b,I,T),re&&Rr(I,T,b,"beforeUpdate"),b&&Sr(b,!0),(J.innerHTML&&te.innerHTML==null||J.textContent&&te.textContent==null)&&f($,""),U?S(T.dynamicChildren,U,$,b,O,Tc(I,F),x):K||ye(T,I,$,null,b,O,Tc(I,F),x,!1),j>0){if(j&16)A($,J,te,b,F);else if(j&2&&J.class!==te.class&&i($,"class",null,te.class,F),j&4&&i($,"style",J.style,te.style,F),j&8){const de=I.dynamicProps;for(let be=0;be<de.length;be++){const Ie=de[be],at=J[Ie],ct=te[Ie];(ct!==at||Ie==="value")&&i($,Ie,at,ct,F,b)}}j&1&&T.children!==I.children&&f($,I.children)}else!K&&U==null&&A($,J,te,b,F);((se=te.onVnodeUpdated)||re)&&Vt(()=>{se&&sn(se,b,I,T),re&&Rr(I,T,b,"updated")},O)},S=(T,I,b,O,F,x,K)=>{for(let $=0;$<I.length;$++){const j=T[$],U=I[$],re=j.el&&(j.type===Gt||!Vr(j,U)||j.shapeFlag&198)?p(j.el):b;V(j,U,re,null,O,F,x,K,!0)}},A=(T,I,b,O,F)=>{if(I!==b){if(I!==Ve)for(const x in I)!ii(x)&&!(x in b)&&i(T,x,I[x],null,F,O);for(const x in b){if(ii(x))continue;const K=b[x],$=I[x];K!==$&&x!=="value"&&i(T,x,$,K,F,O)}"value"in b&&i(T,"value",I.value,b.value,F)}},w=(T,I,b,O,F,x,K,$,j)=>{const U=I.el=T?T.el:c(""),re=I.anchor=T?T.anchor:c("");let{patchFlag:J,dynamicChildren:te,slotScopeIds:se}=I;se&&($=$?$.concat(se):se),T==null?(r(U,b,O),r(re,b,O),v(I.children||[],b,re,F,x,K,$,j)):J>0&&J&64&&te&&T.dynamicChildren&&T.dynamicChildren.length===te.length?(S(T.dynamicChildren,te,b,F,x,K,$),(I.key!=null||F&&I===F.subTree)&&Em(T,I,!0)):ye(T,I,b,re,F,x,K,$,j)},E=(T,I,b,O,F,x,K,$,j)=>{I.slotScopeIds=$,T==null?I.shapeFlag&512?F.ctx.activate(I,b,O,K,j):ve(I,b,O,F,x,K,j):Be(T,I,j)},ve=(T,I,b,O,F,x,K)=>{const $=T.component=VT(T,O,F);if(Ia(T)&&($.ctx.renderer=ee),DT($,!1,K),$.asyncDep){if(F&&F.registerDep($,xe,K),!T.el){const j=$.subTree=xt(Tt);q(null,j,I,b),T.placeholder=j.el}}else xe($,T,I,b,F,x,K)},Be=(T,I,b)=>{const O=I.component=T.component;if(hT(T,I,b))if(O.asyncDep&&!O.asyncResolved){Ae(O,I,b);return}else O.next=I,O.update();else I.el=T.el,O.vnode=I},xe=(T,I,b,O,F,x,K)=>{const $=()=>{if(T.isMounted){let{next:J,bu:te,u:se,parent:de,vnode:be}=T;{const Pt=Tm(T);if(Pt){J&&(J.el=be.el,Ae(T,J,K)),Pt.asyncDep.then(()=>{T.isUnmounted||$()});return}}let Ie=J,at;Sr(T,!1),J?(J.el=be.el,Ae(T,J,K)):J=be,te&&Io(te),(at=J.props&&J.props.onVnodeBeforeUpdate)&&sn(at,de,J,be),Sr(T,!0);const ct=Jh(T),Ct=T.subTree;T.subTree=ct,V(Ct,ct,p(Ct.el),M(Ct),T,F,x),J.el=ct.el,Ie===null&&fT(T,ct.el),se&&Vt(se,F),(at=J.props&&J.props.onVnodeUpdated)&&Vt(()=>sn(at,de,J,be),F)}else{let J;const{el:te,props:se}=I,{bm:de,m:be,parent:Ie,root:at,type:ct}=T,Ct=li(I);Sr(T,!1),de&&Io(de),!Ct&&(J=se&&se.onVnodeBeforeMount)&&sn(J,Ie,I),Sr(T,!0);{at.ce&&at.ce._def.shadowRoot!==!1&&at.ce._injectChildStyle(ct);const Pt=T.subTree=Jh(T);V(null,Pt,b,O,T,F,x),I.el=Pt.el}if(be&&Vt(be,F),!Ct&&(J=se&&se.onVnodeMounted)){const Pt=I;Vt(()=>sn(J,Ie,Pt),F)}(I.shapeFlag&256||Ie&&li(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&T.a&&Vt(T.a,F),T.isMounted=!0,I=b=O=null}};T.scope.on();const j=T.effect=new Rp($);T.scope.off();const U=T.update=j.run.bind(j),re=T.job=j.runIfDirty.bind(j);re.i=T,re.id=T.uid,j.scheduler=()=>ql(re),Sr(T,!0),U()},Ae=(T,I,b)=>{I.component=T;const O=T.vnode.props;T.vnode=I,T.next=null,pT(T,I.props,O,b),yT(T,I.children,b),Pn(),qh(T),Nn()},ye=(T,I,b,O,F,x,K,$,j=!1)=>{const U=T&&T.children,re=T?T.shapeFlag:0,J=I.children,{patchFlag:te,shapeFlag:se}=I;if(te>0){if(te&128){tn(U,J,b,O,F,x,K,$,j);return}else if(te&256){It(U,J,b,O,F,x,K,$,j);return}}se&8?(re&16&&ot(U,F,x),J!==U&&f(b,J)):re&16?se&16?tn(U,J,b,O,F,x,K,$,j):ot(U,F,x,!0):(re&8&&f(b,""),se&16&&v(J,b,O,F,x,K,$,j))},It=(T,I,b,O,F,x,K,$,j)=>{T=T||as,I=I||as;const U=T.length,re=I.length,J=Math.min(U,re);let te;for(te=0;te<J;te++){const se=I[te]=j?Yn(I[te]):cn(I[te]);V(T[te],se,b,null,F,x,K,$,j)}U>re?ot(T,F,x,!0,!1,J):v(I,b,O,F,x,K,$,j,J)},tn=(T,I,b,O,F,x,K,$,j)=>{let U=0;const re=I.length;let J=T.length-1,te=re-1;for(;U<=J&&U<=te;){const se=T[U],de=I[U]=j?Yn(I[U]):cn(I[U]);if(Vr(se,de))V(se,de,b,null,F,x,K,$,j);else break;U++}for(;U<=J&&U<=te;){const se=T[J],de=I[te]=j?Yn(I[te]):cn(I[te]);if(Vr(se,de))V(se,de,b,null,F,x,K,$,j);else break;J--,te--}if(U>J){if(U<=te){const se=te+1,de=se<re?I[se].el:O;for(;U<=te;)V(null,I[U]=j?Yn(I[U]):cn(I[U]),b,de,F,x,K,$,j),U++}}else if(U>te)for(;U<=J;)tt(T[U],F,x,!0),U++;else{const se=U,de=U,be=new Map;for(U=de;U<=te;U++){const nt=I[U]=j?Yn(I[U]):cn(I[U]);nt.key!=null&&be.set(nt.key,U)}let Ie,at=0;const ct=te-de+1;let Ct=!1,Pt=0;const Ht=new Array(ct);for(U=0;U<ct;U++)Ht[U]=0;for(U=se;U<=J;U++){const nt=T[U];if(at>=ct){tt(nt,F,x,!0);continue}let Je;if(nt.key!=null)Je=be.get(nt.key);else for(Ie=de;Ie<=te;Ie++)if(Ht[Ie-de]===0&&Vr(nt,I[Ie])){Je=Ie;break}Je===void 0?tt(nt,F,x,!0):(Ht[Je-de]=U+1,Je>=Pt?Pt=Je:Ct=!0,V(nt,I[Je],b,null,F,x,K,$,j),at++)}const Kr=Ct?IT(Ht):as;for(Ie=Kr.length-1,U=ct-1;U>=0;U--){const nt=de+U,Je=I[nt],Ms=I[nt+1],Tr=nt+1<re?Ms.el||vm(Ms):O;Ht[U]===0?V(null,Je,b,Tr,F,x,K,$,j):Ct&&(Ie<0||U!==Kr[Ie]?bt(Je,b,Tr,2):Ie--)}}},bt=(T,I,b,O,F=null)=>{const{el:x,type:K,transition:$,children:j,shapeFlag:U}=T;if(U&6){bt(T.component.subTree,I,b,O);return}if(U&128){T.suspense.move(I,b,O);return}if(U&64){K.move(T,I,b,ee);return}if(K===Gt){r(x,I,b);for(let J=0;J<j.length;J++)bt(j[J],I,b,O);r(T.anchor,I,b);return}if(K===vc){H(T,I,b);return}if(O!==2&&U&1&&$)if(O===0)$.beforeEnter(x),r(x,I,b),Vt(()=>$.enter(x),F);else{const{leave:J,delayLeave:te,afterLeave:se}=$,de=()=>{T.ctx.isUnmounted?s(x):r(x,I,b)},be=()=>{x._isLeaving&&x[wn](!0),J(x,()=>{de(),se&&se()})};te?te(x,de,be):be()}else r(x,I,b)},tt=(T,I,b,O=!1,F=!1)=>{const{type:x,props:K,ref:$,children:j,dynamicChildren:U,shapeFlag:re,patchFlag:J,dirs:te,cacheIndex:se}=T;if(J===-2&&(F=!1),$!=null&&(Pn(),ci($,null,b,T,!0),Nn()),se!=null&&(I.renderCache[se]=void 0),re&256){I.ctx.deactivate(T);return}const de=re&1&&te,be=!li(T);let Ie;if(be&&(Ie=K&&K.onVnodeBeforeUnmount)&&sn(Ie,I,T),re&6)$t(T.component,b,O);else{if(re&128){T.suspense.unmount(b,O);return}de&&Rr(T,null,I,"beforeUnmount"),re&64?T.type.remove(T,I,b,ee,O):U&&!U.hasOnce&&(x!==Gt||J>0&&J&64)?ot(U,I,b,!1,!0):(x===Gt&&J&384||!F&&re&16)&&ot(j,I,b),O&&yn(T)}(be&&(Ie=K&&K.onVnodeUnmounted)||de)&&Vt(()=>{Ie&&sn(Ie,I,T),de&&Rr(T,null,I,"unmounted")},b)},yn=T=>{const{type:I,el:b,anchor:O,transition:F}=T;if(I===Gt){qt(b,O);return}if(I===vc){W(T);return}const x=()=>{s(b),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(T.shapeFlag&1&&F&&!F.persisted){const{leave:K,delayLeave:$}=F,j=()=>K(b,x);$?$(T.el,x,j):j()}else x()},qt=(T,I)=>{let b;for(;T!==I;)b=m(T),s(T),T=b;s(I)},$t=(T,I,b)=>{const{bum:O,scope:F,job:x,subTree:K,um:$,m:j,a:U}=T;Zh(j),Zh(U),O&&Io(O),F.stop(),x&&(x.flags|=8,tt(K,T,I,b)),$&&Vt($,I),Vt(()=>{T.isUnmounted=!0},I)},ot=(T,I,b,O=!1,F=!1,x=0)=>{for(let K=x;K<T.length;K++)tt(T[K],I,b,O,F)},M=T=>{if(T.shapeFlag&6)return M(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const I=m(T.anchor||T.el),b=I&&I[xE];return b?m(b):I};let Y=!1;const Q=(T,I,b)=>{let O;T==null?I._vnode&&(tt(I._vnode,null,null,!0),O=I._vnode.component):V(I._vnode||null,T,I,null,null,null,b),I._vnode=T,Y||(Y=!0,qh(O),Gp(),Y=!1)},ee={p:V,um:tt,m:bt,r:yn,mt:ve,mc:v,pc:ye,pbc:S,n:M,o:t};return{render:Q,hydrate:void 0,createApp:iT(Q)}}function Tc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Sr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function vT(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Em(t,e,n=!1){const r=t.children,s=e.children;if(ae(r)&&ae(s))for(let i=0;i<r.length;i++){const o=r[i];let c=s[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[i]=Yn(s[i]),c.el=o.el),!n&&c.patchFlag!==-2&&Em(o,c)),c.type===Ra&&(c.patchFlag!==-1?c.el=o.el:c.__elIndex=i+(t.type===Gt?1:0)),c.type===Tt&&!c.el&&(c.el=o.el)}}function IT(t){const e=t.slice(),n=[0];let r,s,i,o,c;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)c=i+o>>1,t[n[c]]<u?i=c+1:o=c;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Tm(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Tm(e)}function Zh(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function vm(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?vm(e.subTree):null}const Im=t=>t.__isSuspense;function wT(t,e){e&&e.pendingBranch?ae(t)?e.effects.push(...t):e.effects.push(t):NE(t)}const Gt=Symbol.for("v-fgt"),Ra=Symbol.for("v-txt"),Tt=Symbol.for("v-cmt"),vc=Symbol.for("v-stc"),hi=[];let Ot=null;function zl(t=!1){hi.push(Ot=t?null:[])}function AT(){hi.pop(),Ot=hi[hi.length-1]||null}let Ai=1;function $o(t,e=!1){Ai+=t,t<0&&Ot&&e&&(Ot.hasOnce=!0)}function wm(t){return t.dynamicChildren=Ai>0?Ot||as:null,AT(),Ai>0&&Ot&&Ot.push(t),t}function RT(t,e,n,r,s,i){return wm(wt(t,e,n,r,s,i,!0))}function Am(t,e,n,r,s){return wm(xt(t,e,n,r,s,!0))}function Ho(t){return t?t.__v_isVNode===!0:!1}function Vr(t,e){return t.type===e.type&&t.key===e.key}const Rm=({key:t})=>t??null,Ro=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?qe(t)||pt(t)||he(t)?{i:kt,r:t,k:e,f:!!n}:t:null);function wt(t,e=null,n=null,r=0,s=null,i=t===Gt?0:1,o=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Rm(e),ref:e&&Ro(e),scopeId:Wp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:kt};return c?(Wl(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=qe(n)?8:16),Ai>0&&!o&&Ot&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ot.push(l),l}const xt=ST;function ST(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===JE)&&(t=Tt),Ho(t)){const c=hr(t,e,!0);return n&&Wl(c,n),Ai>0&&!i&&Ot&&(c.shapeFlag&6?Ot[Ot.indexOf(t)]=c:Ot.push(c)),c.patchFlag=-2,c}if(LT(t)&&(t=t.__vccOpts),e){e=bT(e);let{class:c,style:l}=e;c&&!qe(c)&&(e.class=Ol(c)),Pe(l)&&(jl(l)&&!ae(l)&&(l=et({},l)),e.style=kl(l))}const o=qe(t)?1:Im(t)?128:Jp(t)?64:Pe(t)?4:he(t)?2:0;return wt(t,e,n,r,s,o,i,!0)}function bT(t){return t?jl(t)||dm(t)?et({},t):t:null}function hr(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:c,transition:l}=t,u=e?CT(s||{},e):s,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Rm(u),ref:e&&e.ref?n&&i?ae(i)?i.concat(Ro(e)):[i,Ro(e)]:Ro(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Gt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&hr(t.ssContent),ssFallback:t.ssFallback&&hr(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&wi(f,l.clone(f)),f}function Sm(t=" ",e=0){return xt(Ra,null,t,e)}function LP(t="",e=!1){return e?(zl(),Am(Tt,null,t)):xt(Tt,null,t)}function cn(t){return t==null||typeof t=="boolean"?xt(Tt):ae(t)?xt(Gt,null,t.slice()):Ho(t)?Yn(t):xt(Ra,null,String(t))}function Yn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:hr(t)}function Wl(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ae(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Wl(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!dm(e)?e._ctx=kt:s===3&&kt&&(kt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else he(e)?(e={default:e,_ctx:kt},n=32):(e=String(e),r&64?(n=16,e=[Sm(e)]):n=8);t.children=e,t.shapeFlag|=n}function CT(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Ol([e.class,r.class]));else if(s==="style")e.style=kl([e.style,r.style]);else if(ma(s)){const i=e[s],o=r[s];o&&i!==o&&!(ae(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function sn(t,e,n,r=null){Xt(t,e,7,[n,r])}const PT=lm();let NT=0;function VT(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||PT,i={uid:NT++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Zy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:mm(r,s),emitsOptions:um(r,s),emit:null,emitted:null,propsDefaults:Ve,inheritAttrs:r.inheritAttrs,ctx:Ve,data:Ve,props:Ve,attrs:Ve,slots:Ve,refs:Ve,setupState:Ve,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=aT.bind(null,i),t.ce&&t.ce(i),i}let ft=null;const bm=()=>ft||kt;let Go,Xc;{const t=ya(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Go=e("__VUE_INSTANCE_SETTERS__",n=>ft=n),Xc=e("__VUE_SSR_SETTERS__",n=>Ri=n)}const Bi=t=>{const e=ft;return Go(t),t.scope.on(),()=>{t.scope.off(),Go(e)}},ef=()=>{ft&&ft.scope.off(),Go(null)};function Cm(t){return t.vnode.shapeFlag&4}let Ri=!1;function DT(t,e=!1,n=!1){e&&Xc(e);const{props:r,children:s}=t.vnode,i=Cm(t);dT(t,r,i,e),_T(t,s,n||e);const o=i?kT(t,e):void 0;return e&&Xc(!1),o}function kT(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,XE);const{setup:r}=n;if(r){Pn();const s=t.setupContext=r.length>1?xT(t):null,i=Bi(t),o=Ui(r,t,0,[t.props,s]),c=yp(o);if(Nn(),i(),(c||t.sp)&&!li(t)&&rm(t),c){if(o.then(ef,ef),e)return o.then(l=>{tf(t,l)}).catch(l=>{va(l,t,0)});t.asyncDep=o}else tf(t,o)}else Pm(t)}function tf(t,e,n){he(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Pe(e)&&(t.setupState=jp(e)),Pm(t)}function Pm(t,e,n){const r=t.type;t.render||(t.render=r.render||ln);{const s=Bi(t);Pn();try{ZE(t)}finally{Nn(),s()}}}const OT={get(t,e){return ht(t,"get",""),t[e]}};function xT(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,OT),slots:t.slots,emit:t.emit,expose:e}}function Sa(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(jp(EE(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ui)return ui[n](t)},has(e,n){return n in e||n in ui}})):t.proxy}function MT(t,e=!0){return he(t)?t.displayName||t.name:t.name||e&&t.__name}function LT(t){return he(t)&&"__vccOpts"in t}const zt=(t,e)=>RE(t,e,Ri);function Kl(t,e,n){try{$o(-1);const r=arguments.length;return r===2?Pe(e)&&!ae(e)?Ho(e)?xt(t,null,[e]):xt(t,e):xt(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ho(n)&&(n=[n]),xt(t,e,n))}finally{$o(1)}}const FT="3.5.26";let Zc;const nf=typeof window<"u"&&window.trustedTypes;if(nf)try{Zc=nf.createPolicy("vue",{createHTML:t=>t})}catch{}const Nm=Zc?t=>Zc.createHTML(t):t=>t,UT="http://www.w3.org/2000/svg",BT="http://www.w3.org/1998/Math/MathML",In=typeof document<"u"?document:null,rf=In&&In.createElement("template"),jT={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?In.createElementNS(UT,t):e==="mathml"?In.createElementNS(BT,t):n?In.createElement(t,{is:n}):In.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>In.createTextNode(t),createComment:t=>In.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>In.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{rf.innerHTML=Nm(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const c=rf.content;if(r==="svg"||r==="mathml"){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}e.insertBefore(c,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},zn="transition",Xs="animation",Si=Symbol("_vtc"),Vm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},qT=et({},Yp,Vm),$T=t=>(t.displayName="Transition",t.props=qT,t),FP=$T((t,{slots:e})=>Kl(FE,HT(t),e)),br=(t,e=[])=>{ae(t)?t.forEach(n=>n(...e)):t&&t(...e)},sf=t=>t?ae(t)?t.some(e=>e.length>1):t.length>1:!1;function HT(t){const e={};for(const w in t)w in Vm||(e[w]=t[w]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:f=c,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=t,P=GT(s),V=P&&P[0],k=P&&P[1],{onBeforeEnter:q,onEnter:B,onEnterCancelled:H,onLeave:W,onLeaveCancelled:ie,onBeforeAppear:le=q,onAppear:R=B,onAppearCancelled:v=H}=e,_=(w,E,ve,Be)=>{w._enterCancelled=Be,Cr(w,E?f:c),Cr(w,E?u:o),ve&&ve()},S=(w,E)=>{w._isLeaving=!1,Cr(w,p),Cr(w,y),Cr(w,m),E&&E()},A=w=>(E,ve)=>{const Be=w?R:B,xe=()=>_(E,w,ve);br(Be,[E,xe]),of(()=>{Cr(E,w?l:i),Tn(E,w?f:c),sf(Be)||af(E,r,V,xe)})};return et(e,{onBeforeEnter(w){br(q,[w]),Tn(w,i),Tn(w,o)},onBeforeAppear(w){br(le,[w]),Tn(w,l),Tn(w,u)},onEnter:A(!1),onAppear:A(!0),onLeave(w,E){w._isLeaving=!0;const ve=()=>S(w,E);Tn(w,p),w._enterCancelled?(Tn(w,m),uf(w)):(uf(w),Tn(w,m)),of(()=>{w._isLeaving&&(Cr(w,p),Tn(w,y),sf(W)||af(w,r,k,ve))}),br(W,[w,ve])},onEnterCancelled(w){_(w,!1,void 0,!0),br(H,[w])},onAppearCancelled(w){_(w,!0,void 0,!0),br(v,[w])},onLeaveCancelled(w){S(w),br(ie,[w])}})}function GT(t){if(t==null)return null;if(Pe(t))return[Ic(t.enter),Ic(t.leave)];{const e=Ic(t);return[e,e]}}function Ic(t){return Hy(t)}function Tn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Si]||(t[Si]=new Set)).add(e)}function Cr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Si];n&&(n.delete(e),n.size||(t[Si]=void 0))}function of(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let zT=0;function af(t,e,n,r){const s=t._endId=++zT,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:c,propCount:l}=WT(t,e);if(!o)return r();const u=o+"end";let f=0;const p=()=>{t.removeEventListener(u,m),i()},m=y=>{y.target===t&&++f>=l&&p()};setTimeout(()=>{f<l&&p()},c+1),t.addEventListener(u,m)}function WT(t,e){const n=window.getComputedStyle(t),r=P=>(n[P]||"").split(", "),s=r(`${zn}Delay`),i=r(`${zn}Duration`),o=cf(s,i),c=r(`${Xs}Delay`),l=r(`${Xs}Duration`),u=cf(c,l);let f=null,p=0,m=0;e===zn?o>0&&(f=zn,p=o,m=i.length):e===Xs?u>0&&(f=Xs,p=u,m=l.length):(p=Math.max(o,u),f=p>0?o>u?zn:Xs:null,m=f?f===zn?i.length:l.length:0);const y=f===zn&&/\b(?:transform|all)(?:,|$)/.test(r(`${zn}Property`).toString());return{type:f,timeout:p,propCount:m,hasTransform:y}}function cf(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>lf(n)+lf(t[r])))}function lf(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function uf(t){return(t?t.ownerDocument:document).body.offsetHeight}function KT(t,e,n){const r=t[Si];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const hf=Symbol("_vod"),QT=Symbol("_vsh"),JT=Symbol(""),YT=/(?:^|;)\s*display\s*:/;function XT(t,e,n){const r=t.style,s=qe(n);let i=!1;if(n&&!s){if(e)if(qe(e))for(const o of e.split(";")){const c=o.slice(0,o.indexOf(":")).trim();n[c]==null&&So(r,c,"")}else for(const o in e)n[o]==null&&So(r,o,"");for(const o in n)o==="display"&&(i=!0),So(r,o,n[o])}else if(s){if(e!==n){const o=r[JT];o&&(n+=";"+o),r.cssText=n,i=YT.test(n)}}else e&&t.removeAttribute("style");hf in t&&(t[hf]=i?r.display:"",t[QT]&&(r.display="none"))}const ff=/\s*!important$/;function So(t,e,n){if(ae(n))n.forEach(r=>So(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=ZT(t,e);ff.test(n)?t.setProperty(Gr(r),n.replace(ff,""),"important"):t[r]=n}}const df=["Webkit","Moz","ms"],wc={};function ZT(t,e){const n=wc[e];if(n)return n;let r=jt(e);if(r!=="filter"&&r in t)return wc[e]=r;r=_a(r);for(let s=0;s<df.length;s++){const i=df[s]+r;if(i in t)return wc[e]=i}return e}const pf="http://www.w3.org/1999/xlink";function mf(t,e,n,r,s,i=Jy(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(pf,e.slice(6,e.length)):t.setAttributeNS(pf,e,n):n==null||i&&!Ip(n)?t.removeAttribute(e):t.setAttribute(e,i?"":mn(n)?String(n):n)}function gf(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Nm(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const c=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(c!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=Ip(n):n==null&&c==="string"?(n="",o=!0):c==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function Dr(t,e,n,r){t.addEventListener(e,n,r)}function ev(t,e,n,r){t.removeEventListener(e,n,r)}const _f=Symbol("_vei");function tv(t,e,n,r,s=null){const i=t[_f]||(t[_f]={}),o=i[e];if(r&&o)o.value=r;else{const[c,l]=nv(e);if(r){const u=i[e]=iv(r,s);Dr(t,c,u,l)}else o&&(ev(t,c,o,l),i[e]=void 0)}}const yf=/(?:Once|Passive|Capture)$/;function nv(t){let e;if(yf.test(t)){e={};let r;for(;r=t.match(yf);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Gr(t.slice(2)),e]}let Ac=0;const rv=Promise.resolve(),sv=()=>Ac||(rv.then(()=>Ac=0),Ac=Date.now());function iv(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Xt(ov(r,n.value),e,5,[r])};return n.value=t,n.attached=sv(),n}function ov(t,e){if(ae(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Ef=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,av=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?KT(t,r,o):e==="style"?XT(t,n,r):ma(e)?Pl(e)||tv(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):cv(t,e,r,o))?(gf(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&mf(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!qe(r))?gf(t,jt(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),mf(t,e,r,o))};function cv(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ef(e)&&he(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Ef(e)&&qe(n)?!1:e in t}const zo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ae(e)?n=>Io(e,n):e};function lv(t){t.target.composing=!0}function Tf(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const hs=Symbol("_assign");function vf(t,e,n){return e&&(t=t.trim()),n&&(t=Dl(t)),t}const UP={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[hs]=zo(s);const i=r||s.props&&s.props.type==="number";Dr(t,e?"change":"input",o=>{o.target.composing||t[hs](vf(t.value,n,i))}),(n||i)&&Dr(t,"change",()=>{t.value=vf(t.value,n,i)}),e||(Dr(t,"compositionstart",lv),Dr(t,"compositionend",Tf),Dr(t,"change",Tf))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[hs]=zo(o),t.composing)return;const c=(i||t.type==="number")&&!/^0\d/.test(t.value)?Dl(t.value):t.value,l=e??"";c!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},BP={created(t,{value:e},n){t.checked=Lo(e,n.props.value),t[hs]=zo(n),Dr(t,"change",()=>{t[hs](uv(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[hs]=zo(r),e!==n&&(t.checked=Lo(e,r.props.value))}};function uv(t){return"_value"in t?t._value:t.value}const hv=["ctrl","shift","alt","meta"],fv={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>hv.some(n=>t[`${n}Key`]&&!e.includes(n))},jP=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((s,...i)=>{for(let o=0;o<e.length;o++){const c=fv[e[o]];if(c&&c(s,e))return}return t(s,...i)}))},dv=et({patchProp:av},jT);let If;function pv(){return If||(If=ET(dv))}const mv=((...t)=>{const e=pv().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=_v(r);if(!s)return;const i=e._component;!he(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,gv(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e});function gv(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function _v(t){return qe(t)?document.querySelector(t):t}const ts=typeof document<"u";function Dm(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function yv(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Dm(t.default)}const Re=Object.assign;function Rc(t,e){const n={};for(const r in e){const s=e[r];n[r]=Zt(s)?s.map(t):t(s)}return n}const fi=()=>{},Zt=Array.isArray;function wf(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}const km=/#/g,Ev=/&/g,Tv=/\//g,vv=/=/g,Iv=/\?/g,Om=/\+/g,wv=/%5B/g,Av=/%5D/g,xm=/%5E/g,Rv=/%60/g,Mm=/%7B/g,Sv=/%7C/g,Lm=/%7D/g,bv=/%20/g;function Ql(t){return t==null?"":encodeURI(""+t).replace(Sv,"|").replace(wv,"[").replace(Av,"]")}function Cv(t){return Ql(t).replace(Mm,"{").replace(Lm,"}").replace(xm,"^")}function el(t){return Ql(t).replace(Om,"%2B").replace(bv,"+").replace(km,"%23").replace(Ev,"%26").replace(Rv,"`").replace(Mm,"{").replace(Lm,"}").replace(xm,"^")}function Pv(t){return el(t).replace(vv,"%3D")}function Nv(t){return Ql(t).replace(km,"%23").replace(Iv,"%3F")}function Vv(t){return Nv(t).replace(Tv,"%2F")}function bi(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Dv=/\/$/,kv=t=>t.replace(Dv,"");function Sc(t,e,n="/"){let r,s={},i="",o="";const c=e.indexOf("#");let l=e.indexOf("?");return l=c>=0&&l>c?-1:l,l>=0&&(r=e.slice(0,l),i=e.slice(l,c>0?c:e.length),s=t(i.slice(1))),c>=0&&(r=r||e.slice(0,c),o=e.slice(c,e.length)),r=Lv(r??e,n),{fullPath:r+i+o,path:r,query:s,hash:bi(o)}}function Ov(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Af(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function xv(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&_s(e.matched[r],n.matched[s])&&Fm(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function _s(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Fm(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!Mv(t[n],e[n]))return!1;return!0}function Mv(t,e){return Zt(t)?Rf(t,e):Zt(e)?Rf(e,t):t?.valueOf()===e?.valueOf()}function Rf(t,e){return Zt(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Lv(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,c;for(o=0;o<r.length;o++)if(c=r[o],c!==".")if(c==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Wn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let tl=(function(t){return t.pop="pop",t.push="push",t})({}),bc=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function Fv(t){if(!t)if(ts){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),kv(t)}const Uv=/^[^#]+#/;function Bv(t,e){return t.replace(Uv,"#")+e}function jv(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const ba=()=>({left:window.scrollX,top:window.scrollY});function qv(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=jv(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Sf(t,e){return(history.state?history.state.position-e:-1)+t}const nl=new Map;function $v(t,e){nl.set(t,e)}function Hv(t){const e=nl.get(t);return nl.delete(t),e}function Gv(t){return typeof t=="string"||t&&typeof t=="object"}function Um(t){return typeof t=="string"||typeof t=="symbol"}let Ue=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Bm=Symbol("");Ue.MATCHER_NOT_FOUND+"",Ue.NAVIGATION_GUARD_REDIRECT+"",Ue.NAVIGATION_ABORTED+"",Ue.NAVIGATION_CANCELLED+"",Ue.NAVIGATION_DUPLICATED+"";function ys(t,e){return Re(new Error,{type:t,[Bm]:!0},e)}function vn(t,e){return t instanceof Error&&Bm in t&&(e==null||!!(t.type&e))}const zv=["params","query","hash"];function Wv(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of zv)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function Kv(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const s=n[r].replace(Om," "),i=s.indexOf("="),o=bi(i<0?s:s.slice(0,i)),c=i<0?null:bi(s.slice(i+1));if(o in e){let l=e[o];Zt(l)||(l=e[o]=[l]),l.push(c)}else e[o]=c}return e}function bf(t){let e="";for(let n in t){const r=t[n];if(n=Pv(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Zt(r)?r.map(s=>s&&el(s)):[r&&el(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function Qv(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Zt(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const Jv=Symbol(""),Cf=Symbol(""),Ca=Symbol(""),Jl=Symbol(""),rl=Symbol("");function Zs(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Xn(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((c,l)=>{const u=m=>{m===!1?l(ys(Ue.NAVIGATION_ABORTED,{from:n,to:e})):m instanceof Error?l(m):Gv(m)?l(ys(Ue.NAVIGATION_GUARD_REDIRECT,{from:e,to:m})):(o&&r.enterCallbacks[s]===o&&typeof m=="function"&&o.push(m),c())},f=i(()=>t.call(r&&r.instances[s],e,n,u));let p=Promise.resolve(f);t.length<3&&(p=p.then(u)),p.catch(m=>l(m))})}function Cc(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const c in o.components){let l=o.components[c];if(!(e!=="beforeRouteEnter"&&!o.instances[c]))if(Dm(l)){const u=(l.__vccOpts||l)[e];u&&i.push(Xn(u,n,r,o,c,s))}else{let u=l();i.push(()=>u.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${c}" at "${o.path}"`);const p=yv(f)?f.default:f;o.mods[c]=f,o.components[c]=p;const m=(p.__vccOpts||p)[e];return m&&Xn(m,n,r,o,c,s)()}))}}return i}function Yv(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const c=e.matched[o];c&&(t.matched.find(u=>_s(u,c))?r.push(c):n.push(c));const l=t.matched[o];l&&(e.matched.find(u=>_s(u,l))||s.push(l))}return[n,r,s]}let Xv=()=>location.protocol+"//"+location.host;function jm(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let o=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(o);return c[0]!=="/"&&(c="/"+c),Af(c,"")}return Af(n,t)+r+s}function Zv(t,e,n,r){let s=[],i=[],o=null;const c=({state:m})=>{const y=jm(t,location),P=n.value,V=e.value;let k=0;if(m){if(n.value=y,e.value=m,o&&o===P){o=null;return}k=V?m.position-V.position:0}else r(y);s.forEach(q=>{q(n.value,P,{delta:k,type:tl.pop,direction:k?k>0?bc.forward:bc.back:bc.unknown})})};function l(){o=n.value}function u(m){s.push(m);const y=()=>{const P=s.indexOf(m);P>-1&&s.splice(P,1)};return i.push(y),y}function f(){if(document.visibilityState==="hidden"){const{history:m}=window;if(!m.state)return;m.replaceState(Re({},m.state,{scroll:ba()}),"")}}function p(){for(const m of i)m();i=[],window.removeEventListener("popstate",c),window.removeEventListener("pagehide",f),document.removeEventListener("visibilitychange",f)}return window.addEventListener("popstate",c),window.addEventListener("pagehide",f),document.addEventListener("visibilitychange",f),{pauseListeners:l,listen:u,destroy:p}}function Pf(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?ba():null}}function eI(t){const{history:e,location:n}=window,r={value:jm(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,f){const p=t.indexOf("#"),m=p>-1?(n.host&&document.querySelector("base")?t:t.slice(p))+l:Xv()+t+l;try{e[f?"replaceState":"pushState"](u,"",m),s.value=u}catch(y){console.error(y),n[f?"replace":"assign"](m)}}function o(l,u){i(l,Re({},e.state,Pf(s.value.back,l,s.value.forward,!0),u,{position:s.value.position}),!0),r.value=l}function c(l,u){const f=Re({},s.value,e.state,{forward:l,scroll:ba()});i(f.current,f,!0),i(l,Re({},Pf(r.value,l,null),{position:f.position+1},u),!1),r.value=l}return{location:r,state:s,push:c,replace:o}}function tI(t){t=Fv(t);const e=eI(t),n=Zv(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Re({location:"",base:t,go:r,createHref:Bv.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function nI(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),tI(t)}let kr=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var Ke=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(Ke||{});const rI={type:kr.Static,value:""},sI=/[a-zA-Z0-9_]/;function iI(t){if(!t)return[[]];if(t==="/")return[[rI]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${n})/"${u}": ${y}`)}let n=Ke.Static,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let c=0,l,u="",f="";function p(){u&&(n===Ke.Static?i.push({type:kr.Static,value:u}):n===Ke.Param||n===Ke.ParamRegExp||n===Ke.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:kr.Param,value:u,regexp:f,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function m(){u+=l}for(;c<t.length;){if(l=t[c++],l==="\\"&&n!==Ke.ParamRegExp){r=n,n=Ke.EscapeNext;continue}switch(n){case Ke.Static:l==="/"?(u&&p(),o()):l===":"?(p(),n=Ke.Param):m();break;case Ke.EscapeNext:m(),n=r;break;case Ke.Param:l==="("?n=Ke.ParamRegExp:sI.test(l)?m():(p(),n=Ke.Static,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case Ke.ParamRegExp:l===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+l:n=Ke.ParamRegExpEnd:f+=l;break;case Ke.ParamRegExpEnd:p(),n=Ke.Static,l!=="*"&&l!=="?"&&l!=="+"&&c--,f="";break;default:e("Unknown state");break}}return n===Ke.ParamRegExp&&e(`Unfinished custom RegExp for param "${u}"`),p(),o(),s}const Nf="[^/]+?",oI={sensitive:!1,strict:!1,start:!0,end:!0};var yt=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(yt||{});const aI=/[.+*?^${}()[\]/\\]/g;function cI(t,e){const n=Re({},oI,e),r=[];let s=n.start?"^":"";const i=[];for(const u of t){const f=u.length?[]:[yt.Root];n.strict&&!u.length&&(s+="/");for(let p=0;p<u.length;p++){const m=u[p];let y=yt.Segment+(n.sensitive?yt.BonusCaseSensitive:0);if(m.type===kr.Static)p||(s+="/"),s+=m.value.replace(aI,"\\$&"),y+=yt.Static;else if(m.type===kr.Param){const{value:P,repeatable:V,optional:k,regexp:q}=m;i.push({name:P,repeatable:V,optional:k});const B=q||Nf;if(B!==Nf){y+=yt.BonusCustomRegExp;try{`${B}`}catch(W){throw new Error(`Invalid custom RegExp for param "${P}" (${B}): `+W.message)}}let H=V?`((?:${B})(?:/(?:${B}))*)`:`(${B})`;p||(H=k&&u.length<2?`(?:/${H})`:"/"+H),k&&(H+="?"),s+=H,y+=yt.Dynamic,k&&(y+=yt.BonusOptional),V&&(y+=yt.BonusRepeatable),B===".*"&&(y+=yt.BonusWildcard)}f.push(y)}r.push(f)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=yt.BonusStrict}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function c(u){const f=u.match(o),p={};if(!f)return null;for(let m=1;m<f.length;m++){const y=f[m]||"",P=i[m-1];p[P.name]=y&&P.repeatable?y.split("/"):y}return p}function l(u){let f="",p=!1;for(const m of t){(!p||!f.endsWith("/"))&&(f+="/"),p=!1;for(const y of m)if(y.type===kr.Static)f+=y.value;else if(y.type===kr.Param){const{value:P,repeatable:V,optional:k}=y,q=P in u?u[P]:"";if(Zt(q)&&!V)throw new Error(`Provided param "${P}" is an array but it is not repeatable (* or + modifiers)`);const B=Zt(q)?q.join("/"):q;if(!B)if(k)m.length<2&&(f.endsWith("/")?f=f.slice(0,-1):p=!0);else throw new Error(`Missing required param "${P}"`);f+=B}}return f||"/"}return{re:o,score:r,keys:i,parse:c,stringify:l}}function lI(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===yt.Static+yt.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===yt.Static+yt.Segment?1:-1:0}function qm(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=lI(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Vf(r))return 1;if(Vf(s))return-1}return s.length-r.length}function Vf(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const uI={strict:!1,end:!0,sensitive:!1};function hI(t,e,n){const r=cI(iI(t.path),n),s=Re(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function fI(t,e){const n=[],r=new Map;e=wf(uI,e);function s(p){return r.get(p)}function i(p,m,y){const P=!y,V=kf(p);V.aliasOf=y&&y.record;const k=wf(e,p),q=[V];if("alias"in p){const W=typeof p.alias=="string"?[p.alias]:p.alias;for(const ie of W)q.push(kf(Re({},V,{components:y?y.record.components:V.components,path:ie,aliasOf:y?y.record:V})))}let B,H;for(const W of q){const{path:ie}=W;if(m&&ie[0]!=="/"){const le=m.record.path,R=le[le.length-1]==="/"?"":"/";W.path=m.record.path+(ie&&R+ie)}if(B=hI(W,m,k),y?y.alias.push(B):(H=H||B,H!==B&&H.alias.push(B),P&&p.name&&!Of(B)&&o(p.name)),$m(B)&&l(B),V.children){const le=V.children;for(let R=0;R<le.length;R++)i(le[R],B,y&&y.children[R])}y=y||B}return H?()=>{o(H)}:fi}function o(p){if(Um(p)){const m=r.get(p);m&&(r.delete(p),n.splice(n.indexOf(m),1),m.children.forEach(o),m.alias.forEach(o))}else{const m=n.indexOf(p);m>-1&&(n.splice(m,1),p.record.name&&r.delete(p.record.name),p.children.forEach(o),p.alias.forEach(o))}}function c(){return n}function l(p){const m=mI(p,n);n.splice(m,0,p),p.record.name&&!Of(p)&&r.set(p.record.name,p)}function u(p,m){let y,P={},V,k;if("name"in p&&p.name){if(y=r.get(p.name),!y)throw ys(Ue.MATCHER_NOT_FOUND,{location:p});k=y.record.name,P=Re(Df(m.params,y.keys.filter(H=>!H.optional).concat(y.parent?y.parent.keys.filter(H=>H.optional):[]).map(H=>H.name)),p.params&&Df(p.params,y.keys.map(H=>H.name))),V=y.stringify(P)}else if(p.path!=null)V=p.path,y=n.find(H=>H.re.test(V)),y&&(P=y.parse(V),k=y.record.name);else{if(y=m.name?r.get(m.name):n.find(H=>H.re.test(m.path)),!y)throw ys(Ue.MATCHER_NOT_FOUND,{location:p,currentLocation:m});k=y.record.name,P=Re({},m.params,p.params),V=y.stringify(P)}const q=[];let B=y;for(;B;)q.unshift(B.record),B=B.parent;return{name:k,path:V,params:P,matched:q,meta:pI(q)}}t.forEach(p=>i(p));function f(){n.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:f,getRoutes:c,getRecordMatcher:s}}function Df(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function kf(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:dI(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function dI(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Of(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function pI(t){return t.reduce((e,n)=>Re(e,n.meta),{})}function mI(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;qm(t,e[i])<0?r=i:n=i+1}const s=gI(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function gI(t){let e=t;for(;e=e.parent;)if($m(e)&&qm(t,e)===0)return e}function $m({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function xf(t){const e=Qt(Ca),n=Qt(Jl),r=zt(()=>{const l=Fr(t.to);return e.resolve(l)}),s=zt(()=>{const{matched:l}=r.value,{length:u}=l,f=l[u-1],p=n.matched;if(!f||!p.length)return-1;const m=p.findIndex(_s.bind(null,f));if(m>-1)return m;const y=Mf(l[u-2]);return u>1&&Mf(f)===y&&p[p.length-1].path!==y?p.findIndex(_s.bind(null,l[u-2])):m}),i=zt(()=>s.value>-1&&vI(n.params,r.value.params)),o=zt(()=>s.value>-1&&s.value===n.matched.length-1&&Fm(n.params,r.value.params));function c(l={}){if(TI(l)){const u=e[Fr(t.replace)?"replace":"push"](Fr(t.to)).catch(fi);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:zt(()=>r.value.href),isActive:i,isExactActive:o,navigate:c}}function _I(t){return t.length===1?t[0]:t}const yI=nm({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:xf,setup(t,{slots:e}){const n=Ta(xf(t)),{options:r}=Qt(Ca),s=zt(()=>({[Lf(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Lf(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&_I(e.default(n));return t.custom?i:Kl("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),EI=yI;function TI(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function vI(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Zt(s)||s.length!==r.length||r.some((i,o)=>i.valueOf()!==s[o].valueOf()))return!1}return!0}function Mf(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Lf=(t,e,n)=>t??e??n,II=nm({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Qt(rl),s=zt(()=>t.route||r.value),i=Qt(Cf,0),o=zt(()=>{let u=Fr(i);const{matched:f}=s.value;let p;for(;(p=f[u])&&!p.components;)u++;return u}),c=zt(()=>s.value.matched[o.value]);wo(Cf,zt(()=>o.value+1)),wo(Jv,c),wo(rl,s);const l=TE();return Ao(()=>[l.value,c.value,t.name],([u,f,p],[m,y,P])=>{f&&(f.instances[p]=u,y&&y!==f&&u&&u===m&&(f.leaveGuards.size||(f.leaveGuards=y.leaveGuards),f.updateGuards.size||(f.updateGuards=y.updateGuards))),u&&f&&(!y||!_s(f,y)||!m)&&(f.enterCallbacks[p]||[]).forEach(V=>V(u))},{flush:"post"}),()=>{const u=s.value,f=t.name,p=c.value,m=p&&p.components[f];if(!m)return Ff(n.default,{Component:m,route:u});const y=p.props[f],P=y?y===!0?u.params:typeof y=="function"?y(u):y:null,k=Kl(m,Re({},P,e,{onVnodeUnmounted:q=>{q.component.isUnmounted&&(p.instances[f]=null)},ref:l}));return Ff(n.default,{Component:k,route:u})||k}}});function Ff(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Hm=II;function wI(t){const e=fI(t.routes,t),n=t.parseQuery||Kv,r=t.stringifyQuery||bf,s=t.history,i=Zs(),o=Zs(),c=Zs(),l=vE(Wn);let u=Wn;ts&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Rc.bind(null,M=>""+M),p=Rc.bind(null,Vv),m=Rc.bind(null,bi);function y(M,Y){let Q,ee;return Um(M)?(Q=e.getRecordMatcher(M),ee=Y):ee=M,e.addRoute(ee,Q)}function P(M){const Y=e.getRecordMatcher(M);Y&&e.removeRoute(Y)}function V(){return e.getRoutes().map(M=>M.record)}function k(M){return!!e.getRecordMatcher(M)}function q(M,Y){if(Y=Re({},Y||l.value),typeof M=="string"){const b=Sc(n,M,Y.path),O=e.resolve({path:b.path},Y),F=s.createHref(b.fullPath);return Re(b,O,{params:m(O.params),hash:bi(b.hash),redirectedFrom:void 0,href:F})}let Q;if(M.path!=null)Q=Re({},M,{path:Sc(n,M.path,Y.path).path});else{const b=Re({},M.params);for(const O in b)b[O]==null&&delete b[O];Q=Re({},M,{params:p(b)}),Y.params=p(Y.params)}const ee=e.resolve(Q,Y),pe=M.hash||"";ee.params=f(m(ee.params));const T=Ov(r,Re({},M,{hash:Cv(pe),path:ee.path})),I=s.createHref(T);return Re({fullPath:T,hash:pe,query:r===bf?Qv(M.query):M.query||{}},ee,{redirectedFrom:void 0,href:I})}function B(M){return typeof M=="string"?Sc(n,M,l.value.path):Re({},M)}function H(M,Y){if(u!==M)return ys(Ue.NAVIGATION_CANCELLED,{from:Y,to:M})}function W(M){return R(M)}function ie(M){return W(Re(B(M),{replace:!0}))}function le(M,Y){const Q=M.matched[M.matched.length-1];if(Q&&Q.redirect){const{redirect:ee}=Q;let pe=typeof ee=="function"?ee(M,Y):ee;return typeof pe=="string"&&(pe=pe.includes("?")||pe.includes("#")?pe=B(pe):{path:pe},pe.params={}),Re({query:M.query,hash:M.hash,params:pe.path!=null?{}:M.params},pe)}}function R(M,Y){const Q=u=q(M),ee=l.value,pe=M.state,T=M.force,I=M.replace===!0,b=le(Q,ee);if(b)return R(Re(B(b),{state:typeof b=="object"?Re({},pe,b.state):pe,force:T,replace:I}),Y||Q);const O=Q;O.redirectedFrom=Y;let F;return!T&&xv(r,ee,Q)&&(F=ys(Ue.NAVIGATION_DUPLICATED,{to:O,from:ee}),bt(ee,ee,!0,!1)),(F?Promise.resolve(F):S(O,ee)).catch(x=>vn(x)?vn(x,Ue.NAVIGATION_GUARD_REDIRECT)?x:tn(x):ye(x,O,ee)).then(x=>{if(x){if(vn(x,Ue.NAVIGATION_GUARD_REDIRECT))return R(Re({replace:I},B(x.to),{state:typeof x.to=="object"?Re({},pe,x.to.state):pe,force:T}),Y||O)}else x=w(O,ee,!0,I,pe);return A(O,ee,x),x})}function v(M,Y){const Q=H(M,Y);return Q?Promise.reject(Q):Promise.resolve()}function _(M){const Y=qt.values().next().value;return Y&&typeof Y.runWithContext=="function"?Y.runWithContext(M):M()}function S(M,Y){let Q;const[ee,pe,T]=Yv(M,Y);Q=Cc(ee.reverse(),"beforeRouteLeave",M,Y);for(const b of ee)b.leaveGuards.forEach(O=>{Q.push(Xn(O,M,Y))});const I=v.bind(null,M,Y);return Q.push(I),ot(Q).then(()=>{Q=[];for(const b of i.list())Q.push(Xn(b,M,Y));return Q.push(I),ot(Q)}).then(()=>{Q=Cc(pe,"beforeRouteUpdate",M,Y);for(const b of pe)b.updateGuards.forEach(O=>{Q.push(Xn(O,M,Y))});return Q.push(I),ot(Q)}).then(()=>{Q=[];for(const b of T)if(b.beforeEnter)if(Zt(b.beforeEnter))for(const O of b.beforeEnter)Q.push(Xn(O,M,Y));else Q.push(Xn(b.beforeEnter,M,Y));return Q.push(I),ot(Q)}).then(()=>(M.matched.forEach(b=>b.enterCallbacks={}),Q=Cc(T,"beforeRouteEnter",M,Y,_),Q.push(I),ot(Q))).then(()=>{Q=[];for(const b of o.list())Q.push(Xn(b,M,Y));return Q.push(I),ot(Q)}).catch(b=>vn(b,Ue.NAVIGATION_CANCELLED)?b:Promise.reject(b))}function A(M,Y,Q){c.list().forEach(ee=>_(()=>ee(M,Y,Q)))}function w(M,Y,Q,ee,pe){const T=H(M,Y);if(T)return T;const I=Y===Wn,b=ts?history.state:{};Q&&(ee||I?s.replace(M.fullPath,Re({scroll:I&&b&&b.scroll},pe)):s.push(M.fullPath,pe)),l.value=M,bt(M,Y,Q,I),tn()}let E;function ve(){E||(E=s.listen((M,Y,Q)=>{if(!$t.listening)return;const ee=q(M),pe=le(ee,$t.currentRoute.value);if(pe){R(Re(pe,{replace:!0,force:!0}),ee).catch(fi);return}u=ee;const T=l.value;ts&&$v(Sf(T.fullPath,Q.delta),ba()),S(ee,T).catch(I=>vn(I,Ue.NAVIGATION_ABORTED|Ue.NAVIGATION_CANCELLED)?I:vn(I,Ue.NAVIGATION_GUARD_REDIRECT)?(R(Re(B(I.to),{force:!0}),ee).then(b=>{vn(b,Ue.NAVIGATION_ABORTED|Ue.NAVIGATION_DUPLICATED)&&!Q.delta&&Q.type===tl.pop&&s.go(-1,!1)}).catch(fi),Promise.reject()):(Q.delta&&s.go(-Q.delta,!1),ye(I,ee,T))).then(I=>{I=I||w(ee,T,!1),I&&(Q.delta&&!vn(I,Ue.NAVIGATION_CANCELLED)?s.go(-Q.delta,!1):Q.type===tl.pop&&vn(I,Ue.NAVIGATION_ABORTED|Ue.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),A(ee,T,I)}).catch(fi)}))}let Be=Zs(),xe=Zs(),Ae;function ye(M,Y,Q){tn(M);const ee=xe.list();return ee.length?ee.forEach(pe=>pe(M,Y,Q)):console.error(M),Promise.reject(M)}function It(){return Ae&&l.value!==Wn?Promise.resolve():new Promise((M,Y)=>{Be.add([M,Y])})}function tn(M){return Ae||(Ae=!M,ve(),Be.list().forEach(([Y,Q])=>M?Q(M):Y()),Be.reset()),M}function bt(M,Y,Q,ee){const{scrollBehavior:pe}=t;if(!ts||!pe)return Promise.resolve();const T=!Q&&Hv(Sf(M.fullPath,0))||(ee||!Q)&&history.state&&history.state.scroll||null;return $p().then(()=>pe(M,Y,T)).then(I=>I&&qv(I)).catch(I=>ye(I,M,Y))}const tt=M=>s.go(M);let yn;const qt=new Set,$t={currentRoute:l,listening:!0,addRoute:y,removeRoute:P,clearRoutes:e.clearRoutes,hasRoute:k,getRoutes:V,resolve:q,options:t,push:W,replace:ie,go:tt,back:()=>tt(-1),forward:()=>tt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:c.add,onError:xe.add,isReady:It,install(M){M.component("RouterLink",EI),M.component("RouterView",Hm),M.config.globalProperties.$router=$t,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>Fr(l)}),ts&&!yn&&l.value===Wn&&(yn=!0,W(s.location).catch(ee=>{}));const Y={};for(const ee in Wn)Object.defineProperty(Y,ee,{get:()=>l.value[ee],enumerable:!0});M.provide(Ca,$t),M.provide(Jl,Up(Y)),M.provide(rl,l);const Q=M.unmount;qt.add(M),M.unmount=function(){qt.delete(M),qt.size<1&&(u=Wn,E&&E(),E=null,l.value=Wn,yn=!1,Ae=!1),Q()}}};function ot(M){return M.reduce((Y,Q)=>Y.then(()=>_(Q)),Promise.resolve())}return $t}function AI(){return Qt(Ca)}function qP(t){return Qt(Jl)}const RI={__name:"App",setup(t){return(e,n)=>(zl(),Am(Fr(Hm)))}},SI="modulepreload",bI=function(t){return"/"+t},Uf={},Zr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");s=l(n.map(u=>{if(u=bI(u),u in Uf)return;Uf[u]=!0;const f=u.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":SI,f||(m.as="script"),m.crossOrigin="",m.href=u,c&&m.setAttribute("nonce",c),document.head.appendChild(m),f)return new Promise((y,P)=>{m.addEventListener("load",y),m.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},CI="/assets/logo2-CefVcnt0.png",PI=()=>{};var Bf={};const Gm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},NI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],c=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},zm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,c=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,f=i>>2,p=(i&3)<<4|c>>4;let m=(c&15)<<2|u>>6,y=u&63;l||(y=64,o||(m=64)),r.push(n[f],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Gm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||u==null||p==null)throw new VI;const m=i<<2|c>>4;if(r.push(m),u!==64){const y=c<<4&240|u>>2;if(r.push(y),p!==64){const P=u<<6&192|p;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DI=function(t){const e=Gm(t);return zm.encodeByteArray(e,!0)},Wo=function(t){return DI(t).replace(/\./g,"")},Wm=function(t){try{return zm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const OI=()=>kI().__FIREBASE_DEFAULTS__,xI=()=>{if(typeof process>"u"||typeof Bf>"u")return;const t=Bf.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Wm(t[1]);return e&&JSON.parse(e)},Pa=()=>{try{return PI()||OI()||xI()||MI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Km=t=>Pa()?.emulatorHosts?.[t],LI=t=>{const e=Km(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Qm=()=>Pa()?.config,Jm=t=>Pa()?.[`_${t}`];class FI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function bs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ym(t){return(await fetch(t,{credentials:"include"})).ok}function UI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wo(JSON.stringify(n)),Wo(JSON.stringify(o)),""].join(".")}const di={};function BI(){const t={prod:[],emulator:[]};for(const e of Object.keys(di))di[e]?t.emulator.push(e):t.prod.push(e);return t}function jI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let jf=!1;function Xm(t,e){if(typeof window>"u"||typeof document>"u"||!bs(window.location.host)||di[t]===e||di[t]||jf)return;di[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=BI().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{jf=!0,o()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=jI(r),y=n("text"),P=document.getElementById(y)||document.createElement("span"),V=n("learnmore"),k=document.getElementById(V)||document.createElement("a"),q=n("preprendIcon"),B=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const H=m.element;c(H),f(k,V);const W=u();l(B,q),H.append(B,P,k,W),document.body.appendChild(H)}i?(P.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function $I(){const t=Pa()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WI(){const t=mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KI(){return!$I()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QI(){try{return typeof indexedDB=="object"}catch{return!1}}function JI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}const YI="FirebaseError";class Fn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YI,Object.setPrototypeOf(this,Fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ji.prototype.create)}}class ji{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?XI(i,r):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new Fn(s,c,r)}}function XI(t,e){return t.replace(ZI,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const ZI=/\{\$([^}]+)}/g;function ew(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Br(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(qf(i)&&qf(o)){if(!Br(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function qf(t){return t!==null&&typeof t=="object"}function qi(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tw(t,e){const n=new nw(t,e);return n.subscribe.bind(n)}class nw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rw(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Pc),s.error===void 0&&(s.error=Pc),s.complete===void 0&&(s.complete=Pc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rw(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pc(){}function ze(t){return t&&t._delegate?t._delegate:t}class jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Nr="[DEFAULT]";class sw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new FI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ow(e))try{this.getOrInitializeService({instanceIdentifier:Nr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Nr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nr){return this.instances.has(e)}getOptions(e=Nr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Nr){return this.component?this.component.multipleInstances?e:Nr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iw(t){return t===Nr?void 0:t}function ow(t){return t.instantiationMode==="EAGER"}class aw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const cw={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},lw=me.INFO,uw={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},hw=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=uw[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yl{constructor(e){this.name=e,this._logLevel=lw,this._logHandler=hw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const fw=(t,e)=>e.some(n=>t instanceof n);let $f,Hf;function dw(){return $f||($f=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pw(){return Hf||(Hf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zm=new WeakMap,sl=new WeakMap,eg=new WeakMap,Nc=new WeakMap,Xl=new WeakMap;function mw(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(sr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Zm.set(n,t)}).catch(()=>{}),Xl.set(e,t),e}function gw(t){if(sl.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});sl.set(t,e)}let il={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _w(t){il=t(il)}function yw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vc(this),e,...n);return eg.set(r,e.sort?e.sort():[e]),sr(r)}:pw().includes(t)?function(...e){return t.apply(Vc(this),e),sr(Zm.get(this))}:function(...e){return sr(t.apply(Vc(this),e))}}function Ew(t){return typeof t=="function"?yw(t):(t instanceof IDBTransaction&&gw(t),fw(t,dw())?new Proxy(t,il):t)}function sr(t){if(t instanceof IDBRequest)return mw(t);if(Nc.has(t))return Nc.get(t);const e=Ew(t);return e!==t&&(Nc.set(t,e),Xl.set(e,t)),e}const Vc=t=>Xl.get(t);function Tw(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),c=sr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(sr(o.result),l.oldVersion,l.newVersion,sr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const vw=["get","getKey","getAll","getAllKeys","count"],Iw=["put","add","delete","clear"],Dc=new Map;function Gf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dc.get(e))return Dc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Iw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||vw.includes(n)))return;const i=async function(o,...c){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),s&&l.done]))[0]};return Dc.set(e,i),i}_w(t=>({...t,get:(e,n,r)=>Gf(e,n)||t.get(e,n,r),has:(e,n)=>!!Gf(e,n)||t.has(e,n)}));class ww{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Aw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Aw(t){return t.getComponent()?.type==="VERSION"}const ol="@firebase/app",zf="0.14.6";const Dn=new Yl("@firebase/app"),Rw="@firebase/app-compat",Sw="@firebase/analytics-compat",bw="@firebase/analytics",Cw="@firebase/app-check-compat",Pw="@firebase/app-check",Nw="@firebase/auth",Vw="@firebase/auth-compat",Dw="@firebase/database",kw="@firebase/data-connect",Ow="@firebase/database-compat",xw="@firebase/functions",Mw="@firebase/functions-compat",Lw="@firebase/installations",Fw="@firebase/installations-compat",Uw="@firebase/messaging",Bw="@firebase/messaging-compat",jw="@firebase/performance",qw="@firebase/performance-compat",$w="@firebase/remote-config",Hw="@firebase/remote-config-compat",Gw="@firebase/storage",zw="@firebase/storage-compat",Ww="@firebase/firestore",Kw="@firebase/ai",Qw="@firebase/firestore-compat",Jw="firebase",Yw="12.6.0";const al="[DEFAULT]",Xw={[ol]:"fire-core",[Rw]:"fire-core-compat",[bw]:"fire-analytics",[Sw]:"fire-analytics-compat",[Pw]:"fire-app-check",[Cw]:"fire-app-check-compat",[Nw]:"fire-auth",[Vw]:"fire-auth-compat",[Dw]:"fire-rtdb",[kw]:"fire-data-connect",[Ow]:"fire-rtdb-compat",[xw]:"fire-fn",[Mw]:"fire-fn-compat",[Lw]:"fire-iid",[Fw]:"fire-iid-compat",[Uw]:"fire-fcm",[Bw]:"fire-fcm-compat",[jw]:"fire-perf",[qw]:"fire-perf-compat",[$w]:"fire-rc",[Hw]:"fire-rc-compat",[Gw]:"fire-gcs",[zw]:"fire-gcs-compat",[Ww]:"fire-fst",[Qw]:"fire-fst-compat",[Kw]:"fire-vertex","fire-js":"fire-js",[Jw]:"fire-js-all"};const Ko=new Map,Zw=new Map,cl=new Map;function Wf(t,e){try{t.container.addComponent(e)}catch(n){Dn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Es(t){const e=t.name;if(cl.has(e))return Dn.debug(`There were multiple attempts to register component ${e}.`),!1;cl.set(e,t);for(const n of Ko.values())Wf(n,t);for(const n of Zw.values())Wf(n,t);return!0}function Zl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ut(t){return t==null?!1:t.settings!==void 0}const eA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new ji("app","Firebase",eA);class tA{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}const Cs=Yw;function tg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:al,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ir.create("bad-app-name",{appName:String(s)});if(n||(n=Qm()),!n)throw ir.create("no-options");const i=Ko.get(s);if(i){if(Br(n,i.options)&&Br(r,i.config))return i;throw ir.create("duplicate-app",{appName:s})}const o=new aw(s);for(const l of cl.values())o.addComponent(l);const c=new tA(n,r,o);return Ko.set(s,c),c}function ng(t=al){const e=Ko.get(t);if(!e&&t===al&&Qm())return tg();if(!e)throw ir.create("no-app",{appName:t});return e}function or(t,e,n){let r=Xw[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dn.warn(o.join(" "));return}Es(new jr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const nA="firebase-heartbeat-database",rA=1,Ci="firebase-heartbeat-store";let kc=null;function rg(){return kc||(kc=Tw(nA,rA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ci)}catch(n){console.warn(n)}}}}).catch(t=>{throw ir.create("idb-open",{originalErrorMessage:t.message})})),kc}async function sA(t){try{const n=(await rg()).transaction(Ci),r=await n.objectStore(Ci).get(sg(t));return await n.done,r}catch(e){if(e instanceof Fn)Dn.warn(e.message);else{const n=ir.create("idb-get",{originalErrorMessage:e?.message});Dn.warn(n.message)}}}async function Kf(t,e){try{const r=(await rg()).transaction(Ci,"readwrite");await r.objectStore(Ci).put(e,sg(t)),await r.done}catch(n){if(n instanceof Fn)Dn.warn(n.message);else{const r=ir.create("idb-set",{originalErrorMessage:n?.message});Dn.warn(r.message)}}}function sg(t){return`${t.name}!${t.options.appId}`}const iA=1024,oA=30;class aA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Qf();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>oA){const s=uA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Dn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Qf(),{heartbeatsToSend:n,unsentEntries:r}=cA(this._heartbeatsCache.heartbeats),s=Wo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Dn.warn(e),""}}}function Qf(){return new Date().toISOString().substring(0,10)}function cA(t,e=iA){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Jf(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Jf(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QI()?JI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Kf(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Kf(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Jf(t){return Wo(JSON.stringify({version:2,heartbeats:t})).length}function uA(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function hA(t){Es(new jr("platform-logger",e=>new ww(e),"PRIVATE")),Es(new jr("heartbeat",e=>new aA(e),"PRIVATE")),or(ol,zf,t),or(ol,zf,"esm2020"),or("fire-js","")}hA("");var fA="firebase",dA="12.7.0";or(fA,dA,"app");var Yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ar,ig;(function(){var t;function e(R,v){function _(){}_.prototype=v.prototype,R.F=v.prototype,R.prototype=new _,R.prototype.constructor=R,R.D=function(S,A,w){for(var E=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)E[ve-2]=arguments[ve];return v.prototype[A].apply(S,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,v,_){_||(_=0);const S=Array(16);if(typeof v=="string")for(var A=0;A<16;++A)S[A]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(A=0;A<16;++A)S[A]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=R.g[0],_=R.g[1],A=R.g[2];let w=R.g[3],E;E=v+(w^_&(A^w))+S[0]+3614090360&4294967295,v=_+(E<<7&4294967295|E>>>25),E=w+(A^v&(_^A))+S[1]+3905402710&4294967295,w=v+(E<<12&4294967295|E>>>20),E=A+(_^w&(v^_))+S[2]+606105819&4294967295,A=w+(E<<17&4294967295|E>>>15),E=_+(v^A&(w^v))+S[3]+3250441966&4294967295,_=A+(E<<22&4294967295|E>>>10),E=v+(w^_&(A^w))+S[4]+4118548399&4294967295,v=_+(E<<7&4294967295|E>>>25),E=w+(A^v&(_^A))+S[5]+1200080426&4294967295,w=v+(E<<12&4294967295|E>>>20),E=A+(_^w&(v^_))+S[6]+2821735955&4294967295,A=w+(E<<17&4294967295|E>>>15),E=_+(v^A&(w^v))+S[7]+4249261313&4294967295,_=A+(E<<22&4294967295|E>>>10),E=v+(w^_&(A^w))+S[8]+1770035416&4294967295,v=_+(E<<7&4294967295|E>>>25),E=w+(A^v&(_^A))+S[9]+2336552879&4294967295,w=v+(E<<12&4294967295|E>>>20),E=A+(_^w&(v^_))+S[10]+4294925233&4294967295,A=w+(E<<17&4294967295|E>>>15),E=_+(v^A&(w^v))+S[11]+2304563134&4294967295,_=A+(E<<22&4294967295|E>>>10),E=v+(w^_&(A^w))+S[12]+1804603682&4294967295,v=_+(E<<7&4294967295|E>>>25),E=w+(A^v&(_^A))+S[13]+4254626195&4294967295,w=v+(E<<12&4294967295|E>>>20),E=A+(_^w&(v^_))+S[14]+2792965006&4294967295,A=w+(E<<17&4294967295|E>>>15),E=_+(v^A&(w^v))+S[15]+1236535329&4294967295,_=A+(E<<22&4294967295|E>>>10),E=v+(A^w&(_^A))+S[1]+4129170786&4294967295,v=_+(E<<5&4294967295|E>>>27),E=w+(_^A&(v^_))+S[6]+3225465664&4294967295,w=v+(E<<9&4294967295|E>>>23),E=A+(v^_&(w^v))+S[11]+643717713&4294967295,A=w+(E<<14&4294967295|E>>>18),E=_+(w^v&(A^w))+S[0]+3921069994&4294967295,_=A+(E<<20&4294967295|E>>>12),E=v+(A^w&(_^A))+S[5]+3593408605&4294967295,v=_+(E<<5&4294967295|E>>>27),E=w+(_^A&(v^_))+S[10]+38016083&4294967295,w=v+(E<<9&4294967295|E>>>23),E=A+(v^_&(w^v))+S[15]+3634488961&4294967295,A=w+(E<<14&4294967295|E>>>18),E=_+(w^v&(A^w))+S[4]+3889429448&4294967295,_=A+(E<<20&4294967295|E>>>12),E=v+(A^w&(_^A))+S[9]+568446438&4294967295,v=_+(E<<5&4294967295|E>>>27),E=w+(_^A&(v^_))+S[14]+3275163606&4294967295,w=v+(E<<9&4294967295|E>>>23),E=A+(v^_&(w^v))+S[3]+4107603335&4294967295,A=w+(E<<14&4294967295|E>>>18),E=_+(w^v&(A^w))+S[8]+1163531501&4294967295,_=A+(E<<20&4294967295|E>>>12),E=v+(A^w&(_^A))+S[13]+2850285829&4294967295,v=_+(E<<5&4294967295|E>>>27),E=w+(_^A&(v^_))+S[2]+4243563512&4294967295,w=v+(E<<9&4294967295|E>>>23),E=A+(v^_&(w^v))+S[7]+1735328473&4294967295,A=w+(E<<14&4294967295|E>>>18),E=_+(w^v&(A^w))+S[12]+2368359562&4294967295,_=A+(E<<20&4294967295|E>>>12),E=v+(_^A^w)+S[5]+4294588738&4294967295,v=_+(E<<4&4294967295|E>>>28),E=w+(v^_^A)+S[8]+2272392833&4294967295,w=v+(E<<11&4294967295|E>>>21),E=A+(w^v^_)+S[11]+1839030562&4294967295,A=w+(E<<16&4294967295|E>>>16),E=_+(A^w^v)+S[14]+4259657740&4294967295,_=A+(E<<23&4294967295|E>>>9),E=v+(_^A^w)+S[1]+2763975236&4294967295,v=_+(E<<4&4294967295|E>>>28),E=w+(v^_^A)+S[4]+1272893353&4294967295,w=v+(E<<11&4294967295|E>>>21),E=A+(w^v^_)+S[7]+4139469664&4294967295,A=w+(E<<16&4294967295|E>>>16),E=_+(A^w^v)+S[10]+3200236656&4294967295,_=A+(E<<23&4294967295|E>>>9),E=v+(_^A^w)+S[13]+681279174&4294967295,v=_+(E<<4&4294967295|E>>>28),E=w+(v^_^A)+S[0]+3936430074&4294967295,w=v+(E<<11&4294967295|E>>>21),E=A+(w^v^_)+S[3]+3572445317&4294967295,A=w+(E<<16&4294967295|E>>>16),E=_+(A^w^v)+S[6]+76029189&4294967295,_=A+(E<<23&4294967295|E>>>9),E=v+(_^A^w)+S[9]+3654602809&4294967295,v=_+(E<<4&4294967295|E>>>28),E=w+(v^_^A)+S[12]+3873151461&4294967295,w=v+(E<<11&4294967295|E>>>21),E=A+(w^v^_)+S[15]+530742520&4294967295,A=w+(E<<16&4294967295|E>>>16),E=_+(A^w^v)+S[2]+3299628645&4294967295,_=A+(E<<23&4294967295|E>>>9),E=v+(A^(_|~w))+S[0]+4096336452&4294967295,v=_+(E<<6&4294967295|E>>>26),E=w+(_^(v|~A))+S[7]+1126891415&4294967295,w=v+(E<<10&4294967295|E>>>22),E=A+(v^(w|~_))+S[14]+2878612391&4294967295,A=w+(E<<15&4294967295|E>>>17),E=_+(w^(A|~v))+S[5]+4237533241&4294967295,_=A+(E<<21&4294967295|E>>>11),E=v+(A^(_|~w))+S[12]+1700485571&4294967295,v=_+(E<<6&4294967295|E>>>26),E=w+(_^(v|~A))+S[3]+2399980690&4294967295,w=v+(E<<10&4294967295|E>>>22),E=A+(v^(w|~_))+S[10]+4293915773&4294967295,A=w+(E<<15&4294967295|E>>>17),E=_+(w^(A|~v))+S[1]+2240044497&4294967295,_=A+(E<<21&4294967295|E>>>11),E=v+(A^(_|~w))+S[8]+1873313359&4294967295,v=_+(E<<6&4294967295|E>>>26),E=w+(_^(v|~A))+S[15]+4264355552&4294967295,w=v+(E<<10&4294967295|E>>>22),E=A+(v^(w|~_))+S[6]+2734768916&4294967295,A=w+(E<<15&4294967295|E>>>17),E=_+(w^(A|~v))+S[13]+1309151649&4294967295,_=A+(E<<21&4294967295|E>>>11),E=v+(A^(_|~w))+S[4]+4149444226&4294967295,v=_+(E<<6&4294967295|E>>>26),E=w+(_^(v|~A))+S[11]+3174756917&4294967295,w=v+(E<<10&4294967295|E>>>22),E=A+(v^(w|~_))+S[2]+718787259&4294967295,A=w+(E<<15&4294967295|E>>>17),E=_+(w^(A|~v))+S[9]+3951481745&4294967295,R.g[0]=R.g[0]+v&4294967295,R.g[1]=R.g[1]+(A+(E<<21&4294967295|E>>>11))&4294967295,R.g[2]=R.g[2]+A&4294967295,R.g[3]=R.g[3]+w&4294967295}r.prototype.v=function(R,v){v===void 0&&(v=R.length);const _=v-this.blockSize,S=this.C;let A=this.h,w=0;for(;w<v;){if(A==0)for(;w<=_;)s(this,R,w),w+=this.blockSize;if(typeof R=="string"){for(;w<v;)if(S[A++]=R.charCodeAt(w++),A==this.blockSize){s(this,S),A=0;break}}else for(;w<v;)if(S[A++]=R[w++],A==this.blockSize){s(this,S),A=0;break}}this.h=A,this.o+=v},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var v=1;v<R.length-8;++v)R[v]=0;v=this.o*8;for(var _=R.length-8;_<R.length;++_)R[_]=v&255,v/=256;for(this.v(R),R=Array(16),v=0,_=0;_<4;++_)for(let S=0;S<32;S+=8)R[v++]=this.g[_]>>>S&255;return R};function i(R,v){var _=c;return Object.prototype.hasOwnProperty.call(_,R)?_[R]:_[R]=v(R)}function o(R,v){this.h=v;const _=[];let S=!0;for(let A=R.length-1;A>=0;A--){const w=R[A]|0;S&&w==v||(_[A]=w,S=!1)}this.g=_}var c={};function l(R){return-128<=R&&R<128?i(R,function(v){return new o([v|0],v<0?-1:0)}):new o([R|0],R<0?-1:0)}function u(R){if(isNaN(R)||!isFinite(R))return p;if(R<0)return k(u(-R));const v=[];let _=1;for(let S=0;R>=_;S++)v[S]=R/_|0,_*=4294967296;return new o(v,0)}function f(R,v){if(R.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(R.charAt(0)=="-")return k(f(R.substring(1),v));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _=u(Math.pow(v,8));let S=p;for(let w=0;w<R.length;w+=8){var A=Math.min(8,R.length-w);const E=parseInt(R.substring(w,w+A),v);A<8?(A=u(Math.pow(v,A)),S=S.j(A).add(u(E))):(S=S.j(_),S=S.add(u(E)))}return S}var p=l(0),m=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(V(this))return-k(this).m();let R=0,v=1;for(let _=0;_<this.g.length;_++){const S=this.i(_);R+=(S>=0?S:4294967296+S)*v,v*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(V(this))return"-"+k(this).toString(R);const v=u(Math.pow(R,6));var _=this;let S="";for(;;){const A=W(_,v).g;_=q(_,A.j(v));let w=((_.g.length>0?_.g[0]:_.h)>>>0).toString(R);if(_=A,P(_))return w+S;for(;w.length<6;)w="0"+w;S=w+S}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(let v=0;v<R.g.length;v++)if(R.g[v]!=0)return!1;return!0}function V(R){return R.h==-1}t.l=function(R){return R=q(this,R),V(R)?-1:P(R)?0:1};function k(R){const v=R.g.length,_=[];for(let S=0;S<v;S++)_[S]=~R.g[S];return new o(_,~R.h).add(m)}t.abs=function(){return V(this)?k(this):this},t.add=function(R){const v=Math.max(this.g.length,R.g.length),_=[];let S=0;for(let A=0;A<=v;A++){let w=S+(this.i(A)&65535)+(R.i(A)&65535),E=(w>>>16)+(this.i(A)>>>16)+(R.i(A)>>>16);S=E>>>16,w&=65535,E&=65535,_[A]=E<<16|w}return new o(_,_[_.length-1]&-2147483648?-1:0)};function q(R,v){return R.add(k(v))}t.j=function(R){if(P(this)||P(R))return p;if(V(this))return V(R)?k(this).j(k(R)):k(k(this).j(R));if(V(R))return k(this.j(k(R)));if(this.l(y)<0&&R.l(y)<0)return u(this.m()*R.m());const v=this.g.length+R.g.length,_=[];for(var S=0;S<2*v;S++)_[S]=0;for(S=0;S<this.g.length;S++)for(let A=0;A<R.g.length;A++){const w=this.i(S)>>>16,E=this.i(S)&65535,ve=R.i(A)>>>16,Be=R.i(A)&65535;_[2*S+2*A]+=E*Be,B(_,2*S+2*A),_[2*S+2*A+1]+=w*Be,B(_,2*S+2*A+1),_[2*S+2*A+1]+=E*ve,B(_,2*S+2*A+1),_[2*S+2*A+2]+=w*ve,B(_,2*S+2*A+2)}for(R=0;R<v;R++)_[R]=_[2*R+1]<<16|_[2*R];for(R=v;R<2*v;R++)_[R]=0;return new o(_,0)};function B(R,v){for(;(R[v]&65535)!=R[v];)R[v+1]+=R[v]>>>16,R[v]&=65535,v++}function H(R,v){this.g=R,this.h=v}function W(R,v){if(P(v))throw Error("division by zero");if(P(R))return new H(p,p);if(V(R))return v=W(k(R),v),new H(k(v.g),k(v.h));if(V(v))return v=W(R,k(v)),new H(k(v.g),v.h);if(R.g.length>30){if(V(R)||V(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,S=v;S.l(R)<=0;)_=ie(_),S=ie(S);var A=le(_,1),w=le(S,1);for(S=le(S,2),_=le(_,2);!P(S);){var E=w.add(S);E.l(R)<=0&&(A=A.add(_),w=E),S=le(S,1),_=le(_,1)}return v=q(R,A.j(v)),new H(A,v)}for(A=p;R.l(v)>=0;){for(_=Math.max(1,Math.floor(R.m()/v.m())),S=Math.ceil(Math.log(_)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),w=u(_),E=w.j(v);V(E)||E.l(R)>0;)_-=S,w=u(_),E=w.j(v);P(w)&&(w=m),A=A.add(w),R=q(R,E)}return new H(A,R)}t.B=function(R){return W(this,R).h},t.and=function(R){const v=Math.max(this.g.length,R.g.length),_=[];for(let S=0;S<v;S++)_[S]=this.i(S)&R.i(S);return new o(_,this.h&R.h)},t.or=function(R){const v=Math.max(this.g.length,R.g.length),_=[];for(let S=0;S<v;S++)_[S]=this.i(S)|R.i(S);return new o(_,this.h|R.h)},t.xor=function(R){const v=Math.max(this.g.length,R.g.length),_=[];for(let S=0;S<v;S++)_[S]=this.i(S)^R.i(S);return new o(_,this.h^R.h)};function ie(R){const v=R.g.length+1,_=[];for(let S=0;S<v;S++)_[S]=R.i(S)<<1|R.i(S-1)>>>31;return new o(_,R.h)}function le(R,v){const _=v>>5;v%=32;const S=R.g.length-_,A=[];for(let w=0;w<S;w++)A[w]=v>0?R.i(w+_)>>>v|R.i(w+_+1)<<32-v:R.i(w+_);return new o(A,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ig=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,ar=o}).apply(typeof Yf<"u"?Yf:typeof self<"u"?self:typeof window<"u"?window:{});var go=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var og,ti,ag,bo,ll,cg,lg,ug;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof go=="object"&&go];for(var h=0;h<a.length;++h){var d=a[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function s(a,h){if(h)e:{var d=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var C=a[g];if(!(C in d))break e;d=d[C]}a=a[a.length-1],g=d[a],h=h(g),h!=g&&h!=null&&e(d,a,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(a){return a||function(h){var d=[],g;for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&d.push([g,h[g]]);return d}});var i=i||{},o=this||self;function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function l(a,h,d){return a.call.apply(a.bind,arguments)}function u(a,h,d){return u=l,u.apply(null,arguments)}function f(a,h){var d=Array.prototype.slice.call(arguments,1);return function(){var g=d.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function p(a,h){function d(){}d.prototype=h.prototype,a.Z=h.prototype,a.prototype=new d,a.prototype.constructor=a,a.Ob=function(g,C,N){for(var G=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)G[fe-2]=arguments[fe];return h.prototype[C].apply(g,G)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function y(a){const h=a.length;if(h>0){const d=Array(h);for(let g=0;g<h;g++)d[g]=a[g];return d}return[]}function P(a,h){for(let g=1;g<arguments.length;g++){const C=arguments[g];var d=typeof C;if(d=d!="object"?d:C?Array.isArray(C)?"array":d:"null",d=="array"||d=="object"&&typeof C.length=="number"){d=a.length||0;const N=C.length||0;a.length=d+N;for(let G=0;G<N;G++)a[d+G]=C[G]}else a.push(C)}}class V{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function k(a){o.setTimeout(()=>{throw a},0)}function q(){var a=R;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class B{constructor(){this.h=this.g=null}add(h,d){const g=H.get();g.set(h,d),this.h?this.h.next=g:this.g=g,this.h=g}}var H=new V(()=>new W,a=>a.reset());class W{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,le=!1,R=new B,v=()=>{const a=Promise.resolve(void 0);ie=()=>{a.then(_)}};function _(){for(var a;a=q();){try{a.h.call(a.g)}catch(d){k(d)}var h=H;h.j(a),h.h<100&&(h.h++,a.next=h.g,h.g=a)}le=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var w=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};o.addEventListener("test",d,h),o.removeEventListener("test",d,h)}catch{}return a})();function E(a){return/^[\s\xa0]*$/.test(a)}function ve(a,h){A.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,h)}p(ve,A),ve.prototype.init=function(a,h){const d=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget,h||(d=="mouseover"?h=a.fromElement:d=="mouseout"&&(h=a.toElement)),this.relatedTarget=h,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Be="closure_listenable_"+(Math.random()*1e6|0),xe=0;function Ae(a,h,d,g,C){this.listener=a,this.proxy=null,this.src=h,this.type=d,this.capture=!!g,this.ha=C,this.key=++xe,this.da=this.fa=!1}function ye(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function It(a,h,d){for(const g in a)h.call(d,a[g],g,a)}function tn(a,h){for(const d in a)h.call(void 0,a[d],d,a)}function bt(a){const h={};for(const d in a)h[d]=a[d];return h}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yn(a,h){let d,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(d in g)a[d]=g[d];for(let N=0;N<tt.length;N++)d=tt[N],Object.prototype.hasOwnProperty.call(g,d)&&(a[d]=g[d])}}function qt(a){this.src=a,this.g={},this.h=0}qt.prototype.add=function(a,h,d,g,C){const N=a.toString();a=this.g[N],a||(a=this.g[N]=[],this.h++);const G=ot(a,h,g,C);return G>-1?(h=a[G],d||(h.fa=!1)):(h=new Ae(h,this.src,N,!!g,C),h.fa=d,a.push(h)),h};function $t(a,h){const d=h.type;if(d in a.g){var g=a.g[d],C=Array.prototype.indexOf.call(g,h,void 0),N;(N=C>=0)&&Array.prototype.splice.call(g,C,1),N&&(ye(h),a.g[d].length==0&&(delete a.g[d],a.h--))}}function ot(a,h,d,g){for(let C=0;C<a.length;++C){const N=a[C];if(!N.da&&N.listener==h&&N.capture==!!d&&N.ha==g)return C}return-1}var M="closure_lm_"+(Math.random()*1e6|0),Y={};function Q(a,h,d,g,C){if(Array.isArray(h)){for(let N=0;N<h.length;N++)Q(a,h[N],d,g,C);return null}return d=K(d),a&&a[Be]?a.J(h,d,c(g)?!!g.capture:!1,C):ee(a,h,d,!1,g,C)}function ee(a,h,d,g,C,N){if(!h)throw Error("Invalid event type");const G=c(C)?!!C.capture:!!C;let fe=F(a);if(fe||(a[M]=fe=new qt(a)),d=fe.add(h,d,g,G,N),d.proxy)return d;if(g=pe(),d.proxy=g,g.src=a,g.listener=d,a.addEventListener)w||(C=G),C===void 0&&(C=!1),a.addEventListener(h.toString(),g,C);else if(a.attachEvent)a.attachEvent(b(h.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return d}function pe(){function a(d){return h.call(a.src,a.listener,d)}const h=O;return a}function T(a,h,d,g,C){if(Array.isArray(h))for(var N=0;N<h.length;N++)T(a,h[N],d,g,C);else g=c(g)?!!g.capture:!!g,d=K(d),a&&a[Be]?(a=a.i,N=String(h).toString(),N in a.g&&(h=a.g[N],d=ot(h,d,g,C),d>-1&&(ye(h[d]),Array.prototype.splice.call(h,d,1),h.length==0&&(delete a.g[N],a.h--)))):a&&(a=F(a))&&(h=a.g[h.toString()],a=-1,h&&(a=ot(h,d,g,C)),(d=a>-1?h[a]:null)&&I(d))}function I(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[Be])$t(h.i,a);else{var d=a.type,g=a.proxy;h.removeEventListener?h.removeEventListener(d,g,a.capture):h.detachEvent?h.detachEvent(b(d),g):h.addListener&&h.removeListener&&h.removeListener(g),(d=F(h))?($t(d,a),d.h==0&&(d.src=null,h[M]=null)):ye(a)}}}function b(a){return a in Y?Y[a]:Y[a]="on"+a}function O(a,h){if(a.da)a=!0;else{h=new ve(h,this);const d=a.listener,g=a.ha||a.src;a.fa&&I(a),a=d.call(g,h)}return a}function F(a){return a=a[M],a instanceof qt?a:null}var x="__closure_events_fn_"+(Math.random()*1e9>>>0);function K(a){return typeof a=="function"?a:(a[x]||(a[x]=function(h){return a.handleEvent(h)}),a[x])}function $(){S.call(this),this.i=new qt(this),this.M=this,this.G=null}p($,S),$.prototype[Be]=!0,$.prototype.removeEventListener=function(a,h,d,g){T(this,a,h,d,g)};function j(a,h){var d,g=a.G;if(g)for(d=[];g;g=g.G)d.push(g);if(a=a.M,g=h.type||h,typeof h=="string")h=new A(h,a);else if(h instanceof A)h.target=h.target||a;else{var C=h;h=new A(g,a),yn(h,C)}C=!0;let N,G;if(d)for(G=d.length-1;G>=0;G--)N=h.g=d[G],C=U(N,g,!0,h)&&C;if(N=h.g=a,C=U(N,g,!0,h)&&C,C=U(N,g,!1,h)&&C,d)for(G=0;G<d.length;G++)N=h.g=d[G],C=U(N,g,!1,h)&&C}$.prototype.N=function(){if($.Z.N.call(this),this.i){var a=this.i;for(const h in a.g){const d=a.g[h];for(let g=0;g<d.length;g++)ye(d[g]);delete a.g[h],a.h--}}this.G=null},$.prototype.J=function(a,h,d,g){return this.i.add(String(a),h,!1,d,g)},$.prototype.K=function(a,h,d,g){return this.i.add(String(a),h,!0,d,g)};function U(a,h,d,g){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();let C=!0;for(let N=0;N<h.length;++N){const G=h[N];if(G&&!G.da&&G.capture==d){const fe=G.listener,We=G.ha||G.src;G.fa&&$t(a.i,G),C=fe.call(We,g)!==!1&&C}}return C&&!g.defaultPrevented}function re(a,h){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=u(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:o.setTimeout(a,h||0)}function J(a){a.g=re(()=>{a.g=null,a.i&&(a.i=!1,J(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class te extends S{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:J(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function se(a){S.call(this),this.h=a,this.g={}}p(se,S);var de=[];function be(a){It(a.g,function(h,d){this.g.hasOwnProperty(d)&&I(h)},a),a.g={}}se.prototype.N=function(){se.Z.N.call(this),be(this)},se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ie=o.JSON.stringify,at=o.JSON.parse,ct=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function Ct(){}function Pt(){}var Ht={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kr(){A.call(this,"d")}p(Kr,A);function nt(){A.call(this,"c")}p(nt,A);var Je={},Ms=null;function Tr(){return Ms=Ms||new $}Je.Ia="serverreachability";function Ju(a){A.call(this,Je.Ia,a)}p(Ju,A);function Ls(a){const h=Tr();j(h,new Ju(h))}Je.STAT_EVENT="statevent";function Yu(a,h){A.call(this,Je.STAT_EVENT,a),this.stat=h}p(Yu,A);function gt(a){const h=Tr();j(h,new Yu(h,a))}Je.Ja="timingevent";function Xu(a,h){A.call(this,Je.Ja,a),this.size=h}p(Xu,A);function Fs(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},h)}function Us(){this.g=!0}Us.prototype.ua=function(){this.g=!1};function yy(a,h,d,g,C,N){a.info(function(){if(a.g)if(N){var G="",fe=N.split("&");for(let Ne=0;Ne<fe.length;Ne++){var We=fe[Ne].split("=");if(We.length>1){const Ye=We[0];We=We[1];const rn=Ye.split("_");G=rn.length>=2&&rn[1]=="type"?G+(Ye+"="+We+"&"):G+(Ye+"=redacted&")}}}else G=null;else G=N;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+h+`
`+d+`
`+G})}function Ey(a,h,d,g,C,N,G){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+h+`
`+d+`
`+N+" "+G})}function Qr(a,h,d,g){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+vy(a,d)+(g?" "+g:"")})}function Ty(a,h){a.info(function(){return"TIMEOUT: "+h})}Us.prototype.info=function(){};function vy(a,h){if(!a.g)return h;if(!h)return null;try{const N=JSON.parse(h);if(N){for(a=0;a<N.length;a++)if(Array.isArray(N[a])){var d=N[a];if(!(d.length<2)){var g=d[1];if(Array.isArray(g)&&!(g.length<1)){var C=g[0];if(C!="noop"&&C!="stop"&&C!="close")for(let G=1;G<g.length;G++)g[G]=""}}}}return Ie(N)}catch{return h}}var to={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},eh;function Za(){}p(Za,Ct),Za.prototype.g=function(){return new XMLHttpRequest},eh=new Za;function Bs(a){return encodeURIComponent(String(a))}function Iy(a){var h=1;a=a.split(":");const d=[];for(;h>0&&a.length;)d.push(a.shift()),h--;return a.length&&d.push(a.join(":")),d}function Bn(a,h,d,g){this.j=a,this.i=h,this.l=d,this.S=g||1,this.V=new se(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new th}function th(){this.i=null,this.g="",this.h=!1}var nh={},ec={};function tc(a,h,d){a.M=1,a.A=ro(nn(h)),a.u=d,a.R=!0,rh(a,null)}function rh(a,h){a.F=Date.now(),no(a),a.B=nn(a.A);var d=a.B,g=a.S;Array.isArray(g)||(g=[String(g)]),gh(d.i,"t",g),a.C=0,d=a.j.L,a.h=new th,a.g=Oh(a.j,d?h:null,!a.u),a.P>0&&(a.O=new te(u(a.Y,a,a.g),a.P)),h=a.V,d=a.g,g=a.ba;var C="readystatechange";Array.isArray(C)||(C&&(de[0]=C.toString()),C=de);for(let N=0;N<C.length;N++){const G=Q(d,C[N],g||h.handleEvent,!1,h.h||h);if(!G)break;h.g[G.key]=G}h=a.J?bt(a.J):{},a.u?(a.v||(a.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,h)):(a.v="GET",a.g.ea(a.B,a.v,null,h)),Ls(),yy(a.i,a.v,a.B,a.l,a.S,a.u)}Bn.prototype.ba=function(a){a=a.target;const h=this.O;h&&$n(a)==3?h.j():this.Y(a)},Bn.prototype.Y=function(a){try{if(a==this.g)e:{const fe=$n(this.g),We=this.g.ya(),Ne=this.g.ca();if(!(fe<3)&&(fe!=3||this.g&&(this.h.h||this.g.la()||wh(this.g)))){this.K||fe!=4||We==7||(We==8||Ne<=0?Ls(3):Ls(2)),nc(this);var h=this.g.ca();this.X=h;var d=wy(this);if(this.o=h==200,Ey(this.i,this.v,this.B,this.l,this.S,fe,h),this.o){if(this.U&&!this.L){t:{if(this.g){var g,C=this.g;if((g=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(g)){var N=g;break t}}N=null}if(a=N)Qr(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,rc(this,a);else{this.o=!1,this.m=3,gt(12),vr(this),js(this);break e}}if(this.R){a=!0;let Ye;for(;!this.K&&this.C<d.length;)if(Ye=Ay(this,d),Ye==ec){fe==4&&(this.m=4,gt(14),a=!1),Qr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ye==nh){this.m=4,gt(15),Qr(this.i,this.l,d,"[Invalid Chunk]"),a=!1;break}else Qr(this.i,this.l,Ye,null),rc(this,Ye);if(sh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fe!=4||d.length!=0||this.h.h||(this.m=1,gt(16),a=!1),this.o=this.o&&a,!a)Qr(this.i,this.l,d,"[Invalid Chunked Response]"),vr(this),js(this);else if(d.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+d.length),hc(G),G.P=!0,gt(11))}}else Qr(this.i,this.l,d,null),rc(this,d);fe==4&&vr(this),this.o&&!this.K&&(fe==4?Nh(this.j,this):(this.o=!1,no(this)))}else Fy(this.g),h==400&&d.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),vr(this),js(this)}}}catch{}};function wy(a){if(!sh(a))return a.g.la();const h=wh(a.g);if(h==="")return"";let d="";const g=h.length,C=$n(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return vr(a),js(a),"";a.h.i=new o.TextDecoder}for(let N=0;N<g;N++)a.h.h=!0,d+=a.h.i.decode(h[N],{stream:!(C&&N==g-1)});return h.length=0,a.h.g+=d,a.C=0,a.h.g}function sh(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function Ay(a,h){var d=a.C,g=h.indexOf(`
`,d);return g==-1?ec:(d=Number(h.substring(d,g)),isNaN(d)?nh:(g+=1,g+d>h.length?ec:(h=h.slice(g,g+d),a.C=g+d,h)))}Bn.prototype.cancel=function(){this.K=!0,vr(this)};function no(a){a.T=Date.now()+a.H,ih(a,a.H)}function ih(a,h){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Fs(u(a.aa,a),h)}function nc(a){a.D&&(o.clearTimeout(a.D),a.D=null)}Bn.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(Ty(this.i,this.B),this.M!=2&&(Ls(),gt(17)),vr(this),this.m=2,js(this)):ih(this,this.T-a)};function js(a){a.j.I==0||a.K||Nh(a.j,a)}function vr(a){nc(a);var h=a.O;h&&typeof h.dispose=="function"&&h.dispose(),a.O=null,be(a.V),a.g&&(h=a.g,a.g=null,h.abort(),h.dispose())}function rc(a,h){try{var d=a.j;if(d.I!=0&&(d.g==a||sc(d.h,a))){if(!a.L&&sc(d.h,a)&&d.I==3){try{var g=d.Ba.g.parse(h)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!d.v){if(d.g)if(d.g.F+3e3<a.F)co(d),oo(d);else break e;uc(d),gt(18)}}else d.xa=C[1],0<d.xa-d.K&&C[2]<37500&&d.F&&d.A==0&&!d.C&&(d.C=Fs(u(d.Va,d),6e3));ch(d.h)<=1&&d.ta&&(d.ta=void 0)}else wr(d,11)}else if((a.L||d.g==a)&&co(d),!E(h))for(C=d.Ba.g.parse(h),h=0;h<C.length;h++){let Ne=C[h];const Ye=Ne[0];if(!(Ye<=d.K))if(d.K=Ye,Ne=Ne[1],d.I==2)if(Ne[0]=="c"){d.M=Ne[1],d.ba=Ne[2];const rn=Ne[3];rn!=null&&(d.ka=rn,d.j.info("VER="+d.ka));const Ar=Ne[4];Ar!=null&&(d.za=Ar,d.j.info("SVER="+d.za));const Hn=Ne[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(g=1.5*Hn,d.O=g,d.j.info("backChannelRequestTimeoutMs_="+g)),g=d;const Gn=a.g;if(Gn){const uo=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uo){var N=g.h;N.g||uo.indexOf("spdy")==-1&&uo.indexOf("quic")==-1&&uo.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(ic(N,N.h),N.h=null))}if(g.G){const fc=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;fc&&(g.wa=fc,ke(g.J,g.G,fc))}}d.I=3,d.l&&d.l.ra(),d.aa&&(d.T=Date.now()-a.F,d.j.info("Handshake RTT: "+d.T+"ms")),g=d;var G=a;if(g.na=kh(g,g.L?g.ba:null,g.W),G.L){lh(g.h,G);var fe=G,We=g.O;We&&(fe.H=We),fe.D&&(nc(fe),no(fe)),g.g=G}else Ch(g);d.i.length>0&&ao(d)}else Ne[0]!="stop"&&Ne[0]!="close"||wr(d,7);else d.I==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?wr(d,7):lc(d):Ne[0]!="noop"&&d.l&&d.l.qa(Ne),d.A=0)}}Ls(4)}catch{}}var Ry=class{constructor(a,h){this.g=a,this.map=h}};function oh(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ah(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function ch(a){return a.h?1:a.g?a.g.size:0}function sc(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function ic(a,h){a.g?a.g.add(h):a.h=h}function lh(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}oh.prototype.cancel=function(){if(this.i=uh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function uh(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const d of a.g.values())h=h.concat(d.G);return h}return y(a.i)}var hh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sy(a,h){if(a){a=a.split("&");for(let d=0;d<a.length;d++){const g=a[d].indexOf("=");let C,N=null;g>=0?(C=a[d].substring(0,g),N=a[d].substring(g+1)):C=a[d],h(C,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function jn(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;a instanceof jn?(this.l=a.l,qs(this,a.j),this.o=a.o,this.g=a.g,$s(this,a.u),this.h=a.h,oc(this,_h(a.i)),this.m=a.m):a&&(h=String(a).match(hh))?(this.l=!1,qs(this,h[1]||"",!0),this.o=Hs(h[2]||""),this.g=Hs(h[3]||"",!0),$s(this,h[4]),this.h=Hs(h[5]||"",!0),oc(this,h[6]||"",!0),this.m=Hs(h[7]||"")):(this.l=!1,this.i=new zs(null,this.l))}jn.prototype.toString=function(){const a=[];var h=this.j;h&&a.push(Gs(h,fh,!0),":");var d=this.g;return(d||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Gs(h,fh,!0),"@"),a.push(Bs(d).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.u,d!=null&&a.push(":",String(d))),(d=this.h)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(Gs(d,d.charAt(0)=="/"?Py:Cy,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",Gs(d,Vy)),a.join("")},jn.prototype.resolve=function(a){const h=nn(this);let d=!!a.j;d?qs(h,a.j):d=!!a.o,d?h.o=a.o:d=!!a.g,d?h.g=a.g:d=a.u!=null;var g=a.h;if(d)$s(h,a.u);else if(d=!!a.h){if(g.charAt(0)!="/")if(this.g&&!this.h)g="/"+g;else{var C=h.h.lastIndexOf("/");C!=-1&&(g=h.h.slice(0,C+1)+g)}if(C=g,C==".."||C==".")g="";else if(C.indexOf("./")!=-1||C.indexOf("/.")!=-1){g=C.lastIndexOf("/",0)==0,C=C.split("/");const N=[];for(let G=0;G<C.length;){const fe=C[G++];fe=="."?g&&G==C.length&&N.push(""):fe==".."?((N.length>1||N.length==1&&N[0]!="")&&N.pop(),g&&G==C.length&&N.push("")):(N.push(fe),g=!0)}g=N.join("/")}else g=C}return d?h.h=g:d=a.i.toString()!=="",d?oc(h,_h(a.i)):d=!!a.m,d&&(h.m=a.m),h};function nn(a){return new jn(a)}function qs(a,h,d){a.j=d?Hs(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function $s(a,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);a.u=h}else a.u=null}function oc(a,h,d){h instanceof zs?(a.i=h,Dy(a.i,a.l)):(d||(h=Gs(h,Ny)),a.i=new zs(h,a.l))}function ke(a,h,d){a.i.set(h,d)}function ro(a){return ke(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function Hs(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Gs(a,h,d){return typeof a=="string"?(a=encodeURI(a).replace(h,by),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function by(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var fh=/[#\/\?@]/g,Cy=/[#\?:]/g,Py=/[#\?]/g,Ny=/[#\?@]/g,Vy=/#/g;function zs(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Ir(a){a.g||(a.g=new Map,a.h=0,a.i&&Sy(a.i,function(h,d){a.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=zs.prototype,t.add=function(a,h){Ir(this),this.i=null,a=Jr(this,a);let d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(h),this.h+=1,this};function dh(a,h){Ir(a),h=Jr(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function ph(a,h){return Ir(a),h=Jr(a,h),a.g.has(h)}t.forEach=function(a,h){Ir(this),this.g.forEach(function(d,g){d.forEach(function(C){a.call(h,C,g,this)},this)},this)};function mh(a,h){Ir(a);let d=[];if(typeof h=="string")ph(a,h)&&(d=d.concat(a.g.get(Jr(a,h))));else for(a=Array.from(a.g.values()),h=0;h<a.length;h++)d=d.concat(a[h]);return d}t.set=function(a,h){return Ir(this),this.i=null,a=Jr(this,a),ph(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=mh(this,a),a.length>0?String(a[0]):h):h};function gh(a,h,d){dh(a,h),d.length>0&&(a.i=null,a.g.set(Jr(a,h),y(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(let g=0;g<h.length;g++){var d=h[g];const C=Bs(d);d=mh(this,d);for(let N=0;N<d.length;N++){let G=C;d[N]!==""&&(G+="="+Bs(d[N])),a.push(G)}}return this.i=a.join("&")};function _h(a){const h=new zs;return h.i=a.i,a.g&&(h.g=new Map(a.g),h.h=a.h),h}function Jr(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function Dy(a,h){h&&!a.j&&(Ir(a),a.i=null,a.g.forEach(function(d,g){const C=g.toLowerCase();g!=C&&(dh(this,g),gh(this,C,d))},a)),a.j=h}function ky(a,h){const d=new Us;if(o.Image){const g=new Image;g.onload=f(qn,d,"TestLoadImage: loaded",!0,h,g),g.onerror=f(qn,d,"TestLoadImage: error",!1,h,g),g.onabort=f(qn,d,"TestLoadImage: abort",!1,h,g),g.ontimeout=f(qn,d,"TestLoadImage: timeout",!1,h,g),o.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else h(!1)}function Oy(a,h){const d=new Us,g=new AbortController,C=setTimeout(()=>{g.abort(),qn(d,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:g.signal}).then(N=>{clearTimeout(C),N.ok?qn(d,"TestPingServer: ok",!0,h):qn(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(C),qn(d,"TestPingServer: error",!1,h)})}function qn(a,h,d,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(d)}catch{}}function xy(){this.g=new ct}function ac(a){this.i=a.Sb||null,this.h=a.ab||!1}p(ac,Ct),ac.prototype.g=function(){return new so(this.i,this.h)};function so(a,h){$.call(this),this.H=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(so,$),t=so.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=h,this.readyState=1,Ks(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(h.body=a),(this.H||o).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ws(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ks(this)),this.g&&(this.readyState=3,Ks(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;yh(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function yh(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Ws(this):Ks(this),this.readyState==3&&yh(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,Ws(this))},t.Na=function(a){this.g&&(this.response=a,Ws(this))},t.ga=function(){this.g&&Ws(this)};function Ws(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Ks(a)}t.setRequestHeader=function(a,h){this.A.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=h.next();return a.join(`\r
`)};function Ks(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(so.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Eh(a){let h="";return It(a,function(d,g){h+=g,h+=":",h+=d,h+=`\r
`}),h}function cc(a,h,d){e:{for(g in d){var g=!1;break e}g=!0}g||(d=Eh(d),typeof a=="string"?d!=null&&Bs(d):ke(a,h,d))}function Fe(a){$.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Fe,$);var My=/^https?$/i,Ly=["POST","PUT"];t=Fe.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,h,d,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():eh.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(N){Th(this,N);return}if(a=d||"",d=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)d.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const N of g.keys())d.set(N,g.get(N));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(d.keys()).find(N=>N.toLowerCase()=="content-type"),C=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(Ly,h,void 0)>=0)||g||C||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[N,G]of d)this.g.setRequestHeader(N,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(N){Th(this,N)}};function Th(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.o=5,vh(a),io(a)}function vh(a){a.A||(a.A=!0,j(a,"complete"),j(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,j(this,"complete"),j(this,"abort"),io(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),io(this,!0)),Fe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ih(this):this.Xa())},t.Xa=function(){Ih(this)};function Ih(a){if(a.h&&typeof i<"u"){if(a.v&&$n(a)==4)setTimeout(a.Ca.bind(a),0);else if(j(a,"readystatechange"),$n(a)==4){a.h=!1;try{const N=a.ca();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var g;if(g=N===0){let G=String(a.D).match(hh)[1]||null;!G&&o.self&&o.self.location&&(G=o.self.location.protocol.slice(0,-1)),g=!My.test(G?G.toLowerCase():"")}d=g}if(d)j(a,"complete"),j(a,"success");else{a.o=6;try{var C=$n(a)>2?a.g.statusText:""}catch{C=""}a.l=C+" ["+a.ca()+"]",vh(a)}}finally{io(a)}}}}function io(a,h){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const d=a.g;a.g=null,h||j(a,"ready");try{d.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function $n(a){return a.g?a.g.readyState:0}t.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),at(h)}};function wh(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Fy(a){const h={};a=(a.g&&$n(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(E(a[g]))continue;var d=Iy(a[g]);const C=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const N=h[C]||[];h[C]=N,N.push(d)}tn(h,function(g){return g.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qs(a,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||h}function Ah(a){this.za=0,this.i=[],this.j=new Us,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qs("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qs("baseRetryDelayMs",5e3,a),this.Za=Qs("retryDelaySeedMs",1e4,a),this.Ta=Qs("forwardChannelMaxRetries",2,a),this.va=Qs("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new oh(a&&a.concurrentRequestLimit),this.Ba=new xy,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ah.prototype,t.ka=8,t.I=1,t.connect=function(a,h,d,g){gt(0),this.W=a,this.H=h||{},d&&g!==void 0&&(this.H.OSID=d,this.H.OAID=g),this.F=this.X,this.J=kh(this,null,this.W),ao(this)};function lc(a){if(Rh(a),a.I==3){var h=a.V++,d=nn(a.J);if(ke(d,"SID",a.M),ke(d,"RID",h),ke(d,"TYPE","terminate"),Js(a,d),h=new Bn(a,a.j,h),h.M=2,h.A=ro(nn(d)),d=!1,o.navigator&&o.navigator.sendBeacon)try{d=o.navigator.sendBeacon(h.A.toString(),"")}catch{}!d&&o.Image&&(new Image().src=h.A,d=!0),d||(h.g=Oh(h.j,null),h.g.ea(h.A)),h.F=Date.now(),no(h)}Dh(a)}function oo(a){a.g&&(hc(a),a.g.cancel(),a.g=null)}function Rh(a){oo(a),a.v&&(o.clearTimeout(a.v),a.v=null),co(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function ao(a){if(!ah(a.h)&&!a.m){a.m=!0;var h=a.Ea;ie||v(),le||(ie(),le=!0),R.add(h,a),a.D=0}}function Uy(a,h){return ch(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=h.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Fs(u(a.Ea,a,h),Vh(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const C=new Bn(this,this.j,a);let N=this.o;if(this.U&&(N?(N=bt(N),yn(N,this.U)):N=this.U),this.u!==null||this.R||(C.J=N,N=null),this.S)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var g=this.i[d];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(h+=g,h>4096){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=bh(this,C,h),d=nn(this.J),ke(d,"RID",a),ke(d,"CVER",22),this.G&&ke(d,"X-HTTP-Session-Id",this.G),Js(this,d),N&&(this.R?h="headers="+Bs(Eh(N))+"&"+h:this.u&&cc(d,this.u,N)),ic(this.h,C),this.Ra&&ke(d,"TYPE","init"),this.S?(ke(d,"$req",h),ke(d,"SID","null"),C.U=!0,tc(C,d,null)):tc(C,d,h),this.I=2}}else this.I==3&&(a?Sh(this,a):this.i.length==0||ah(this.h)||Sh(this))};function Sh(a,h){var d;h?d=h.l:d=a.V++;const g=nn(a.J);ke(g,"SID",a.M),ke(g,"RID",d),ke(g,"AID",a.K),Js(a,g),a.u&&a.o&&cc(g,a.u,a.o),d=new Bn(a,a.j,d,a.D+1),a.u===null&&(d.J=a.o),h&&(a.i=h.G.concat(a.i)),h=bh(a,d,1e3),d.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),ic(a.h,d),tc(d,g,h)}function Js(a,h){a.H&&It(a.H,function(d,g){ke(h,g,d)}),a.l&&It({},function(d,g){ke(h,g,d)})}function bh(a,h,d){d=Math.min(a.i.length,d);const g=a.l?u(a.l.Ka,a.l,a):null;e:{var C=a.i;let fe=-1;for(;;){const We=["count="+d];fe==-1?d>0?(fe=C[0].g,We.push("ofs="+fe)):fe=0:We.push("ofs="+fe);let Ne=!0;for(let Ye=0;Ye<d;Ye++){var N=C[Ye].g;const rn=C[Ye].map;if(N-=fe,N<0)fe=Math.max(0,C[Ye].g-100),Ne=!1;else try{N="req"+N+"_"||"";try{var G=rn instanceof Map?rn:Object.entries(rn);for(const[Ar,Hn]of G){let Gn=Hn;c(Hn)&&(Gn=Ie(Hn)),We.push(N+Ar+"="+encodeURIComponent(Gn))}}catch(Ar){throw We.push(N+"type="+encodeURIComponent("_badmap")),Ar}}catch{g&&g(rn)}}if(Ne){G=We.join("&");break e}}G=void 0}return a=a.i.splice(0,d),h.G=a,G}function Ch(a){if(!a.g&&!a.v){a.Y=1;var h=a.Da;ie||v(),le||(ie(),le=!0),R.add(h,a),a.A=0}}function uc(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Fs(u(a.Da,a),Vh(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,Ph(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Fs(u(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),oo(this),Ph(this))};function hc(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function Ph(a){a.g=new Bn(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var h=nn(a.na);ke(h,"RID","rpc"),ke(h,"SID",a.M),ke(h,"AID",a.K),ke(h,"CI",a.F?"0":"1"),!a.F&&a.ia&&ke(h,"TO",a.ia),ke(h,"TYPE","xmlhttp"),Js(a,h),a.u&&a.o&&cc(h,a.u,a.o),a.O&&(a.g.H=a.O);var d=a.g;a=a.ba,d.M=1,d.A=ro(nn(h)),d.u=null,d.R=!0,rh(d,a)}t.Va=function(){this.C!=null&&(this.C=null,oo(this),uc(this),gt(19))};function co(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function Nh(a,h){var d=null;if(a.g==h){co(a),hc(a),a.g=null;var g=2}else if(sc(a.h,h))d=h.G,lh(a.h,h),g=1;else return;if(a.I!=0){if(h.o)if(g==1){d=h.u?h.u.length:0,h=Date.now()-h.F;var C=a.D;g=Tr(),j(g,new Xu(g,d)),ao(a)}else Ch(a);else if(C=h.m,C==3||C==0&&h.X>0||!(g==1&&Uy(a,h)||g==2&&uc(a)))switch(d&&d.length>0&&(h=a.h,h.i=h.i.concat(d)),C){case 1:wr(a,5);break;case 4:wr(a,10);break;case 3:wr(a,6);break;default:wr(a,2)}}}function Vh(a,h){let d=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(d*=2),d*h}function wr(a,h){if(a.j.info("Error code "+h),h==2){var d=u(a.bb,a),g=a.Ua;const C=!g;g=new jn(g||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||qs(g,"https"),ro(g),C?ky(g.toString(),d):Oy(g.toString(),d)}else gt(2);a.I=0,a.l&&a.l.pa(h),Dh(a),Rh(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Dh(a){if(a.I=0,a.ja=[],a.l){const h=uh(a.h);(h.length!=0||a.i.length!=0)&&(P(a.ja,h),P(a.ja,a.i),a.h.i.length=0,y(a.i),a.i.length=0),a.l.oa()}}function kh(a,h,d){var g=d instanceof jn?nn(d):new jn(d);if(g.g!="")h&&(g.g=h+"."+g.g),$s(g,g.u);else{var C=o.location;g=C.protocol,h=h?h+"."+C.hostname:C.hostname,C=+C.port;const N=new jn(null);g&&qs(N,g),h&&(N.g=h),C&&$s(N,C),d&&(N.h=d),g=N}return d=a.G,h=a.wa,d&&h&&ke(g,d,h),ke(g,"VER",a.ka),Js(a,g),g}function Oh(a,h,d){if(h&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Aa&&!a.ma?new Fe(new ac({ab:d})):new Fe(a.ma),h.Fa(a.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xh(){}t=xh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function lo(){}lo.prototype.g=function(a,h){return new Nt(a,h)};function Nt(a,h){$.call(this),this.g=new Ah(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(a?a["X-WebChannel-Client-Profile"]=h.sa:a={"X-WebChannel-Client-Profile":h.sa}),this.g.U=a,(a=h&&h.Qb)&&!E(a)&&(this.g.u=a),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!E(h)&&(this.g.G=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Yr(this)}p(Nt,$),Nt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nt.prototype.close=function(){lc(this.g)},Nt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.v&&(d={},d.__data__=Ie(a),a=d);h.i.push(new Ry(h.Ya++,a)),h.I==3&&ao(h)},Nt.prototype.N=function(){this.g.l=null,delete this.j,lc(this.g),delete this.g,Nt.Z.N.call(this)};function Mh(a){Kr.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const d in h){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}p(Mh,Kr);function Lh(){nt.call(this),this.status=1}p(Lh,nt);function Yr(a){this.g=a}p(Yr,xh),Yr.prototype.ra=function(){j(this.g,"a")},Yr.prototype.qa=function(a){j(this.g,new Mh(a))},Yr.prototype.pa=function(a){j(this.g,new Lh)},Yr.prototype.oa=function(){j(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,Nt.prototype.send=Nt.prototype.o,Nt.prototype.open=Nt.prototype.m,Nt.prototype.close=Nt.prototype.close,ug=function(){return new lo},lg=function(){return Tr()},cg=Je,ll={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},to.NO_ERROR=0,to.TIMEOUT=8,to.HTTP_ERROR=6,bo=to,Zu.COMPLETE="complete",ag=Zu,Pt.EventType=Ht,Ht.OPEN="a",Ht.CLOSE="b",Ht.ERROR="c",Ht.MESSAGE="d",$.prototype.listen=$.prototype.J,ti=Pt,Fe.prototype.listenOnce=Fe.prototype.K,Fe.prototype.getLastError=Fe.prototype.Ha,Fe.prototype.getLastErrorCode=Fe.prototype.ya,Fe.prototype.getStatus=Fe.prototype.ca,Fe.prototype.getResponseJson=Fe.prototype.La,Fe.prototype.getResponseText=Fe.prototype.la,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Fa,og=Fe}).apply(typeof go<"u"?go:typeof self<"u"?self:typeof window<"u"?window:{});const Xf="@firebase/firestore",Zf="4.9.3";class ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");let Ps="12.7.0";const qr=new Yl("@firebase/firestore");function ns(){return qr.logLevel}function X(t,...e){if(qr.logLevel<=me.DEBUG){const n=e.map(eu);qr.debug(`Firestore (${Ps}): ${t}`,...n)}}function kn(t,...e){if(qr.logLevel<=me.ERROR){const n=e.map(eu);qr.error(`Firestore (${Ps}): ${t}`,...n)}}function Ts(t,...e){if(qr.logLevel<=me.WARN){const n=e.map(eu);qr.warn(`Firestore (${Ps}): ${t}`,...n)}}function eu(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,hg(t,r,n)}function hg(t,e,n){let r=`FIRESTORE (${Ps}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw kn(r),new Error(r)}function Te(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||hg(e,s,r)}function ue(t,e){return t}const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class z extends Fn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class un{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class fg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ut.UNAUTHENTICATED)))}shutdown(){}}class mA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class gA{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new un;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new un,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const l=i;e.enqueueRetryable((async()=>{await l.promise,await s(this.currentUser)}))},c=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>c(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new un)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new fg(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new ut(e)}}class _A{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yA{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _A(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ut.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ed{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ut(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);const r=i=>{i.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ed(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ed(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function TA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class tu{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=TA(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function ul(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Oc(s)===Oc(i)?ge(s,i):Oc(s)?1:-1}return ge(t.length,e.length)}const vA=55296,IA=57343;function Oc(t){const e=t.charCodeAt(0);return e>=vA&&e<=IA}function vs(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}const td="__name__";class an{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return an.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof an?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=an.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ge(e.length,n.length)}static compareSegments(e,n){const r=an.isNumericId(e),s=an.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?an.extractNumericId(e).compare(an.extractNumericId(n)):ul(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ar.fromString(e.substring(4,e.length-2))}}class Ce extends an{construct(e,n,r){return new Ce(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new z(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Ce(n)}static emptyPath(){return new Ce([])}}const wA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class st extends an{construct(e,n,r){return new st(e,n,r)}static isValidIdentifier(e){return wA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),st.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===td}static keyField(){return new st([td])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new z(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new z(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new z(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(r+=c,s++):(i(),s++)}if(i(),o)throw new z(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new st(n)}static emptyPath(){return new st([])}}class Z{constructor(e){this.path=e}static fromPath(e){return new Z(Ce.fromString(e))}static fromName(e){return new Z(Ce.fromString(e).popFirst(5))}static empty(){return new Z(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new Ce(e.slice()))}}function dg(t,e,n){if(!n)throw new z(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AA(t,e,n,r){if(e===!0&&r===!0)throw new z(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nd(t){if(!Z.isDocumentKey(t))throw new z(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rd(t){if(Z.isDocumentKey(t))throw new z(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pg(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Na(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne(12329,{type:typeof t})}function St(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Na(t);throw new z(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function RA(t,e){if(e<=0)throw new z(D.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Ge(t,e){const n={typeString:t};return e&&(n.value=e),n}function $i(t,e){if(!pg(t))throw new z(D.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new z(D.INVALID_ARGUMENT,n);return!0}const sd=-62135596800,id=1e6;class Oe{static now(){return Oe.fromMillis(Date.now())}static fromDate(e){return Oe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*id);return new Oe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sd)throw new z(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/id}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($i(e,Oe._jsonSchema))return new Oe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sd;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Oe._jsonSchemaVersion="firestore/timestamp/1.0",Oe._jsonSchema={type:Ge("string",Oe._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new Oe(0,0))}static max(){return new oe(new Oe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Pi=-1;function SA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=oe.fromTimestamp(r===1e9?new Oe(n+1,0):new Oe(n,r));return new fr(s,Z.empty(),e)}function bA(t){return new fr(t.readTime,t.key,Pi)}class fr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fr(oe.min(),Z.empty(),Pi)}static max(){return new fr(oe.max(),Z.empty(),Pi)}}function CA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}const PA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ns(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==PA)throw t;X("LocalStore","Unexpectedly lost primary lease")}class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):L.reject(n)}static resolve(e){return new L(((n,r)=>{n(e)}))}static reject(e){return new L(((n,r)=>{r(e)}))}static waitFor(e){return new L(((n,r)=>{let s=0,i=0,o=!1;e.forEach((c=>{++s,c.next((()=>{++i,o&&i===s&&n()}),(l=>r(l)))})),o=!0,i===s&&n()}))}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next((s=>s?L.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new L(((r,s)=>{const i=e.length,o=new Array(i);let c=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next((f=>{o[u]=f,++c,c===i&&r(o)}),(f=>s(f)))}}))}static doWhile(e,n){return new L(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function VA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vs(t){return t.name==="IndexedDbTransactionError"}class Va{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Va.ce=-1;const nu=-1;function Hi(t){return t==null}function Qo(t){return t===0&&1/t==-1/0}function DA(t){return typeof t=="number"&&Number.isInteger(t)&&!Qo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const mg="";function kA(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=od(e)),e=OA(t.get(n),e);return od(e)}function OA(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case mg:n+="";break;default:n+=i}}return n}function od(t){return t+mg+""}function ad(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Le{constructor(e,n){this.comparator=e,this.root=n||rt.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rt.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _o(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _o(this.root,e,this.comparator,!1)}getReverseIterator(){return new _o(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _o(this.root,e,this.comparator,!0)}}class _o{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??rt.RED,this.left=s??rt.EMPTY,this.right=i??rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new rt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return rt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}}rt.EMPTY=null,rt.RED=!0,rt.BLACK=!1;rt.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qe{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cd(this.data.getIterator())}getIteratorFrom(e){return new cd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Qe(this.comparator);return n.data=e,n}}class cd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mt{constructor(e){this.fields=e,e.sort(st.comparator)}static empty(){return new Mt([])}unionWith(e){let n=new Qe(st.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vs(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class _g extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class it{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new _g("Invalid base64 string: "+i):i}})(e);return new it(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new it(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}it.EMPTY_BYTE_STRING=new it("");const xA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(t){if(Te(!!t,39018),typeof t=="string"){let e=0;const n=xA.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pr(t){return typeof t=="string"?it.fromBase64String(t):it.fromUint8Array(t)}const yg="server_timestamp",Eg="__type__",Tg="__previous_value__",vg="__local_write_time__";function ru(t){return(t?.mapValue?.fields||{})[Eg]?.stringValue===yg}function Da(t){const e=t.mapValue.fields[Tg];return ru(e)?Da(e):e}function Ni(t){const e=dr(t.mapValue.fields[vg].timestampValue);return new Oe(e.seconds,e.nanos)}class MA{constructor(e,n,r,s,i,o,c,l,u,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=f}}const Jo="(default)";class Vi{constructor(e,n){this.projectId=e,this.database=n||Jo}static empty(){return new Vi("","")}get isDefaultDatabase(){return this.database===Jo}isEqual(e){return e instanceof Vi&&e.projectId===this.projectId&&e.database===this.database}}const Ig="__type__",LA="__max__",yo={mapValue:{}},wg="__vector__",Yo="value";function mr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ru(t)?4:UA(t)?9007199254740991:FA(t)?10:11:ne(28295,{value:t})}function gn(t,e){if(t===e)return!0;const n=mr(t);if(n!==mr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ni(t).isEqual(Ni(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=dr(s.timestampValue),c=dr(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return pr(s.bytesValue).isEqual(pr(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return je(s.geoPointValue.latitude)===je(i.geoPointValue.latitude)&&je(s.geoPointValue.longitude)===je(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return je(s.integerValue)===je(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=je(s.doubleValue),c=je(i.doubleValue);return o===c?Qo(o)===Qo(c):isNaN(o)&&isNaN(c)}return!1})(t,e);case 9:return vs(t.arrayValue.values||[],e.arrayValue.values||[],gn);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},c=i.mapValue.fields||{};if(ad(o)!==ad(c))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!gn(o[l],c[l])))return!1;return!0})(t,e);default:return ne(52216,{left:t})}}function Di(t,e){return(t.values||[]).find((n=>gn(n,e)))!==void 0}function Is(t,e){if(t===e)return 0;const n=mr(t),r=mr(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const c=je(i.integerValue||i.doubleValue),l=je(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1})(t,e);case 3:return ld(t.timestampValue,e.timestampValue);case 4:return ld(Ni(t),Ni(e));case 5:return ul(t.stringValue,e.stringValue);case 6:return(function(i,o){const c=pr(i),l=pr(o);return c.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const c=i.split("/"),l=o.split("/");for(let u=0;u<c.length&&u<l.length;u++){const f=ge(c[u],l[u]);if(f!==0)return f}return ge(c.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const c=ge(je(i.latitude),je(o.latitude));return c!==0?c:ge(je(i.longitude),je(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return ud(t.arrayValue,e.arrayValue);case 10:return(function(i,o){const c=i.fields||{},l=o.fields||{},u=c[Yo]?.arrayValue,f=l[Yo]?.arrayValue,p=ge(u?.values?.length||0,f?.values?.length||0);return p!==0?p:ud(u,f)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===yo.mapValue&&o===yo.mapValue)return 0;if(i===yo.mapValue)return 1;if(o===yo.mapValue)return-1;const c=i.fields||{},l=Object.keys(c),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let p=0;p<l.length&&p<f.length;++p){const m=ul(l[p],f[p]);if(m!==0)return m;const y=Is(c[l[p]],u[f[p]]);if(y!==0)return y}return ge(l.length,f.length)})(t.mapValue,e.mapValue);default:throw ne(23264,{he:n})}}function ld(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=dr(t),r=dr(e),s=ge(n.seconds,r.seconds);return s!==0?s:ge(n.nanos,r.nanos)}function ud(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Is(n[s],r[s]);if(i)return i}return ge(n.length,r.length)}function ws(t){return hl(t)}function hl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=dr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return pr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Z.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=hl(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${hl(n.fields[o])}`;return s+"}"})(t.mapValue):ne(61005,{value:t})}function Co(t){switch(mr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Da(t);return e?16+Co(e):16;case 5:return 2*t.stringValue.length;case 6:return pr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+Co(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return yr(r.fields,((i,o)=>{s+=i.length+Co(o)})),s})(t.mapValue);default:throw ne(13486,{value:t})}}function hd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fl(t){return!!t&&"integerValue"in t}function su(t){return!!t&&"arrayValue"in t}function fd(t){return!!t&&"nullValue"in t}function dd(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Po(t){return!!t&&"mapValue"in t}function FA(t){return(t?.mapValue?.fields||{})[Ig]?.stringValue===wg}function pi(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return yr(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=pi(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pi(t.arrayValue.values[n]);return e}return{...t}}function UA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===LA}class vt{constructor(e){this.value=e}static empty(){return new vt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Po(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pi(n)}setAll(e){let n=st.emptyPath(),r={},s=[];e.forEach(((o,c)=>{if(!n.isImmediateParentOf(c)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=c.popLast()}o?r[c.lastSegment()]=pi(o):s.push(c.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Po(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Po(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){yr(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new vt(pi(this.value))}}function Ag(t){const e=[];return yr(t.fields,((n,r)=>{const s=new st([n]);if(Po(r)){const i=Ag(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new Mt(e)}class Ze{constructor(e,n,r,s,i,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Ze(e,0,oe.min(),oe.min(),oe.min(),vt.empty(),0)}static newFoundDocument(e,n,r,s){return new Ze(e,1,n,oe.min(),r,s,0)}static newNoDocument(e,n){return new Ze(e,2,n,oe.min(),oe.min(),vt.empty(),0)}static newUnknownDocument(e,n){return new Ze(e,3,n,oe.min(),oe.min(),vt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xo{constructor(e,n){this.position=e,this.inclusive=n}}function pd(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=Is(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function md(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gn(t.position[n],e.position[n]))return!1;return!0}class ki{constructor(e,n="asc"){this.field=e,this.dir=n}}function BA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Rg{}class He extends Rg{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qA(e,n,r):n==="array-contains"?new GA(e,r):n==="in"?new zA(e,r):n==="not-in"?new WA(e,r):n==="array-contains-any"?new KA(e,r):new He(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $A(e,r):new HA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Is(n,this.value)):n!==null&&mr(this.value)===mr(n)&&this.matchesComparison(Is(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class en extends Rg{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new en(e,n)}matches(e){return Sg(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Sg(t){return t.op==="and"}function bg(t){return jA(t)&&Sg(t)}function jA(t){for(const e of t.filters)if(e instanceof en)return!1;return!0}function dl(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+ws(t.value);if(bg(t))return t.filters.map((e=>dl(e))).join(",");{const e=t.filters.map((n=>dl(n))).join(",");return`${t.op}(${e})`}}function Cg(t,e){return t instanceof He?(function(r,s){return s instanceof He&&r.op===s.op&&r.field.isEqual(s.field)&&gn(r.value,s.value)})(t,e):t instanceof en?(function(r,s){return s instanceof en&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,c)=>i&&Cg(o,s.filters[c])),!0):!1})(t,e):void ne(19439)}function Pg(t){return t instanceof He?(function(n){return`${n.field.canonicalString()} ${n.op} ${ws(n.value)}`})(t):t instanceof en?(function(n){return n.op.toString()+" {"+n.getFilters().map(Pg).join(" ,")+"}"})(t):"Filter"}class qA extends He{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class $A extends He{constructor(e,n){super(e,"in",n),this.keys=Ng("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class HA extends He{constructor(e,n){super(e,"not-in",n),this.keys=Ng("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Ng(t,e){return(e.arrayValue?.values||[]).map((n=>Z.fromName(n.referenceValue)))}class GA extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return su(n)&&Di(n.arrayValue,this.value)}}class zA extends He{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Di(this.value.arrayValue,n)}}class WA extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(Di(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Di(this.value.arrayValue,n)}}class KA extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!su(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Di(this.value.arrayValue,r)))}}class QA{constructor(e,n=null,r=[],s=[],i=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=c,this.Te=null}}function gd(t,e=null,n=[],r=[],s=null,i=null,o=null){return new QA(t,e,n,r,s,i,o)}function iu(t){const e=ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>dl(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Hi(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ws(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ws(r))).join(",")),e.Te=n}return e.Te}function ou(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Cg(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!md(t.startAt,e.startAt)&&md(t.endAt,e.endAt)}function pl(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ds{constructor(e,n=null,r=[],s=[],i=null,o="F",c=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JA(t,e,n,r,s,i,o,c){return new Ds(t,e,n,r,s,i,o,c)}function ka(t){return new Ds(t)}function _d(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Vg(t){return t.collectionGroup!==null}function mi(t){const e=ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Qe(st.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(c=c.add(u.field))}))})),c})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new ki(i,r))})),n.has(st.keyField().canonicalString())||e.Ie.push(new ki(st.keyField(),r))}return e.Ie}function hn(t){const e=ue(t);return e.Ee||(e.Ee=YA(e,mi(t))),e.Ee}function YA(t,e){if(t.limitType==="F")return gd(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new ki(s.field,i)}));const n=t.endAt?new Xo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xo(t.startAt.position,t.startAt.inclusive):null;return gd(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ml(t,e){const n=t.filters.concat([e]);return new Ds(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zo(t,e,n){return new Ds(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Oa(t,e){return ou(hn(t),hn(e))&&t.limitType===e.limitType}function Dg(t){return`${iu(hn(t))}|lt:${t.limitType}`}function rs(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>Pg(s))).join(", ")}]`),Hi(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>ws(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>ws(s))).join(",")),`Target(${r})`})(hn(t))}; limitType=${t.limitType})`}function xa(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Z.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of mi(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(o,c,l){const u=pd(o,c,l);return o.inclusive?u<=0:u<0})(r.startAt,mi(r),s)||r.endAt&&!(function(o,c,l){const u=pd(o,c,l);return o.inclusive?u>=0:u>0})(r.endAt,mi(r),s))})(t,e)}function XA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kg(t){return(e,n)=>{let r=!1;for(const s of mi(t)){const i=ZA(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function ZA(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):(function(i,o,c){const l=o.data.field(i),u=c.data.field(i);return l!==null&&u!==null?Is(l,u):ne(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne(19790,{direction:t.dir})}}class zr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){yr(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return gg(this.inner)}size(){return this.innerSize}}const eR=new Le(Z.comparator);function On(){return eR}const Og=new Le(Z.comparator);function ni(...t){let e=Og;for(const n of t)e=e.insert(n.key,n);return e}function xg(t){let e=Og;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Or(){return gi()}function Mg(){return gi()}function gi(){return new zr((t=>t.toString()),((t,e)=>t.isEqual(e)))}const tR=new Le(Z.comparator),nR=new Qe(Z.comparator);function _e(...t){let e=nR;for(const n of t)e=e.add(n);return e}const rR=new Qe(ge);function sR(){return rR}function au(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qo(e)?"-0":e}}function Lg(t){return{integerValue:""+t}}function iR(t,e){return DA(e)?Lg(e):au(t,e)}class Ma{constructor(){this._=void 0}}function oR(t,e,n){return t instanceof Oi?(function(s,i){const o={fields:{[Eg]:{stringValue:yg},[vg]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ru(i)&&(i=Da(i)),i&&(o.fields[Tg]=i),{mapValue:o}})(n,e):t instanceof xi?Ug(t,e):t instanceof Mi?Bg(t,e):(function(s,i){const o=Fg(s,i),c=yd(o)+yd(s.Ae);return fl(o)&&fl(s.Ae)?Lg(c):au(s.serializer,c)})(t,e)}function aR(t,e,n){return t instanceof xi?Ug(t,e):t instanceof Mi?Bg(t,e):n}function Fg(t,e){return t instanceof ea?(function(r){return fl(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class Oi extends Ma{}class xi extends Ma{constructor(e){super(),this.elements=e}}function Ug(t,e){const n=jg(e);for(const r of t.elements)n.some((s=>gn(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Mi extends Ma{constructor(e){super(),this.elements=e}}function Bg(t,e){let n=jg(e);for(const r of t.elements)n=n.filter((s=>!gn(s,r)));return{arrayValue:{values:n}}}class ea extends Ma{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function yd(t){return je(t.integerValue||t.doubleValue)}function jg(t){return su(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class cR{constructor(e,n){this.field=e,this.transform=n}}function lR(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof xi&&s instanceof xi||r instanceof Mi&&s instanceof Mi?vs(r.elements,s.elements,gn):r instanceof ea&&s instanceof ea?gn(r.Ae,s.Ae):r instanceof Oi&&s instanceof Oi})(t.transform,e.transform)}class uR{constructor(e,n){this.version=e,this.transformResults=n}}class dt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dt}static exists(e){return new dt(void 0,e)}static updateTime(e){return new dt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function No(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class La{}function qg(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fa(t.key,dt.none()):new Gi(t.key,t.data,dt.none());{const n=t.data,r=vt.empty();let s=new Qe(st.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Er(t.key,r,new Mt(s.toArray()),dt.none())}}function hR(t,e,n){t instanceof Gi?(function(s,i,o){const c=s.value.clone(),l=Td(s.fieldTransforms,i,o.transformResults);c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Er?(function(s,i,o){if(!No(s.precondition,i))return void i.convertToUnknownDocument(o.version);const c=Td(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll($g(s)),l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function _i(t,e,n,r){return t instanceof Gi?(function(i,o,c,l){if(!No(i.precondition,o))return c;const u=i.value.clone(),f=vd(i.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(t,e,n,r):t instanceof Er?(function(i,o,c,l){if(!No(i.precondition,o))return c;const u=vd(i.fieldTransforms,l,o),f=o.data;return f.setAll($g(i)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(i,o,c){return No(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(t,e,n)}function fR(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Fg(r.transform,s||null);i!=null&&(n===null&&(n=vt.empty()),n.set(r.field,i))}return n||null}function Ed(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&vs(r,s,((i,o)=>lR(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gi extends La{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Er extends La{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function $g(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Td(t,e,n){const r=new Map;Te(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,c=e.data.field(i.field);r.set(i.field,aR(o,c,n[s]))}return r}function vd(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,oR(i,o,e))}return r}class Fa extends La{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hg extends La{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dR{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&hR(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_i(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_i(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Mg();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let c=this.applyToLocalView(o,i.mutatedFields);c=n.has(s.key)?null:c;const l=qg(o,c);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(oe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),_e())}isEqual(e){return this.batchId===e.batchId&&vs(this.mutations,e.mutations,((n,r)=>Ed(n,r)))&&vs(this.baseMutations,e.baseMutations,((n,r)=>Ed(n,r)))}}class cu{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Te(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return tR})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new cu(e,n,r,s)}}class pR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class mR{constructor(e,n){this.count=e,this.unchangedNames=n}}var $e,Ee;function Gg(t){switch(t){case D.OK:return ne(64938);case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return ne(15467,{code:t})}}function zg(t){if(t===void 0)return kn("GRPC error has no .code"),D.UNKNOWN;switch(t){case $e.OK:return D.OK;case $e.CANCELLED:return D.CANCELLED;case $e.UNKNOWN:return D.UNKNOWN;case $e.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case $e.INTERNAL:return D.INTERNAL;case $e.UNAVAILABLE:return D.UNAVAILABLE;case $e.UNAUTHENTICATED:return D.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case $e.NOT_FOUND:return D.NOT_FOUND;case $e.ALREADY_EXISTS:return D.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return D.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case $e.ABORTED:return D.ABORTED;case $e.OUT_OF_RANGE:return D.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return D.UNIMPLEMENTED;case $e.DATA_LOSS:return D.DATA_LOSS;default:return ne(39323,{code:t})}}(Ee=$e||($e={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";function gR(){return new TextEncoder}const _R=new ar([4294967295,4294967295],0);function Id(t){const e=gR().encode(t),n=new ig;return n.update(e),new Uint8Array(n.digest())}function wd(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ar([n,r],0),new ar([s,i],0)]}class lu{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ri(`Invalid padding: ${n}`);if(r<0)throw new ri(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ri(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ri(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ar.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ar.fromNumber(r)));return s.compare(_R)===1&&(s=new ar([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Id(e),[r,s]=wd(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new lu(i,s,n);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const n=Id(e),[r,s]=wd(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ri extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ua{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,zi.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ua(oe.min(),s,new Le(ge),On(),_e())}}class zi{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zi(r,n,_e(),_e(),_e())}}class Vo{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class Wg{constructor(e,n){this.targetId=e,this.Ce=n}}class Kg{constructor(e,n,r=it.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Ad{constructor(){this.ve=0,this.Fe=Rd(),this.Me=it.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=_e(),n=_e(),r=_e();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ne(38017,{changeType:i})}})),new zi(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Rd()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yR{constructor(e){this.Ge=e,this.ze=new Map,this.je=On(),this.Je=Eo(),this.He=Eo(),this.Ye=new Le(ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(pl(i))if(r===0){const o=new Z(i.path);this.et(n,o,Ze.newNoDocument(o,oe.min()))}else Te(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const c=this.ut(e),l=c?this.ct(c,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,c;try{o=pr(r).toUint8Array()}catch(l){if(l instanceof _g)return Ts("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new lu(o,s,i)}catch(l){return Ts(l instanceof ri?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const c=this.ot(o);if(c){if(i.current&&pl(c.target)){const l=new Z(c.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Ze.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=_e();this.He.forEach(((i,o)=>{let c=!0;o.forEachWhile((l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new Ua(e,n,this.Ye,this.je,r);return this.je=On(),this.Je=Eo(),this.He=Eo(),this.Ye=new Le(ge),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ad,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Qe(ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Qe(ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ad),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Eo(){return new Le(Z.comparator)}function Rd(){return new Le(Z.comparator)}const ER={asc:"ASCENDING",desc:"DESCENDING"},TR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vR={and:"AND",or:"OR"};class IR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gl(t,e){return t.useProto3Json||Hi(e)?e:{value:e}}function ta(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qg(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wR(t,e){return ta(t,e.toTimestamp())}function Lt(t){return Te(!!t,49232),oe.fromTimestamp((function(n){const r=dr(n);return new Oe(r.seconds,r.nanos)})(t))}function uu(t,e){return _l(t,e).canonicalString()}function _l(t,e){const n=(function(s){return new Ce(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Jg(t){const e=Ce.fromString(t);return Te(n_(e),10190,{key:e.toString()}),e}function na(t,e){return uu(t.databaseId,e.path)}function yi(t,e){const n=Jg(e);if(n.get(1)!==t.databaseId.projectId)throw new z(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new z(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(Xg(n))}function Yg(t,e){return uu(t.databaseId,e)}function AR(t){const e=Jg(t);return e.length===4?Ce.emptyPath():Xg(e)}function yl(t){return new Ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Xg(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Sd(t,e,n){return{name:na(t,e),fields:n.value.mapValue.fields}}function RR(t,e){return"found"in e?(function(r,s){Te(!!s.found,43571),s.found.name,s.found.updateTime;const i=yi(r,s.found.name),o=Lt(s.found.updateTime),c=s.found.createTime?Lt(s.found.createTime):oe.min(),l=new vt({mapValue:{fields:s.found.fields}});return Ze.newFoundDocument(i,o,c,l)})(t,e):"missing"in e?(function(r,s){Te(!!s.missing,3894),Te(!!s.readTime,22933);const i=yi(r,s.missing),o=Lt(s.readTime);return Ze.newNoDocument(i,o)})(t,e):ne(7234,{result:e})}function SR(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(u,f){return u.useProto3Json?(Te(f===void 0||typeof f=="string",58123),it.fromBase64String(f||"")):(Te(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),it.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(u){const f=u.code===void 0?D.UNKNOWN:zg(u.code);return new z(f,u.message||"")})(o);n=new Kg(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=yi(t,r.document.name),i=Lt(r.document.updateTime),o=r.document.createTime?Lt(r.document.createTime):oe.min(),c=new vt({mapValue:{fields:r.document.fields}}),l=Ze.newFoundDocument(s,i,o,c),u=r.targetIds||[],f=r.removedTargetIds||[];n=new Vo(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=yi(t,r.document),i=r.readTime?Lt(r.readTime):oe.min(),o=Ze.newNoDocument(s,i),c=r.removedTargetIds||[];n=new Vo([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=yi(t,r.document),i=r.removedTargetIds||[];n=new Vo([],i,s,null)}else{if(!("filter"in e))return ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new mR(s,i),c=r.targetId;n=new Wg(c,o)}}return n}function Zg(t,e){let n;if(e instanceof Gi)n={update:Sd(t,e.key,e.value)};else if(e instanceof Fa)n={delete:na(t,e.key)};else if(e instanceof Er)n={update:Sd(t,e.key,e.data),updateMask:xR(e.fieldMask)};else{if(!(e instanceof Hg))return ne(16599,{Vt:e.type});n={verify:na(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const c=o.transform;if(c instanceof Oi)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof xi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Mi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ea)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw ne(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:wR(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ne(27497)})(t,e.precondition)),n}function bR(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map((n=>(function(s,i){let o=s.updateTime?Lt(s.updateTime):Lt(i);return o.isEqual(oe.min())&&(o=Lt(i)),new uR(o,s.transformResults||[])})(n,e)))):[]}function CR(t,e){return{documents:[Yg(t,e.path)]}}function PR(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Yg(t,s);const i=(function(u){if(u.length!==0)return t_(en.create(u,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(u){if(u.length!==0)return u.map((f=>(function(m){return{field:ss(m.field),direction:DR(m.dir)}})(f)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=gl(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:n,parent:s}}function NR(t){let e=AR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Te(r===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=(function(p){const m=e_(p);return m instanceof en&&bg(m)?m.getFilters():[m]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((m=>(function(P){return new ki(is(P.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(m)))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let m;return m=typeof p=="object"?p.value:p,Hi(m)?null:m})(n.limit));let l=null;n.startAt&&(l=(function(p){const m=!!p.before,y=p.values||[];return new Xo(y,m)})(n.startAt));let u=null;return n.endAt&&(u=(function(p){const m=!p.before,y=p.values||[];return new Xo(y,m)})(n.endAt)),JA(e,s,o,i,c,"F",l,u)}function VR(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function e_(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=is(n.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=is(n.unaryFilter.field);return He.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=is(n.unaryFilter.field);return He.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=is(n.unaryFilter.field);return He.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}})(t):t.fieldFilter!==void 0?(function(n){return He.create(is(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return en.create(n.compositeFilter.filters.map((r=>e_(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ne(1026)}})(n.compositeFilter.op))})(t):ne(30097,{filter:t})}function DR(t){return ER[t]}function kR(t){return TR[t]}function OR(t){return vR[t]}function ss(t){return{fieldPath:t.canonicalString()}}function is(t){return st.fromServerFormat(t.fieldPath)}function t_(t){return t instanceof He?(function(n){if(n.op==="=="){if(dd(n.value))return{unaryFilter:{field:ss(n.field),op:"IS_NAN"}};if(fd(n.value))return{unaryFilter:{field:ss(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dd(n.value))return{unaryFilter:{field:ss(n.field),op:"IS_NOT_NAN"}};if(fd(n.value))return{unaryFilter:{field:ss(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ss(n.field),op:kR(n.op),value:n.value}}})(t):t instanceof en?(function(n){const r=n.getFilters().map((s=>t_(s)));return r.length===1?r[0]:{compositeFilter:{op:OR(n.op),filters:r}}})(t):ne(54877,{filter:t})}function xR(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function n_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class nr{constructor(e,n,r,s,i=oe.min(),o=oe.min(),c=it.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class MR{constructor(e){this.yt=e}}function LR(t){const e=NR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zo(e,e.limit,"L"):e}class FR{constructor(){this.Cn=new UR}addToCollectionParentIndex(e,n){return this.Cn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(fr.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(fr.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class UR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Qe(Ce.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Qe(Ce.comparator)).toArray()}}const bd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},r_=41943040;class Rt{static withCacheSize(e){return new Rt(e,Rt.DEFAULT_COLLECTION_PERCENTILE,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Rt.DEFAULT_COLLECTION_PERCENTILE=10,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rt.DEFAULT=new Rt(r_,Rt.DEFAULT_COLLECTION_PERCENTILE,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rt.DISABLED=new Rt(-1,0,0);class As{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new As(0)}static cr(){return new As(-1)}}const Cd="LruGarbageCollector",BR=1048576;function Pd([t,e],[n,r]){const s=ge(t,n);return s===0?ge(e,r):s}class jR{constructor(e){this.Ir=e,this.buffer=new Qe(Pd),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Pd(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){X(Cd,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vs(n)?X(Cd,"Ignoring IndexedDB error during garbage collection: ",n):await Ns(n)}await this.Vr(3e5)}))}}class $R{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return L.resolve(Va.ce);const r=new jR(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(bd)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bd):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,c,l,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s)))).next((p=>(r=p,c=Date.now(),this.removeTargets(e,r,n)))).next((p=>(i=p,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(u=Date.now(),ns()<=me.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(c-o)+`ms
	Removed ${i} targets in `+(l-c)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-f}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p}))))}}function HR(t,e){return new $R(t,e)}class GR{constructor(){this.changes=new zr((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class WR{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&_i(r.mutation,s,Mt.empty(),Oe.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,_e()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=_e()){const s=Or();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=ni();return i.forEach(((c,l)=>{o=o.insert(c,l.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Or();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,_e())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,c)=>{n.set(o,c)}))}))}computeViews(e,n,r,s){let i=On();const o=gi(),c=(function(){return gi()})();return n.forEach(((l,u)=>{const f=r.get(u.key);s.has(u.key)&&(f===void 0||f.mutation instanceof Er)?i=i.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),_i(f.mutation,u,f.mutation.getFieldMask(),Oe.now())):o.set(u.key,Mt.empty())})),this.recalculateAndSaveOverlays(e,i).next((l=>(l.forEach(((u,f)=>o.set(u,f))),n.forEach(((u,f)=>c.set(u,new zR(f,o.get(u)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=gi();let s=new Le(((o,c)=>o-c)),i=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const c of o)c.keys().forEach((l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||Mt.empty();f=c.applyToLocalView(u,f),r.set(l,f);const p=(s.get(c.batchId)||_e()).add(l);s=s.insert(c.batchId,p)}))})).next((()=>{const o=[],c=s.getReverseIterator();for(;c.hasNext();){const l=c.getNext(),u=l.key,f=l.value,p=Mg();f.forEach((m=>{if(!i.has(m)){const y=qg(n.get(m),r.get(m));y!==null&&p.set(m,y),i=i.add(m)}})),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return L.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Vg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):L.resolve(Or());let c=Pi,l=i;return o.next((u=>L.forEach(u,((f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),i.get(f)?L.resolve():this.remoteDocumentCache.getEntry(e,f).next((m=>{l=l.insert(f,m)}))))).next((()=>this.populateOverlays(e,u,i))).next((()=>this.computeViews(e,l,u,_e()))).next((f=>({batchId:c,changes:xg(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next((r=>{let s=ni();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ni();return this.indexManager.getCollectionParents(e,i).next((c=>L.forEach(c,(l=>{const u=(function(p,m){return new Ds(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next((f=>{f.forEach(((p,m)=>{o=o.insert(p,m)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((l,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,Ze.newInvalidDocument(f)))}));let c=ni();return o.forEach(((l,u)=>{const f=i.get(l);f!==void 0&&_i(f.mutation,u,Mt.empty(),Oe.now()),xa(n,u)&&(c=c.insert(l,u))})),c}))}}class KR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return L.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Lt(s.createTime)}})(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:LR(s.bundledQuery),readTime:Lt(s.readTime)}})(n)),L.resolve()}}class QR{constructor(){this.overlays=new Le(Z.comparator),this.qr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Or();return L.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),L.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const s=Or(),i=n.length+1,o=new Z(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const l=c.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return L.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Le(((u,f)=>u-f));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=i.get(u.largestBatchId);f===null&&(f=Or(),i=i.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const c=Or(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,f)=>c.set(u,f))),!(c.size()>=s)););return L.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new pR(n,r));let i=this.qr.get(n);i===void 0&&(i=_e(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}class JR{constructor(){this.sessionToken=it.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}class hu{constructor(){this.Qr=new Qe(Xe.$r),this.Ur=new Qe(Xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Xe(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Xe(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Z(new Ce([])),r=new Xe(n,e),s=new Xe(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Z(new Ce([])),r=new Xe(n,e),s=new Xe(n,e+1);let i=_e();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new Xe(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xe{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Z.comparator(e.key,n.key)||ge(e.Yr,n.Yr)}static Kr(e,n){return ge(e.Yr,n.Yr)||Z.comparator(e.key,n.key)}}class YR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Qe(Xe.$r)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new dR(i,n,r,s);this.mutationQueue.push(o);for(const c of s)this.Zr=this.Zr.add(new Xe(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return L.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?nu:this.tr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xe(n,0),s=new Xe(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const c=this.Xr(o.Yr);i.push(c)})),L.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(ge);return n.forEach((s=>{const i=new Xe(s,0),o=new Xe(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(c=>{r=r.add(c.Yr)}))})),L.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Z.isDocumentKey(i)||(i=i.child(""));const o=new Xe(new Z(i),0);let c=new Qe(ge);return this.Zr.forEachWhile((l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(c=c.add(l.Yr)),!0)}),o),L.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Te(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return L.forEach(n.mutations,(s=>{const i=new Xe(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Xe(n,0),s=this.Zr.firstAfterOrEqual(r);return L.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class XR{constructor(e){this.ri=e,this.docs=(function(){return new Le(Z.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(n))}getEntries(e,n){let r=On();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ze.newInvalidDocument(s))})),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=On();const o=n.path,c=new Z(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||CA(bA(f),r)<=0||(s.has(f.key)||xa(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return L.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ne(9500)}ii(e,n){return L.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new ZR(this)}getSize(e){return L.resolve(this.size)}}class ZR extends GR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),L.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class eS{constructor(e){this.persistence=e,this.si=new zr((n=>iu(n)),ou),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.oi=0,this._i=new hu,this.targetCount=0,this.ai=As.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),L.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new As(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Pr(n),L.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),L.waitFor(i).next((()=>s))}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),L.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this._i.containsKey(n))}}class s_{constructor(e,n){this.ui={},this.overlays={},this.ci=new Va(0),this.li=!1,this.li=!0,this.hi=new JR,this.referenceDelegate=e(this),this.Pi=new eS(this),this.indexManager=new FR,this.remoteDocumentCache=(function(s){return new XR(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new MR(n),this.Ii=new KR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new YR(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const s=new tS(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return L.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class tS extends NA{constructor(e){super(),this.currentSequenceNumber=e}}class fu{constructor(e){this.persistence=e,this.Ri=new hu,this.Vi=null}static mi(e){return new fu(e)}get fi(){if(this.Vi)return this.Vi;throw ne(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),L.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.fi,(r=>{const s=Z.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,oe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return L.or([()=>L.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ra{constructor(e,n){this.persistence=e,this.pi=new zr((r=>kA(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=HR(this,n)}static mi(e,n){return new ra(e,n)}Ei(){}di(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return L.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?L.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((c=>{c||(r++,i.removeEntry(o,oe.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),L.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Co(e.data.value)),n}br(e,n,r){return L.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return L.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class du{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=_e(),s=_e();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new du(e,n.fromCache,r,s)}}class nS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class rS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KI()?8:VA(mt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new nS;return this.Ss(e,n,o).next((c=>{if(i.result=c,this.Vs)return this.bs(e,n,o,c.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(ns()<=me.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),L.resolve()):(ns()<=me.DEBUG&&X("QueryEngine","Query:",rs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ns()<=me.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hn(n))):L.resolve())}ys(e,n){if(_d(n))return L.resolve(null);let r=hn(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Zo(n,null,"F"),r=hn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=_e(...i);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((l=>{const u=this.Ds(n,c);return this.Cs(n,u,o,l.readTime)?this.ys(e,Zo(n,null,"F")):this.vs(e,u,n,l)}))))})))))}ws(e,n,r,s){return _d(n)||s.isEqual(oe.min())?L.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?L.resolve(null):(ns()<=me.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),rs(n)),this.vs(e,o,n,SA(s,Pi)).next((c=>c)))}))}Ds(e,n){let r=new Qe(kg(e));return n.forEach(((s,i)=>{xa(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return ns()<=me.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",rs(n)),this.ps.getDocumentsMatchingQuery(e,n,fr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}const pu="LocalStore",sS=3e8;class iS{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Le(ge),this.xs=new zr((i=>iu(i)),ou),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function oS(t,e,n,r){return new iS(t,e,n,r)}async function i_(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],c=[];let l=_e();for(const u of s){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of i){c.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next((u=>({Ls:u,removedBatchIds:o,addedBatchIds:c})))}))}))}function aS(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,l,u,f){const p=u.batch,m=p.keys();let y=L.resolve();return m.forEach((P=>{y=y.next((()=>f.getEntry(l,P))).next((V=>{const k=u.docVersions.get(P);Te(k!==null,48541),V.version.compareTo(k)<0&&(p.applyToRemoteDocument(V,u),V.isValidDocument()&&(V.setReadTime(u.commitVersion),f.addEntry(V)))}))})),y.next((()=>c.mutationQueue.removeMutationBatch(l,p)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let l=_e();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(l=l.add(c.batch.mutations[u].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function o_(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function cS(t,e){const n=ue(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach(((f,p)=>{const m=s.get(p);if(!m)return;c.push(n.Pi.removeMatchingKeys(i,f.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(i,f.addedDocuments,p))));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(it.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),s=s.insert(p,y),(function(V,k,q){return V.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=sS?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(m,y,f)&&c.push(n.Pi.updateTargetData(i,y))}));let l=On(),u=_e();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))})),c.push(lS(i,o,e.documentUpdates).next((f=>{l=f.ks,u=f.qs}))),!r.isEqual(oe.min())){const f=n.Pi.getLastRemoteSnapshotVersion(i).next((p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));c.push(f)}return L.waitFor(c).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,l,u))).next((()=>l))})).then((i=>(n.Ms=s,i)))}function lS(t,e,n){let r=_e(),s=_e();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=On();return n.forEach(((c,l)=>{const u=i.get(c);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(c)),l.isNoDocument()&&l.version.isEqual(oe.min())?(e.removeEntry(c,l.readTime),o=o.insert(c,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(c,l)):X(pu,"Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",l.version)})),{ks:o,qs:s}}))}function uS(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=nu),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function hS(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,L.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new nr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function El(t,e,n){const r=ue(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!Vs(o))throw o;X(pu,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Nd(t,e,n){const r=ue(t);let s=oe.min(),i=_e();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,u,f){const p=ue(l),m=p.xs.get(f);return m!==void 0?L.resolve(p.Ms.get(m)):p.Pi.getTargetData(u,f)})(r,o,hn(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next((l=>{i=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:oe.min(),n?i:_e()))).next((c=>(fS(r,XA(e),c),{documents:c,Qs:i})))))}function fS(t,e,n){let r=t.Os.get(e)||oe.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class Vd{constructor(){this.activeTargetIds=sR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dS{constructor(){this.Mo=new Vd,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Vd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pS{Oo(e){}shutdown(){}}const Dd="ConnectivityMonitor";class kd{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(Dd,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){X(Dd,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let To=null;function Tl(){return To===null?To=(function(){return 268435456+Math.round(2147483648*Math.random())})():To++,"0x"+To.toString(16)}const xc="RestConnection",mS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Jo?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Tl(),c=this.zo(e,n.toUriEncodedString());X(xc,`Sending RPC '${e}' ${o}:`,c,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(c),f=bs(u);return this.Jo(e,c,l,r,f).then((p=>(X(xc,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw Ts(xc,`RPC '${e}' ${o} failed with error: `,p,"url: ",c,"request:",r),p}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ps})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=mS[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class _S{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const lt="WebChannelConnection";class yS extends gS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Tl();return new Promise(((c,l)=>{const u=new og;u.setWithCredentials(!0),u.listenOnce(ag.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case bo.NO_ERROR:const p=u.getResponseJson();X(lt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),c(p);break;case bo.TIMEOUT:X(lt,`RPC '${e}' ${o} timed out`),l(new z(D.DEADLINE_EXCEEDED,"Request time out"));break;case bo.HTTP_ERROR:const m=u.getStatus();if(X(lt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const P=y?.error;if(P&&P.status&&P.message){const V=(function(q){const B=q.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(B)>=0?B:D.UNKNOWN})(P.status);l(new z(V,P.message))}else l(new z(D.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new z(D.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{X(lt,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(s);X(lt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",f,r,15)}))}T_(e,n,r){const s=Tl(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ug(),c=lg(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=i.join("");X(lt,`Creating RPC '${e}' stream ${s}: ${f}`,l);const p=o.createWebChannel(f,l);this.I_(p);let m=!1,y=!1;const P=new _S({Yo:k=>{y?X(lt,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(m||(X(lt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),m=!0),X(lt,`RPC '${e}' stream ${s} sending:`,k),p.send(k))},Zo:()=>p.close()}),V=(k,q,B)=>{k.listen(q,(H=>{try{B(H)}catch(W){setTimeout((()=>{throw W}),0)}}))};return V(p,ti.EventType.OPEN,(()=>{y||(X(lt,`RPC '${e}' stream ${s} transport opened.`),P.o_())})),V(p,ti.EventType.CLOSE,(()=>{y||(y=!0,X(lt,`RPC '${e}' stream ${s} transport closed`),P.a_(),this.E_(p))})),V(p,ti.EventType.ERROR,(k=>{y||(y=!0,Ts(lt,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),P.a_(new z(D.UNAVAILABLE,"The operation could not be completed")))})),V(p,ti.EventType.MESSAGE,(k=>{if(!y){const q=k.data[0];Te(!!q,16349);const B=q,H=B?.error||B[0]?.error;if(H){X(lt,`RPC '${e}' stream ${s} received error:`,H);const W=H.status;let ie=(function(v){const _=$e[v];if(_!==void 0)return zg(_)})(W),le=H.message;ie===void 0&&(ie=D.INTERNAL,le="Unknown error status: "+W+" with message "+H.message),y=!0,P.a_(new z(ie,le)),p.close()}else X(lt,`RPC '${e}' stream ${s} received:`,q),P.u_(q)}})),V(c,cg.STAT_EVENT,(k=>{k.stat===ll.PROXY?X(lt,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===ll.NOPROXY&&X(lt,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Mc(){return typeof document<"u"?document:null}function Ba(t){return new IR(t,!0)}class mu{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Od="PersistentStream";class a_{constructor(e,n,r,s,i,o,c,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mu(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(kn(n.toString()),kn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new z(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return X(Od,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(X(Od,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ES extends a_{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=SR(this.serializer,e),r=(function(i){if(!("targetChange"in i))return oe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?Lt(o.readTime):oe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=yl(this.serializer),n.addTarget=(function(i,o){let c;const l=o.target;if(c=pl(l)?{documents:CR(i,l)}:{query:PR(i,l).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=Qg(i,o.resumeToken);const u=gl(i,o.expectedCount);u!==null&&(c.expectedCount=u)}else if(o.snapshotVersion.compareTo(oe.min())>0){c.readTime=ta(i,o.snapshotVersion.toTimestamp());const u=gl(i,o.expectedCount);u!==null&&(c.expectedCount=u)}return c})(this.serializer,e);const r=VR(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=yl(this.serializer),n.removeTarget=e,this.q_(n)}}class TS extends a_{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=bR(e.writeResults,e.commitTime),r=Lt(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=yl(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Zg(this.serializer,r)))};this.q_(n)}}class vS{}class IS extends vS{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new z(D.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,_l(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new z(D.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,_l(n,r),s,o,c,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(D.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(kn(n),this.aa=!1):X("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $r="RemoteStore";class AS{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Wr(this)&&(X($r,"Restarting streams for network reachability change."),await(async function(l){const u=ue(l);u.Ea.add(4),await Wi(u),u.Ra.set("Unknown"),u.Ea.delete(4),await ja(u)})(this))}))})),this.Ra=new wS(r,s)}}async function ja(t){if(Wr(t))for(const e of t.da)await e(!0)}async function Wi(t){for(const e of t.da)await e(!1)}function c_(t,e){const n=ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Eu(n)?yu(n):ks(n).O_()&&_u(n,e))}function gu(t,e){const n=ue(t),r=ks(n);n.Ia.delete(e),r.O_()&&l_(n,e),n.Ia.size===0&&(r.O_()?r.L_():Wr(n)&&n.Ra.set("Unknown"))}function _u(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ks(t).Y_(e)}function l_(t,e){t.Va.Ue(e),ks(t).Z_(e)}function yu(t){t.Va=new yR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ks(t).start(),t.Ra.ua()}function Eu(t){return Wr(t)&&!ks(t).x_()&&t.Ia.size>0}function Wr(t){return ue(t).Ea.size===0}function u_(t){t.Va=void 0}async function RS(t){t.Ra.set("Online")}async function SS(t){t.Ia.forEach(((e,n)=>{_u(t,e)}))}async function bS(t,e){u_(t),Eu(t)?(t.Ra.ha(e),yu(t)):t.Ra.set("Unknown")}async function CS(t,e,n){if(t.Ra.set("Online"),e instanceof Kg&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const c of i.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,o),s.Ia.delete(c),s.Va.removeTarget(c))})(t,e)}catch(r){X($r,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sa(t,r)}else if(e instanceof Vo?t.Va.Ze(e):e instanceof Wg?t.Va.st(e):t.Va.tt(e),!n.isEqual(oe.min()))try{const r=await o_(t.localStore);n.compareTo(r)>=0&&await(function(i,o){const c=i.Va.Tt(o);return c.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=i.Ia.get(u);f&&i.Ia.set(u,f.withResumeToken(l.resumeToken,o))}})),c.targetMismatches.forEach(((l,u)=>{const f=i.Ia.get(l);if(!f)return;i.Ia.set(l,f.withResumeToken(it.EMPTY_BYTE_STRING,f.snapshotVersion)),l_(i,l);const p=new nr(f.target,l,u,f.sequenceNumber);_u(i,p)})),i.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){X($r,"Failed to raise snapshot:",r),await sa(t,r)}}async function sa(t,e,n){if(!Vs(e))throw e;t.Ea.add(1),await Wi(t),t.Ra.set("Offline"),n||(n=()=>o_(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{X($r,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ja(t)}))}function h_(t,e){return e().catch((n=>sa(t,n,e)))}async function qa(t){const e=ue(t),n=gr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:nu;for(;PS(e);)try{const s=await uS(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,NS(e,s)}catch(s){await sa(e,s)}f_(e)&&d_(e)}function PS(t){return Wr(t)&&t.Ta.length<10}function NS(t,e){t.Ta.push(e);const n=gr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function f_(t){return Wr(t)&&!gr(t).x_()&&t.Ta.length>0}function d_(t){gr(t).start()}async function VS(t){gr(t).ra()}async function DS(t){const e=gr(t);for(const n of t.Ta)e.ea(n.mutations)}async function kS(t,e,n){const r=t.Ta.shift(),s=cu.from(r,e,n);await h_(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await qa(t)}async function OS(t,e){e&&gr(t).X_&&await(async function(r,s){if((function(o){return Gg(o)&&o!==D.ABORTED})(s.code)){const i=r.Ta.shift();gr(r).B_(),await h_(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await qa(r)}})(t,e),f_(t)&&d_(t)}async function xd(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),X($r,"RemoteStore received new credentials");const r=Wr(n);n.Ea.add(3),await Wi(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ja(n)}async function xS(t,e){const n=ue(t);e?(n.Ea.delete(2),await ja(n)):e||(n.Ea.add(2),await Wi(n),n.Ra.set("Unknown"))}function ks(t){return t.ma||(t.ma=(function(n,r,s){const i=ue(n);return i.sa(),new ES(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:RS.bind(null,t),t_:SS.bind(null,t),r_:bS.bind(null,t),H_:CS.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Eu(t)?yu(t):t.Ra.set("Unknown")):(await t.ma.stop(),u_(t))}))),t.ma}function gr(t){return t.fa||(t.fa=(function(n,r,s){const i=ue(n);return i.sa(),new TS(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:VS.bind(null,t),r_:OS.bind(null,t),ta:DS.bind(null,t),na:kS.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await qa(t)):(await t.fa.stop(),t.Ta.length>0&&(X($r,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Tu{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,c=new Tu(e,n,o,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vu(t,e){if(kn("AsyncQueue",`${e}: ${t}`),Vs(t))return new z(D.UNAVAILABLE,`${e}: ${t}`);throw t}class fs{static emptySet(e){return new fs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=ni(),this.sortedSet=new Le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Md{constructor(){this.ga=new Le(Z.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Rs{constructor(e,n,r,s,i,o,c,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((c=>{o.push({type:0,doc:c})})),new Rs(e,n,fs.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class MS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class LS{constructor(){this.queries=Ld(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ue(n),i=s.queries;s.queries=Ld(),i.forEach(((o,c)=>{for(const l of c.Sa)l.onError(r)}))})(this,new z(D.ABORTED,"Firestore shutting down"))}}function Ld(){return new zr((t=>Dg(t)),Oa)}async function Iu(t,e){const n=ue(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new MS,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const c=vu(o,`Initialization of query '${rs(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Au(n)}async function wu(t,e){const n=ue(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function FS(t,e){const n=ue(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const c of o.Sa)c.Fa(s)&&(r=!0);o.wa=s}}r&&Au(n)}function US(t,e,n){const r=ue(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Au(t){t.Ca.forEach((e=>{e.next()}))}var vl,Fd;(Fd=vl||(vl={})).Ma="default",Fd.Cache="cache";class Ru{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Rs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Rs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vl.Cache}}class p_{constructor(e){this.key=e}}class m_{constructor(e){this.key=e}}class BS{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=_e(),this.mutatedKeys=_e(),this.eu=kg(e),this.tu=new fs(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Md,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,c=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((f,p)=>{const m=s.get(f),y=xa(this.query,p)?p:null,P=!!m&&this.mutatedKeys.has(m.key),V=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let k=!1;m&&y?m.data.isEqual(y.data)?P!==V&&(r.track({type:3,doc:y}),k=!0):this.su(m,y)||(r.track({type:2,doc:y}),k=!0,(l&&this.eu(y,l)>0||u&&this.eu(y,u)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),k=!0):m&&!y&&(r.track({type:1,doc:m}),k=!0,(l||u)&&(c=!0)),k&&(y?(o=o.add(y),i=V?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:c,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,p)=>(function(y,P){const V=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{Rt:k})}};return V(y)-V(P)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Rs(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Md,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=_e(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new m_(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new p_(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=_e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Rs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Su="SyncEngine";class jS{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qS{constructor(e){this.key=e,this.hu=!1}}class $S{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new zr((c=>Dg(c)),Oa),this.Iu=new Map,this.Eu=new Set,this.du=new Le(Z.comparator),this.Au=new Map,this.Ru=new hu,this.Vu={},this.mu=new Map,this.fu=As.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HS(t,e,n=!0){const r=v_(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await g_(r,e,n,!0),s}async function GS(t,e){const n=v_(t);await g_(n,e,!0,!1)}async function g_(t,e,n,r){const s=await hS(t.localStore,hn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await zS(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&c_(t.remoteStore,s),c}async function zS(t,e,n,r,s){t.pu=(p,m,y)=>(async function(V,k,q,B){let H=k.view.ru(q);H.Cs&&(H=await Nd(V.localStore,k.query,!1).then((({documents:R})=>k.view.ru(R,H))));const W=B&&B.targetChanges.get(k.targetId),ie=B&&B.targetMismatches.get(k.targetId)!=null,le=k.view.applyChanges(H,V.isPrimaryClient,W,ie);return Bd(V,k.targetId,le.au),le.snapshot})(t,p,m,y);const i=await Nd(t.localStore,e,!0),o=new BS(e,i.Qs),c=o.ru(i.documents),l=zi.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(c,t.isPrimaryClient,l);Bd(t,n,u.au);const f=new jS(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function WS(t,e,n){const r=ue(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!Oa(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await El(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&gu(r.remoteStore,s.targetId),Il(r,s.targetId)})).catch(Ns)):(Il(r,s.targetId),await El(r.localStore,s.targetId,!0))}async function KS(t,e){const n=ue(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gu(n.remoteStore,r.targetId))}async function QS(t,e,n){const r=nb(t);try{const s=await(function(o,c){const l=ue(o),u=Oe.now(),f=c.reduce(((y,P)=>y.add(P.key)),_e());let p,m;return l.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let P=On(),V=_e();return l.Ns.getEntries(y,f).next((k=>{P=k,P.forEach(((q,B)=>{B.isValidDocument()||(V=V.add(q))}))})).next((()=>l.localDocuments.getOverlayedDocuments(y,P))).next((k=>{p=k;const q=[];for(const B of c){const H=fR(B,p.get(B.key).overlayedDocument);H!=null&&q.push(new Er(B.key,H,Ag(H.value.mapValue),dt.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,q,c)})).next((k=>{m=k;const q=k.applyToLocalDocumentSet(p,V);return l.documentOverlayCache.saveOverlays(y,k.batchId,q)}))})).then((()=>({batchId:m.batchId,changes:xg(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,c,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Le(ge)),u=u.insert(c,l),o.Vu[o.currentUser.toKey()]=u})(r,s.batchId,n),await Ki(r,s.changes),await qa(r.remoteStore)}catch(s){const i=vu(s,"Failed to persist write");n.reject(i)}}async function __(t,e){const n=ue(t);try{const r=await cS(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(Te(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Te(o.hu,14607):s.removedDocuments.size>0&&(Te(o.hu,42227),o.hu=!1))})),await Ki(n,r,e)}catch(r){await Ns(r)}}function Ud(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const c=o.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(o,c){const l=ue(o);l.onlineState=c;let u=!1;l.queries.forEach(((f,p)=>{for(const m of p.Sa)m.va(c)&&(u=!0)})),u&&Au(l)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JS(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Le(Z.comparator);o=o.insert(i,Ze.newNoDocument(i,oe.min()));const c=_e().add(i),l=new Ua(oe.min(),new Map,new Le(ge),o,c);await __(r,l),r.du=r.du.remove(i),r.Au.delete(e),bu(r)}else await El(r.localStore,e,!1).then((()=>Il(r,e,n))).catch(Ns)}async function YS(t,e){const n=ue(t),r=e.batch.batchId;try{const s=await aS(n.localStore,e);E_(n,r,null),y_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ki(n,s)}catch(s){await Ns(s)}}async function XS(t,e,n){const r=ue(t);try{const s=await(function(o,c){const l=ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let f;return l.mutationQueue.lookupMutationBatch(u,c).next((p=>(Te(p!==null,37113),f=p.keys(),l.mutationQueue.removeMutationBatch(u,p)))).next((()=>l.mutationQueue.performConsistencyCheck(u))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,c))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f))).next((()=>l.localDocuments.getDocuments(u,f)))}))})(r.localStore,e);E_(r,e,n),y_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ki(r,s)}catch(s){await Ns(s)}}function y_(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function E_(t,e,n){const r=ue(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Il(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||T_(t,r)}))}function T_(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(gu(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),bu(t))}function Bd(t,e,n){for(const r of n)r instanceof p_?(t.Ru.addReference(r.key,e),ZS(t,r)):r instanceof m_?(X(Su,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||T_(t,r.key)):ne(19791,{wu:r})}function ZS(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(X(Su,"New document in limbo: "+n),t.Eu.add(r),bu(t))}function bu(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Z(Ce.fromString(e)),r=t.fu.next();t.Au.set(r,new qS(n)),t.du=t.du.insert(n,r),c_(t.remoteStore,new nr(hn(ka(n.path)),r,"TargetPurposeLimboResolution",Va.ce))}}async function Ki(t,e,n){const r=ue(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,l)=>{o.push(r.pu(l,e,n).then((u=>{if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){s.push(u);const f=du.As(l.targetId,u);i.push(f)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(l,u){const f=ue(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>L.forEach(u,(m=>L.forEach(m.Es,(y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y))).next((()=>L.forEach(m.ds,(y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))))))}catch(p){if(!Vs(p))throw p;X(pu,"Failed to update sequence numbers: "+p)}for(const p of u){const m=p.targetId;if(!p.fromCache){const y=f.Ms.get(m),P=y.snapshotVersion,V=y.withLastLimboFreeSnapshotVersion(P);f.Ms=f.Ms.insert(m,V)}}})(r.localStore,i))}async function eb(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){X(Su,"User change. New user:",e.toKey());const r=await i_(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((c=>{c.forEach((l=>{l.reject(new z(D.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ki(n,r.Ls)}}function tb(t,e){const n=ue(t),r=n.Au.get(e);if(r&&r.hu)return _e().add(r.key);{let s=_e();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const c=n.Tu.get(o);s=s.unionWith(c.view.nu)}return s}}function v_(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=__.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JS.bind(null,e),e.Pu.H_=FS.bind(null,e.eventManager),e.Pu.yu=US.bind(null,e.eventManager),e}function nb(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XS.bind(null,e),e}class ia{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ba(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return oS(this.persistence,new rS,e.initialUser,this.serializer)}Cu(e){return new s_(fu.mi,this.serializer)}Du(e){return new dS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ia.provider={build:()=>new ia};class rb extends ia{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Te(this.persistence.referenceDelegate instanceof ra,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new qR(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rt.withCacheSize(this.cacheSizeBytes):Rt.DEFAULT;return new s_((r=>ra.mi(r,n)),this.serializer)}}class wl{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ud(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eb.bind(null,this.syncEngine),await xS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new LS})()}createDatastore(e){const n=Ba(e.databaseInfo.databaseId),r=(function(i){return new yS(i)})(e.databaseInfo);return(function(i,o,c,l){return new IS(i,o,c,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,o,c){return new AS(r,s,i,o,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>Ud(this.syncEngine,n,0)),(function(){return kd.v()?new kd:new pS})())}createSyncEngine(e,n){return(function(s,i,o,c,l,u,f){const p=new $S(s,i,o,c,l,u);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ue(n);X($r,"RemoteStore shutting down."),r.Ea.add(5),await Wi(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wl.provider={build:()=>new wl};class Cu{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):kn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class sb{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new z(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(s,i){const o=ue(s),c={documents:i.map((p=>na(o.serializer,p)))},l=await o.Ho("BatchGetDocuments",o.serializer.databaseId,Ce.emptyPath(),c,i.length),u=new Map;l.forEach((p=>{const m=RR(o.serializer,p);u.set(m.key.toString(),m)}));const f=[];return i.forEach((p=>{const m=u.get(p.toString());Te(!!m,55234,{key:p}),f.push(m)})),f})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Fa(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const s=Z.fromPath(r);this.mutations.push(new Hg(s,this.precondition(s)))})),await(async function(r,s){const i=ue(r),o={writes:s.map((c=>Zg(i.serializer,c)))};await i.Go("Commit",i.serializer.databaseId,Ce.emptyPath(),o)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ne(50498,{Gu:e.constructor.name});n=oe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new z(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(oe.min())?dt.exists(!1):dt.updateTime(n):dt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(oe.min()))throw new z(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dt.updateTime(n)}return dt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ib{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this.zu=r.maxAttempts,this.M_=new mu(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new sb(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((s=>{this.Yu(s)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!Hi(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Gg(n)}return!1}}const _r="FirestoreClient";class ob{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ut.UNAUTHENTICATED,this.clientId=tu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{X(_r,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(X(_r,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=vu(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Lc(t,e){t.asyncQueue.verifyOperationInProgress(),X(_r,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await i_(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function jd(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ab(t);X(_r,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>xd(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>xd(e.remoteStore,s))),t._onlineComponents=e}async function ab(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(_r,"Using user provided OfflineComponentProvider");try{await Lc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===D.FAILED_PRECONDITION||s.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Ts("Error using user provided cache. Falling back to memory cache: "+n),await Lc(t,new ia)}}else X(_r,"Using default OfflineComponentProvider"),await Lc(t,new rb(void 0));return t._offlineComponents}async function Pu(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(_r,"Using user provided OnlineComponentProvider"),await jd(t,t._uninitializedComponentsProvider._online)):(X(_r,"Using default OnlineComponentProvider"),await jd(t,new wl))),t._onlineComponents}function cb(t){return Pu(t).then((e=>e.syncEngine))}function lb(t){return Pu(t).then((e=>e.datastore))}async function oa(t){const e=await Pu(t),n=e.eventManager;return n.onListen=HS.bind(null,e.syncEngine),n.onUnlisten=WS.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GS.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KS.bind(null,e.syncEngine),n}function ub(t,e,n={}){const r=new un;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,c,l,u){const f=new Cu({next:m=>{f.Nu(),o.enqueueAndForget((()=>wu(i,p)));const y=m.docs.has(c);!y&&m.fromCache?u.reject(new z(D.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&l&&l.source==="server"?u.reject(new z(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new Ru(ka(c.path),f,{includeMetadataChanges:!0,qa:!0});return Iu(i,p)})(await oa(t),t.asyncQueue,e,n,r))),r.promise}function hb(t,e,n={}){const r=new un;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,c,l,u){const f=new Cu({next:m=>{f.Nu(),o.enqueueAndForget((()=>wu(i,p))),m.fromCache&&l.source==="server"?u.reject(new z(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new Ru(c,f,{includeMetadataChanges:!0,qa:!0});return Iu(i,p)})(await oa(t),t.asyncQueue,e,n,r))),r.promise}function I_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const qd=new Map;const w_="firestore.googleapis.com",$d=!0;class Hd{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new z(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=w_,this.ssl=$d}else this.host=e.host,this.ssl=e.ssl??$d;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=r_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BR)throw new z(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I_(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new z(D.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new z(D.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new z(D.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $a{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hd(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new pA;switch(r.type){case"firstParty":return new yA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=qd.get(n);r&&(X("ComponentProvider","Removing Datastore"),qd.delete(n),r.terminate())})(this),Promise.resolve()}}function fb(t,e,n,r={}){t=St(t,$a);const s=bs(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(Ym(`https://${c}`),Xm("Firestore",!0)),i.host!==w_&&i.host!==c&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:c,ssl:s,emulatorOptions:r};if(!Br(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=ut.MOCK_USER;else{u=UI(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new z(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ut(p)}t._authCredentials=new mA(new fg(u,f))}}class Un{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Un(this.firestore,e,this._query)}}class Me{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Me(this.firestore,e,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if($i(n,Me._jsonSchema))return new Me(e,r||null,new Z(Ce.fromString(n.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Ge("string",Me._jsonSchemaVersion),referencePath:Ge("string")};class cr extends Un{constructor(e,n,r){super(e,n,ka(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Me(this.firestore,null,new Z(e))}withConverter(e){return new cr(this.firestore,e,this._path)}}function HP(t,e,...n){if(t=ze(t),dg("collection","path",e),t instanceof $a){const r=Ce.fromString(e,...n);return rd(r),new cr(t,null,r)}{if(!(t instanceof Me||t instanceof cr))throw new z(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ce.fromString(e,...n));return rd(r),new cr(t.firestore,null,r)}}function db(t,e,...n){if(t=ze(t),arguments.length===1&&(e=tu.newId()),dg("doc","path",e),t instanceof $a){const r=Ce.fromString(e,...n);return nd(r),new Me(t,null,new Z(r))}{if(!(t instanceof Me||t instanceof cr))throw new z(D.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ce.fromString(e,...n));return nd(r),new Me(t.firestore,t instanceof cr?t.converter:null,new Z(r))}}const Gd="AsyncQueue";class zd{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mu(this,"async_queue_retry"),this._c=()=>{const r=Mc();r&&X(Gd,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Mc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new un;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vs(e))throw e;X(Gd,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,kn("INTERNAL UNHANDLED ERROR: ",Wd(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Tu.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&ne(47125,{Pc:Wd(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Wd(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function Kd(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(t,["next","error","complete"])}class xn extends $a{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new zd,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zd(e),this._firestoreClient=void 0,await e}}}function pb(t,e){const n=typeof t=="object"?t:ng(),r=typeof t=="string"?t:Jo,s=Zl(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=LI("firestore");i&&fb(s,...i)}return s}function Qi(t){if(t._terminated)throw new z(D.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mb(t),t._firestoreClient}function mb(t){const e=t._freezeSettings(),n=(function(s,i,o,c){return new MA(s,i,o,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,I_(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new ob(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(t._componentsProvider))}class Dt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dt(it.fromBase64String(e))}catch(n){throw new z(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dt(it.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($i(e,Dt._jsonSchema))return Dt.fromBase64String(e.bytes)}}Dt._jsonSchemaVersion="firestore/bytes/1.0",Dt._jsonSchema={type:Ge("string",Dt._jsonSchemaVersion),bytes:Ge("string")};class Ji{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new st(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ha{constructor(e){this._methodName=e}}class fn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fn._jsonSchemaVersion}}static fromJSON(e){if($i(e,fn._jsonSchema))return new fn(e.latitude,e.longitude)}}fn._jsonSchemaVersion="firestore/geoPoint/1.0",fn._jsonSchema={type:Ge("string",fn._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};class dn{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:dn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($i(e,dn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new dn(e.vectorValues);throw new z(D.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}dn._jsonSchemaVersion="firestore/vectorValue/1.0",dn._jsonSchema={type:Ge("string",dn._jsonSchemaVersion),vectorValues:Ge("object")};const gb=/^__.*__$/;class _b{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Er(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gi(e,this.data,n,this.fieldTransforms)}}class A_{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Er(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function R_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{Ac:t})}}class Nu{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Nu({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return aa(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(R_(this.Ac)&&gb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class yb{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ba(e)}Cc(e,n,r,s=!1){return new Nu({Ac:e,methodName:n,Dc:r,path:st.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ga(t){const e=t._freezeSettings(),n=Ba(t._databaseId);return new yb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function S_(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Du("Data must be an object, but it was:",o,r);const c=P_(r,o);let l,u;if(i.merge)l=new Mt(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const p of i.mergeFields){const m=Al(e,p,n);if(!o.contains(m))throw new z(D.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);V_(f,m)||f.push(m)}l=new Mt(f),u=o.fieldTransforms.filter((p=>l.covers(p.field)))}else l=null,u=o.fieldTransforms;return new _b(new vt(c),l,u)}class za extends Ha{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof za}}class Vu extends Ha{_toFieldTransform(e){return new cR(e.path,new Oi)}isEqual(e){return e instanceof Vu}}function b_(t,e,n,r){const s=t.Cc(1,e,n);Du("Data must be an object, but it was:",s,r);const i=[],o=vt.empty();yr(r,((l,u)=>{const f=ku(e,l,n);u=ze(u);const p=s.yc(f);if(u instanceof za)i.push(f);else{const m=Yi(u,p);m!=null&&(i.push(f),o.set(f,m))}}));const c=new Mt(i);return new A_(o,c,s.fieldTransforms)}function C_(t,e,n,r,s,i){const o=t.Cc(1,e,n),c=[Al(e,r,n)],l=[s];if(i.length%2!=0)throw new z(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)c.push(Al(e,i[m])),l.push(i[m+1]);const u=[],f=vt.empty();for(let m=c.length-1;m>=0;--m)if(!V_(u,c[m])){const y=c[m];let P=l[m];P=ze(P);const V=o.yc(y);if(P instanceof za)u.push(y);else{const k=Yi(P,V);k!=null&&(u.push(y),f.set(y,k))}}const p=new Mt(u);return new A_(f,p,o.fieldTransforms)}function Eb(t,e,n,r=!1){return Yi(n,t.Cc(r?4:3,e))}function Yi(t,e){if(N_(t=ze(t)))return Du("Unsupported field value:",e,t),P_(t,e);if(t instanceof Ha)return(function(r,s){if(!R_(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const c of r){let l=Yi(c,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iR(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Oe.fromDate(r);return{timestampValue:ta(s.serializer,i)}}if(r instanceof Oe){const i=new Oe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ta(s.serializer,i)}}if(r instanceof fn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dt)return{bytesValue:Qg(s.serializer,r._byteString)};if(r instanceof Me){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:uu(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof dn)return(function(o,c){return{mapValue:{fields:{[Ig]:{stringValue:wg},[Yo]:{arrayValue:{values:o.toArray().map((u=>{if(typeof u!="number")throw c.Sc("VectorValues must only contain numeric values.");return au(c.serializer,u)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Na(r)}`)})(t,e)}function P_(t,e){const n={};return gg(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yr(t,((r,s)=>{const i=Yi(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function N_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Oe||t instanceof fn||t instanceof Dt||t instanceof Me||t instanceof Ha||t instanceof dn)}function Du(t,e,n){if(!N_(n)||!pg(n)){const r=Na(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Al(t,e,n){if((e=ze(e))instanceof Ji)return e._internalPath;if(typeof e=="string")return ku(t,e);throw aa("Field path arguments must be of type string or ",t,!1,void 0,n)}const Tb=new RegExp("[~\\*/\\[\\]]");function ku(t,e,n){if(e.search(Tb)>=0)throw aa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ji(...e.split("."))._internalPath}catch{throw aa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function aa(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new z(D.INVALID_ARGUMENT,c+t+l)}function V_(t,e){return t.some((n=>n.isEqual(e)))}class ca{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wa("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vb extends ca{data(){return super.data()}}function Wa(t,e){return typeof e=="string"?ku(t,e):e instanceof Ji?e._internalPath:e._delegate._internalPath}function D_(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new z(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ou{}class xu extends Ou{}function GP(t,e,...n){let r=[];e instanceof Ou&&r.push(e),r=r.concat(n),(function(i){const o=i.filter((l=>l instanceof Mu)).length,c=i.filter((l=>l instanceof Ka)).length;if(o>1||o>0&&c>0)throw new z(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Ka extends xu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ka(e,n,r)}_apply(e){const n=this._parse(e);return k_(e._query,n),new Un(e.firestore,e.converter,ml(e._query,n))}_parse(e){const n=Ga(e.firestore);return(function(i,o,c,l,u,f,p){let m;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new z(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Jd(p,f);const P=[];for(const V of p)P.push(Qd(l,i,V));m={arrayValue:{values:P}}}else m=Qd(l,i,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Jd(p,f),m=Eb(c,o,p,f==="in"||f==="not-in");return He.create(u,f,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zP(t,e,n){const r=e,s=Wa("where",t);return Ka._create(s,r,n)}class Mu extends Ou{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Mu(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:en.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,i){let o=s;const c=i.getFlattenedFilters();for(const l of c)k_(o,l),o=ml(o,l)})(e._query,n),new Un(e.firestore,e.converter,ml(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lu extends xu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Lu(e,n)}_apply(e){const n=(function(s,i,o){if(s.startAt!==null)throw new z(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new z(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ki(i,o)})(e._query,this._field,this._direction);return new Un(e.firestore,e.converter,(function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ds(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function WP(t,e="asc"){const n=e,r=Wa("orderBy",t);return Lu._create(r,n)}class Fu extends xu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Fu(e,n,r)}_apply(e){return new Un(e.firestore,e.converter,Zo(e._query,this._limit,this._limitType))}}function KP(t){return RA("limit",t),Fu._create("limit",t,"F")}function Qd(t,e,n){if(typeof(n=ze(n))=="string"){if(n==="")throw new z(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vg(e)&&n.indexOf("/")!==-1)throw new z(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ce.fromString(n));if(!Z.isDocumentKey(r))throw new z(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hd(t,new Z(r))}if(n instanceof Me)return hd(t,n._key);throw new z(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Na(n)}.`)}function Jd(t,e){if(!Array.isArray(t)||t.length===0)throw new z(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function k_(t,e){const n=(function(s,i){for(const o of s)for(const c of o.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new z(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new z(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class O_{convertValue(e,n="none"){switch(mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yr(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){const n=e.fields?.[Yo].arrayValue?.values?.map((r=>je(r.doubleValue)));return new dn(n)}convertGeoPoint(e){return new fn(je(e.latitude),je(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Da(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ni(e));default:return null}}convertTimestamp(e){const n=dr(e);return new Oe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ce.fromString(e);Te(n_(r),9688,{name:e});const s=new Vi(r.get(1),r.get(3)),i=new Z(r.popFirst(5));return s.isEqual(n)||kn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}function x_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ib extends O_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Me(this.firestore,null,n)}}class os{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lr extends ca{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Do(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wa("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new z(D.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=lr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}lr._jsonSchemaVersion="firestore/documentSnapshot/1.0",lr._jsonSchema={type:Ge("string",lr._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class Do extends lr{data(e={}){return super.data(e)}}class Ur{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new os(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Do(this._firestore,this._userDataWriter,r.key,r,new os(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((c=>{const l=new Do(s._firestore,s._userDataWriter,c.doc.key,c.doc,new os(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>i||c.type!==3)).map((c=>{const l=new Do(s._firestore,s._userDataWriter,c.doc.key,c.doc,new os(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,f=-1;return c.type!==0&&(u=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:wb(c.type),doc:l,oldIndex:u,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new z(D.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ur._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function wb(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:t})}}function Ab(t){t=St(t,Me);const e=St(t.firestore,xn);return ub(Qi(e),t._key).then((n=>M_(e,t,n)))}Ur._jsonSchemaVersion="firestore/querySnapshot/1.0",Ur._jsonSchema={type:Ge("string",Ur._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class Qa extends O_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Me(this.firestore,null,n)}}function QP(t){t=St(t,Un);const e=St(t.firestore,xn),n=Qi(e),r=new Qa(e);return D_(t._query),hb(n,t._query).then((s=>new Ur(e,r,t,s)))}function Yd(t,e,n){t=St(t,Me);const r=St(t.firestore,xn),s=x_(t.converter,e,n);return Uu(r,[S_(Ga(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,dt.none())])}function JP(t,e,n,...r){t=St(t,Me);const s=St(t.firestore,xn),i=Ga(s);let o;return o=typeof(e=ze(e))=="string"||e instanceof Ji?C_(i,"updateDoc",t._key,e,n,r):b_(i,"updateDoc",t._key,e),Uu(s,[o.toMutation(t._key,dt.exists(!0))])}function YP(t){return Uu(St(t.firestore,xn),[new Fa(t._key,dt.none())])}function XP(t,...e){t=ze(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Kd(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Kd(e[r])){const l=e[r];e[r]=l.next?.bind(l),e[r+1]=l.error?.bind(l),e[r+2]=l.complete?.bind(l)}let i,o,c;if(t instanceof Me)o=St(t.firestore,xn),c=ka(t._key.path),i={next:l=>{e[r]&&e[r](M_(o,t,l))},error:e[r+1],complete:e[r+2]};else{const l=St(t,Un);o=St(l.firestore,xn),c=l._query;const u=new Qa(o);i={next:f=>{e[r]&&e[r](new Ur(o,u,l,f))},error:e[r+1],complete:e[r+2]},D_(t._query)}return(function(u,f,p,m){const y=new Cu(m),P=new Ru(f,y,p);return u.asyncQueue.enqueueAndForget((async()=>Iu(await oa(u),P))),()=>{y.Nu(),u.asyncQueue.enqueueAndForget((async()=>wu(await oa(u),P)))}})(Qi(o),c,s,i)}function Uu(t,e){return(function(r,s){const i=new un;return r.asyncQueue.enqueueAndForget((async()=>QS(await cb(r),s,i))),i.promise})(Qi(t),e)}function M_(t,e,n){const r=n.docs.get(e._key),s=new Qa(t);return new lr(t,s,e._key,r,new os(n.hasPendingWrites,n.fromCache),e.converter)}const Rb={maxAttempts:5};function si(t,e){if((t=ze(t)).firestore!==e)throw new z(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class Sb{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Ga(e)}get(e){const n=si(e,this._firestore),r=new Ib(this._firestore);return this._transaction.lookup([n._key]).then((s=>{if(!s||s.length!==1)return ne(24041);const i=s[0];if(i.isFoundDocument())return new ca(this._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new ca(this._firestore,r,n._key,null,n.converter);throw ne(18433,{doc:i})}))}set(e,n,r){const s=si(e,this._firestore),i=x_(s.converter,n,r),o=S_(this._dataReader,"Transaction.set",s._key,i,s.converter!==null,r);return this._transaction.set(s._key,o),this}update(e,n,r,...s){const i=si(e,this._firestore);let o;return o=typeof(n=ze(n))=="string"||n instanceof Ji?C_(this._dataReader,"Transaction.update",i._key,n,r,s):b_(this._dataReader,"Transaction.update",i._key,n),this._transaction.update(i._key,o),this}delete(e){const n=si(e,this._firestore);return this._transaction.delete(n._key),this}}class bb extends Sb{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=si(e,this._firestore),r=new Qa(this._firestore);return super.get(e).then((s=>new lr(this._firestore,r,n._key,s._document,new os(!1,!1),n.converter)))}}function ZP(t,e,n){t=St(t,xn);const r={...Rb,...n};return(function(i){if(i.maxAttempts<1)throw new z(D.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(i,o,c){const l=new un;return i.asyncQueue.enqueueAndForget((async()=>{const u=await lb(i);new ib(i.asyncQueue,u,c,o,l).ju()})),l.promise})(Qi(t),(s=>e(new bb(t,s))),r)}function Fc(){return new Vu("serverTimestamp")}(function(e,n=!0){(function(s){Ps=s})(Cs),Es(new jr("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),c=new xn(new gA(r.getProvider("auth-internal")),new EA(o,r.getProvider("app-check-internal")),(function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new z(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vi(u.options.projectId,f)})(o,s),o);return i={useFetchStreams:n,...i},c._setSettings(i),c}),"PUBLIC").setMultipleInstances(!0)),or(Xf,Zf,e),or(Xf,Zf,"esm2020")})();function L_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Cb=L_,F_=new ji("auth","Firebase",L_());const la=new Yl("@firebase/auth");function Pb(t,...e){la.logLevel<=me.WARN&&la.warn(`Auth (${Cs}): ${t}`,...e)}function ko(t,...e){la.logLevel<=me.ERROR&&la.error(`Auth (${Cs}): ${t}`,...e)}function _n(t,...e){throw ju(t,...e)}function Jt(t,...e){return ju(t,...e)}function Bu(t,e,n){const r={...Cb(),[e]:n};return new ji("auth","Firebase",r).create(e,{appName:t.name})}function ur(t){return Bu(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function U_(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&_n(t,"argument-error"),Bu(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ju(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return F_.create(t,...e)}function ce(t,e,...n){if(!t)throw ju(e,...n)}function bn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ko(e),new Error(e)}function Mn(t,e){t||bn(e)}function Rl(){return typeof self<"u"&&self.location?.href||""}function Nb(){return Xd()==="http:"||Xd()==="https:"}function Xd(){return typeof self<"u"&&self.location?.protocol||null}function Vb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Nb()||GI()||"connection"in navigator)?navigator.onLine:!0}function Db(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Xi{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mn(n>e,"Short delay should be less than long delay!"),this.isMobile=qI()||zI()}get(){return Vb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qu(t,e){Mn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class B_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Ob=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xb=new Xi(3e4,6e4);function $u(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Os(t,e,n,r,s={}){return j_(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const c=qi({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return HI()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&bs(t.emulatorConfig.host)&&(u.credentials="include"),B_.fetch()(await q_(t,t.config.apiHost,n,c),u)})}async function j_(t,e,n){t._canInitEmulator=!1;const r={...kb,...e};try{const s=new Lb(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw vo(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const c=i.ok?o.errorMessage:o.error.message,[l,u]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw vo(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw vo(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw vo(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Bu(t,f,u);_n(t,f)}}catch(s){if(s instanceof Fn)throw s;_n(t,"network-request-failed",{message:String(s)})}}async function Mb(t,e,n,r,s={}){const i=await Os(t,e,n,r,s);return"mfaPendingCredential"in i&&_n(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function q_(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?qu(t.config,s):`${t.config.apiScheme}://${s}`;return Ob.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class Lb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jt(this.auth,"network-request-failed")),xb.get())})}}function vo(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Jt(t,e,r);return s.customData._tokenResponse=n,s}async function Fb(t,e){return Os(t,"POST","/v1/accounts:delete",e)}async function ua(t,e){return Os(t,"POST","/v1/accounts:lookup",e)}function Ei(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ub(t,e=!1){const n=ze(t),r=await n.getIdToken(e),s=Hu(r);ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:Ei(Uc(s.auth_time)),issuedAtTime:Ei(Uc(s.iat)),expirationTime:Ei(Uc(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function Uc(t){return Number(t)*1e3}function Hu(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ko("JWT malformed, contained fewer than 3 sections"),null;try{const s=Wm(n);return s?JSON.parse(s):(ko("Failed to decode base64 JWT payload"),null)}catch(s){return ko("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Zd(t){const e=Hu(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Li(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fn&&Bb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Bb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class jb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Sl{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ei(this.lastLoginAt),this.creationTime=Ei(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ha(t){const e=t.auth,n=await t.getIdToken(),r=await Li(t,ua(e,{idToken:n}));ce(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=s.providerUserInfo?.length?$_(s.providerUserInfo):[],o=$b(t.providerData,i),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!o?.length,u=c?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Sl(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function qb(t){const e=ze(t);await ha(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $b(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function $_(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Hb(t,e){const n=await j_(t,{},async()=>{const r=qi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await q_(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:c,body:r};return t.emulatorConfig&&bs(t.emulatorConfig.host)&&(l.credentials="include"),B_.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Gb(t,e){return Os(t,"POST","/v2/accounts:revokeToken",$u(t,e))}class ds{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zd(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=Zd(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Hb(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ds;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ce(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ce(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ds,this.toJSON())}_performRefresh(){return bn("not implemented")}}function Kn(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wt{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new jb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Sl(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Li(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ub(this,e)}reload(){return qb(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ha(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ut(this.auth.app))return Promise.reject(ur(this.auth));const e=await this.getIdToken();return await Li(this,Fb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,c=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:y,providerData:P,stsTokenManager:V}=n;ce(p&&V,e,"internal-error");const k=ds.fromJSON(this.name,V);ce(typeof p=="string",e,"internal-error"),Kn(r,e.name),Kn(s,e.name),ce(typeof m=="boolean",e,"internal-error"),ce(typeof y=="boolean",e,"internal-error"),Kn(i,e.name),Kn(o,e.name),Kn(c,e.name),Kn(l,e.name),Kn(u,e.name),Kn(f,e.name);const q=new Wt({uid:p,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:i,tenantId:c,stsTokenManager:k,createdAt:u,lastLoginAt:f});return P&&Array.isArray(P)&&(q.providerData=P.map(B=>({...B}))),l&&(q._redirectEventId=l),q}static async _fromIdTokenResponse(e,n,r=!1){const s=new ds;s.updateFromServerResponse(n);const i=new Wt({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ha(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ce(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?$_(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,c=new ds;c.updateFromIdToken(r);const l=new Wt({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Sl(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(l,u),l}}const ep=new Map;function Cn(t){Mn(t instanceof Function,"Expected a class definition");let e=ep.get(t);return e?(Mn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ep.set(t,e),e)}class H_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}H_.type="NONE";const tp=H_;function Oo(t,e,n){return`firebase:${t}:${e}:${n}`}class ps{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Oo(this.userKey,s.apiKey,i),this.fullPersistenceKey=Oo("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ua(this.auth,{idToken:e}).catch(()=>{});return n?Wt._fromGetAccountInfoResponse(this.auth,n,e):null}return Wt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ps(Cn(tp),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Cn(tp);const o=Oo(r,e.config.apiKey,e.name);let c=null;for(const u of n)try{const f=await u._get(o);if(f){let p;if(typeof f=="string"){const m=await ua(e,{idToken:f}).catch(()=>{});if(!m)break;p=await Wt._fromGetAccountInfoResponse(e,m,f)}else p=Wt._fromJSON(e,f);u!==i&&(c=p),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ps(i,e,r):(i=l[0],c&&await i._set(o,c.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new ps(i,e,r))}}function np(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(K_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(G_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(J_(e))return"Blackberry";if(Y_(e))return"Webos";if(z_(e))return"Safari";if((e.includes("chrome/")||W_(e))&&!e.includes("edge/"))return"Chrome";if(Q_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function G_(t=mt()){return/firefox\//i.test(t)}function z_(t=mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function W_(t=mt()){return/crios\//i.test(t)}function K_(t=mt()){return/iemobile/i.test(t)}function Q_(t=mt()){return/android/i.test(t)}function J_(t=mt()){return/blackberry/i.test(t)}function Y_(t=mt()){return/webos/i.test(t)}function Gu(t=mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zb(t=mt()){return Gu(t)&&!!window.navigator?.standalone}function Wb(){return WI()&&document.documentMode===10}function X_(t=mt()){return Gu(t)||Q_(t)||Y_(t)||J_(t)||/windows phone/i.test(t)||K_(t)}function Z_(t,e=[]){let n;switch(t){case"Browser":n=np(mt());break;case"Worker":n=`${np(mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cs}/${r}`}class Kb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,c)=>{try{const l=e(i);o(l)}catch(l){c(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Qb(t,e={}){return Os(t,"GET","/v2/passwordPolicy",$u(t,e))}const Jb=6;class Yb{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Jb,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Xb{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rp(this),this.idTokenSubscription=new rp(this),this.beforeStateQueue=new Kb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cn(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ps.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ua(this,{idToken:e}),r=await Wt._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ut(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!i||i===o)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ha(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Db()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ut(this.app))return Promise.reject(ur(this));const n=e?ze(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ut(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ut(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Qb(this),n=new Yb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ji("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Gb(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cn(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await ps.create(this,[Cn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(c,this,"internal-error"),c.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Z_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ut(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Pb(`Error while retrieving App Check token: ${e.error}`),e?.token}}function xs(t){return ze(t)}class rp{constructor(e){this.auth=e,this.observer=null,this.addObserver=tw(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zb(t){zu=t}function eC(t){return zu.loadJS(t)}function tC(){return zu.gapiScript}function nC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function rC(t,e){const n=Zl(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Br(i,e??{}))return s;_n(s,"already-initialized")}return n.initialize({options:e})}function sC(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Cn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function iC(t,e,n){const r=xs(t);ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=ey(e),{host:o,port:c}=oC(e),l=c===null?"":`:${c}`,u={url:`${i}//${o}${l}/`},f=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ce(Br(u,r.config.emulator)&&Br(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,bs(o)?(Ym(`${i}//${o}${l}`),Xm("Auth",!0)):aC()}function ey(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oC(t){const e=ey(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:sp(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:sp(o)}}}function sp(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class ty{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bn("not implemented")}_getIdTokenResponse(e){return bn("not implemented")}_linkToIdToken(e,n){return bn("not implemented")}_getReauthenticationResolver(e){return bn("not implemented")}}async function ms(t,e){return Mb(t,"POST","/v1/accounts:signInWithIdp",$u(t,e))}const cC="http://localhost";class Hr extends ty{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Hr(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ms(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ms(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ms(e,n)}buildRequest(){const e={requestUri:cC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qi(n)}return e}}class Ja{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zi extends Ja{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zn extends Zi{constructor(){super("facebook.com")}static credential(e){return Hr._fromParams({providerId:Zn.PROVIDER_ID,signInMethod:Zn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zn.credentialFromTaggedObject(e)}static credentialFromError(e){return Zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zn.credential(e.oauthAccessToken)}catch{return null}}}Zn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zn.PROVIDER_ID="facebook.com";class Sn extends Zi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hr._fromParams({providerId:Sn.PROVIDER_ID,signInMethod:Sn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Sn.credentialFromTaggedObject(e)}static credentialFromError(e){return Sn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Sn.credential(n,r)}catch{return null}}}Sn.GOOGLE_SIGN_IN_METHOD="google.com";Sn.PROVIDER_ID="google.com";class er extends Zi{constructor(){super("github.com")}static credential(e){return Hr._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";class tr extends Zi{constructor(){super("twitter.com")}static credential(e,n){return Hr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return tr.credential(n,r)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";class Ss{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Wt._fromIdTokenResponse(e,r,s),o=ip(r);return new Ss({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=ip(r);return new Ss({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function ip(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class fa extends Fn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,fa.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new fa(e,n,r,s)}}function ny(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?fa._fromErrorAndOperation(t,i,e,r):i})}async function lC(t,e,n=!1){const r=await Li(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ss._forOperation(t,"link",r)}async function uC(t,e,n=!1){const{auth:r}=t;if(Ut(r.app))return Promise.reject(ur(r));const s="reauthenticate";try{const i=await Li(t,ny(r,s,e,t),n);ce(i.idToken,r,"internal-error");const o=Hu(i.idToken);ce(o,r,"internal-error");const{sub:c}=o;return ce(t.uid===c,r,"user-mismatch"),Ss._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&_n(r,"user-mismatch"),i}}async function hC(t,e,n=!1){if(Ut(t.app))return Promise.reject(ur(t));const r="signIn",s=await ny(t,r,e),i=await Ss._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function fC(t,e,n,r){return ze(t).onIdTokenChanged(e,n,r)}function dC(t,e,n){return ze(t).beforeAuthStateChanged(e,n)}function e0(t,e,n,r){return ze(t).onAuthStateChanged(e,n,r)}function t0(t){return ze(t).signOut()}const da="__sak";class ry{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(da,"1"),this.storage.removeItem(da),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const pC=1e3,mC=10;class sy extends ry{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Wb()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,mC):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sy.type="LOCAL";const gC=sy;class iy extends ry{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iy.type="SESSION";const oy=iy;function _C(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ya{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Ya(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(o).map(async u=>u(n.origin,i)),l=await _C(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ya.receivers=[];function Wu(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class yC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((c,l)=>{const u=Wu("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(m.data.response);break;default:clearTimeout(f),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function pn(){return window}function EC(t){pn().location.href=t}function ay(){return typeof pn().WorkerGlobalScope<"u"&&typeof pn().importScripts=="function"}async function TC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vC(){return navigator?.serviceWorker?.controller||null}function IC(){return ay()?self:null}const cy="firebaseLocalStorageDb",wC=1,pa="firebaseLocalStorage",ly="fbase_key";class eo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xa(t,e){return t.transaction([pa],e?"readwrite":"readonly").objectStore(pa)}function AC(){const t=indexedDB.deleteDatabase(cy);return new eo(t).toPromise()}function bl(){const t=indexedDB.open(cy,wC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pa,{keyPath:ly})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pa)?e(r):(r.close(),await AC(),e(await bl()))})})}async function op(t,e,n){const r=Xa(t,!0).put({[ly]:e,value:n});return new eo(r).toPromise()}async function RC(t,e){const n=Xa(t,!1).get(e),r=await new eo(n).toPromise();return r===void 0?null:r.value}function ap(t,e){const n=Xa(t,!0).delete(e);return new eo(n).toPromise()}const SC=800,bC=3;class uy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bl(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ay()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ya._getInstance(IC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await TC(),!this.activeServiceWorker)return;this.sender=new yC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bl();return await op(e,da,"1"),await ap(e,da),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>op(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>RC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ap(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Xa(s,!1).getAll();return new eo(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uy.type="LOCAL";const CC=uy;new Xi(3e4,6e4);function Ku(t,e){return e?Cn(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Qu extends ty{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ms(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ms(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PC(t){return hC(t.auth,new Qu(t),t.bypassAuthState)}function NC(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),uC(n,new Qu(t),t.bypassAuthState)}async function VC(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),lC(n,new Qu(t),t.bypassAuthState)}class hy{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:c}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PC;case"linkViaPopup":case"linkViaRedirect":return VC;case"reauthViaPopup":case"reauthViaRedirect":return NC;default:_n(this.auth,"internal-error")}}resolve(e){Mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const DC=new Xi(2e3,1e4);async function kC(t,e,n){if(Ut(t.app))return Promise.reject(Jt(t,"operation-not-supported-in-this-environment"));const r=xs(t);U_(t,e,Ja);const s=Ku(r,n);return new xr(r,"signInViaPopup",e,s).executeNotNull()}class xr extends hy{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,xr.currentPopupAction&&xr.currentPopupAction.cancel(),xr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){Mn(this.filter.length===1,"Popup operations only handle one event");const e=Wu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Jt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DC.get())};e()}}xr.currentPopupAction=null;const OC="pendingRedirect",xo=new Map;class xC extends hy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xo.get(this.auth._key());if(!e){try{const r=await MC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xo.set(this.auth._key(),e)}return this.bypassAuthState||xo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MC(t,e){const n=dy(e),r=fy(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function LC(t,e){return fy(t)._set(dy(e),"true")}function FC(t,e){xo.set(t._key(),e)}function fy(t){return Cn(t._redirectPersistence)}function dy(t){return Oo(OC,t.config.apiKey,t.name)}function UC(t,e,n){return BC(t,e,n)}async function BC(t,e,n){if(Ut(t.app))return Promise.reject(ur(t));const r=xs(t);U_(t,e,Ja),await r._initializationPromise;const s=Ku(r,n);return await LC(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function jC(t,e){return await xs(t)._initializationPromise,py(t,e,!1)}async function py(t,e,n=!1){if(Ut(t.app))return Promise.reject(ur(t));const r=xs(t),s=Ku(r,e),o=await new xC(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}const qC=600*1e3;class $C{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!my(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Jt(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qC&&this.cachedEventUids.clear(),this.cachedEventUids.has(cp(e))}saveEventToCache(e){this.cachedEventUids.add(cp(e)),this.lastProcessedEventTime=Date.now()}}function cp(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function my({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function HC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return my(t);default:return!1}}async function GC(t,e={}){return Os(t,"GET","/v1/projects",e)}const zC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WC=/^https?/;async function KC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GC(t);for(const n of e)try{if(QC(n))return}catch{}_n(t,"unauthorized-domain")}function QC(t){const e=Rl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!WC.test(n))return!1;if(zC.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const JC=new Xi(3e4,6e4);function lp(){const t=pn().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function YC(t){return new Promise((e,n)=>{function r(){lp(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lp(),n(Jt(t,"network-request-failed"))},timeout:JC.get()})}if(pn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(pn().gapi?.load)r();else{const s=nC("iframefcb");return pn()[s]=()=>{gapi.load?r():n(Jt(t,"network-request-failed"))},eC(`${tC()}?onload=${s}`).catch(i=>n(i))}}).catch(e=>{throw Mo=null,e})}let Mo=null;function XC(t){return Mo=Mo||YC(t),Mo}const ZC=new Xi(5e3,15e3),eP="__/auth/iframe",tP="emulator/auth/iframe",nP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sP(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qu(e,tP):`https://${t.config.authDomain}/${eP}`,r={apiKey:e.apiKey,appName:t.name,v:Cs},s=rP.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${qi(r).slice(1)}`}async function iP(t){const e=await XC(t),n=pn().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:sP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nP,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Jt(t,"network-request-failed"),c=pn().setTimeout(()=>{i(o)},ZC.get());function l(){pn().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{i(o)})}))}const oP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aP=500,cP=600,lP="_blank",uP="http://localhost";class up{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hP(t,e,n,r=aP,s=cP){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l={...oP,width:r.toString(),height:s.toString(),top:i,left:o},u=mt().toLowerCase();n&&(c=W_(u)?lP:n),G_(u)&&(e=e||uP,l.scrollbars="yes");const f=Object.entries(l).reduce((m,[y,P])=>`${m}${y}=${P},`,"");if(zb(u)&&c!=="_self")return fP(e||"",c),new up(null);const p=window.open(e||"",c,f);ce(p,t,"popup-blocked");try{p.focus()}catch{}return new up(p)}function fP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const dP="__/auth/handler",pP="emulator/auth/handler",mP=encodeURIComponent("fac");async function hp(t,e,n,r,s,i){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Cs,eventId:s};if(e instanceof Ja){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ew(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof Zi){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const l=await t._getAppCheckToken(),u=l?`#${mP}=${encodeURIComponent(l)}`:"";return`${gP(t)}?${qi(c).slice(1)}${u}`}function gP({config:t}){return t.emulator?qu(t,pP):`https://${t.authDomain}/${dP}`}const Bc="webStorageSupport";class _P{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oy,this._completeRedirectFn=py,this._overrideRedirectResult=FC}async _openPopup(e,n,r,s){Mn(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await hp(e,n,r,Rl(),s);return hP(e,i,Wu())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await hp(e,n,r,Rl(),s);return EC(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Mn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await iP(e),r=new $C(e);return n.register("authEvent",s=>(ce(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bc,{type:Bc},s=>{const i=s?.[0]?.[Bc];i!==void 0&&n(!!i),_n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return X_()||z_()||Gu()}}const yP=_P;var fp="@firebase/auth",dp="1.12.0";class EP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function TP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vP(t){Es(new jr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Z_(t)},u=new Xb(r,s,i,l);return sC(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Es(new jr("auth-internal",e=>{const n=xs(e.getProvider("auth").getImmediate());return(r=>new EP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(fp,dp,TP(t)),or(fp,dp,"esm2020")}const IP=300,wP=Jm("authIdTokenMaxAge")||IP;let pp=null;const AP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wP)return;const s=n?.token;pp!==s&&(pp=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function RP(t=ng()){const e=Zl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rC(t,{popupRedirectResolver:yP,persistence:[CC,gC,oy]}),r=Jm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=AP(i.toString());dC(n,o,()=>o(n.currentUser)),fC(n,c=>o(c))}}const s=Km("auth");return s&&iC(n,`http://${s}`),n}function SP(){return document.getElementsByTagName("head")?.[0]??document}Zb({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Jt("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",SP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vP("Browser");const bP={apiKey:"AIzaSyAnH6OrDHBa-ljtrEpfAmwDzSXZdVqLBzw",authDomain:"taro-test-dc290.firebaseapp.com",projectId:"taro-test-dc290",storageBucket:"taro-test-dc290.firebasestorage.app",messagingSenderId:"561002476888",appId:"1:561002476888:web:8a51ece156741e965a212d",measurementId:"G-7LQTPF9BNL"},gy=tg(bP),CP=pb(gy),jc=RP(gy),mp=new Sn,PP=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},NP={class:"login-container"},VP={__name:"LoginView",setup(t){const e=AI(),n=async s=>{if(!s)return;const i=db(CP,"users",s.uid);(await Ab(i)).exists()?await Yd(i,{lastLogin:Fc()},{merge:!0}):(console.log("..."),await Yd(i,{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,totalCollections:0,createdAt:Fc(),lastLogin:Fc()}))};$l(async()=>{try{const s=await jC(jc);s&&(await n(s.user),console.log(":",s.user.displayName),e.push("/Home"))}catch(s){console.error(":",s.code)}});const r=async()=>{const s=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);try{s?await UC(jc,mp):(await kC(jc,mp),e.push("/Home"))}catch(i){console.error(i)}};return(s,i)=>(zl(),RT("div",NP,[i[4]||(i[4]=wt("div",{class:"brand-section"},[wt("div",{class:"brand-content"},[wt("img",{src:CI,alt:"Logo",class:"main-logo"}),wt("p",{class:"app-slogan"},"")])],-1)),wt("div",{class:"auth-section"},[wt("div",{class:"login-card"},[i[1]||(i[1]=wt("h2",null," ",-1)),i[2]||(i[2]=wt("p",null," Google ",-1)),wt("button",{onClick:r,class:"google-login-btn"},[...i[0]||(i[0]=[wt("img",{src:"https://cdn-icons-png.flaticon.com/512/2991/2991148.png",class:"google-icon"},null,-1),Sm("  Google  ",-1)])]),i[3]||(i[3]=wt("div",{class:"footer-links"},[wt("span",null,"")],-1))])])]))}},DP=PP(VP,[["__scopeId","data-v-cd6abda7"]]),kP=wI({history:nI("/"),routes:[{path:"/",name:"Login",component:DP},{path:"/Myhome",name:"Myhome",component:()=>Zr(()=>import("./MyhomeView-B7J-zQsR.js"),__vite__mapDeps([0,1,2])),children:[{path:"List",name:"List",component:()=>Zr(()=>import("./ListView-C5ZTC0xf.js"),__vite__mapDeps([3,4]))},{path:"AddFavory",name:"AddFavory",component:()=>Zr(()=>import("./AddFavoryView-CdI9zK-s.js"),__vite__mapDeps([5,1,6]))},{path:"category/:catName",name:"CategoryList",component:()=>Zr(()=>import("./ListView-C5ZTC0xf.js"),__vite__mapDeps([3,4]))},{path:"PersonalData",name:"PersonalData",component:()=>Zr(()=>import("./PersonalDataView-CrCGPzg2.js"),__vite__mapDeps([7,1,8]))}]},{path:"/Home",name:"Home",component:()=>Zr(()=>import("./HomeView-BdYwUNnY.js"),__vite__mapDeps([9,10]))}]}),_y=mv(RI);_y.use(kP);_y.mount("#app");export{Fr as A,qP as B,Ao as C,WP as D,YP as E,Gt as F,kl as G,OP as H,UP as I,BP as J,ZP as K,Ol as L,JP as M,CI as N,HE as O,im as P,Kl as Q,Hm as R,$E as S,FP as T,zt as U,$p as V,wo as W,KP as X,QP as Y,PP as _,e0 as a,om as b,RT as c,wt as d,xt as e,xP as f,LP as g,MP as h,jc as i,db as j,CP as k,Ab as l,HP as m,zP as n,$l as o,XP as p,GP as q,TE as r,t0 as s,Xy as t,AI as u,zl as v,VE as w,Sm as x,Am as y,jP as z};
