const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MyhomeView-xSh0mGC1.js","assets/sweetalert2.esm.all-BQxta0Da.js","assets/MyhomeView-BB_LgYZb.css","assets/ListView-C5WjGSe-.js","assets/ListView-C4dkagcq.css","assets/AddFavoryView-DS5VSpXQ.js","assets/AddFavoryView-WbwF5WSn.css","assets/HomeView-DmKHyG6X.js","assets/HomeView-DKRgnJb2.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ml(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ne={},ss=[],on=()=>{},Yd=()=>!1,aa=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),gl=t=>t.startsWith("onUpdate:"),Ye=Object.assign,_l=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},wy=Object.prototype.hasOwnProperty,Re=(t,e)=>wy.call(t,e),oe=Array.isArray,is=t=>xi(t)==="[object Map]",Zd=t=>xi(t)==="[object Set]",Th=t=>xi(t)==="[object Date]",ue=t=>typeof t=="function",je=t=>typeof t=="string",dn=t=>typeof t=="symbol",Ce=t=>t!==null&&typeof t=="object",ep=t=>(Ce(t)||ue(t))&&ue(t.then)&&ue(t.catch),tp=Object.prototype.toString,xi=t=>tp.call(t),Ay=t=>xi(t).slice(8,-1),np=t=>xi(t)==="[object Object]",yl=t=>je(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,si=ml(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ca=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},Ry=/-\w/g,Lt=ca(t=>t.replace(Ry,e=>e.slice(1).toUpperCase())),Sy=/\B([A-Z])/g,qr=ca(t=>t.replace(Sy,"-$1").toLowerCase()),la=ca(t=>t.charAt(0).toUpperCase()+t.slice(1)),ec=ca(t=>t?`on${la(t)}`:""),er=(t,e)=>!Object.is(t,e),mo=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},rp=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},El=t=>{const e=parseFloat(t);return isNaN(e)?t:e},by=t=>{const e=je(t)?Number(t):NaN;return isNaN(e)?t:e};let Ih;const ua=()=>Ih||(Ih=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vl(t){if(oe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=je(r)?Vy(r):vl(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(je(t)||Ce(t))return t}const Cy=/;(?![^(]*\))/g,Py=/:([^]+)/,Ny=/\/\*[^]*?\*\//g;function Vy(t){const e={};return t.replace(Ny,"").split(Cy).forEach(n=>{if(n){const r=n.split(Py);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Tl(t){let e="";if(je(t))e=t;else if(oe(t))for(let n=0;n<t.length;n++){const r=Tl(t[n]);r&&(e+=r+" ")}else if(Ce(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Dy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Oy=ml(Dy);function sp(t){return!!t||t===""}function ky(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Vo(t[r],e[r]);return n}function Vo(t,e){if(t===e)return!0;let n=Th(t),r=Th(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=dn(t),r=dn(e),n||r)return t===e;if(n=oe(t),r=oe(e),n||r)return n&&r?ky(t,e):!1;if(n=Ce(t),r=Ce(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const c=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(c&&!l||!c&&l||!Vo(t[o],e[o]))return!1}}return String(t)===String(e)}const ip=t=>!!(t&&t.__v_isRef===!0),xy=t=>je(t)?t:t==null?"":oe(t)||Ce(t)&&(t.toString===tp||!ue(t.toString))?ip(t)?xy(t.value):JSON.stringify(t,op,2):String(t),op=(t,e)=>ip(e)?op(t,e.value):is(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[tc(r,i)+" =>"]=s,n),{})}:Zd(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>tc(n))}:dn(e)?tc(e):Ce(e)&&!oe(e)&&!np(e)?String(e):e,tc=(t,e="")=>{var n;return dn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let It;class My{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=It,!e&&It&&(this.index=(It.scopes||(It.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=It;try{return It=this,e()}finally{It=n}}}on(){++this._on===1&&(this.prevScope=It,It=this)}off(){this._on>0&&--this._on===0&&(It=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Ly(){return It}let Ve;const nc=new WeakSet;class ap{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,It&&It.active&&It.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,nc.has(this)&&(nc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||lp(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,wh(this),up(this);const e=Ve,n=Gt;Ve=this,Gt=!0;try{return this.fn()}finally{hp(this),Ve=e,Gt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Al(e);this.deps=this.depsTail=void 0,wh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?nc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Cc(this)&&this.run()}get dirty(){return Cc(this)}}let cp=0,ii,oi;function lp(t,e=!1){if(t.flags|=8,e){t.next=oi,oi=t;return}t.next=ii,ii=t}function Il(){cp++}function wl(){if(--cp>0)return;if(oi){let e=oi;for(oi=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;ii;){let e=ii;for(ii=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function up(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function hp(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Al(r),Fy(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function Cc(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(fp(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function fp(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===yi)||(t.globalVersion=yi,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Cc(t))))return;t.flags|=2;const e=t.dep,n=Ve,r=Gt;Ve=t,Gt=!0;try{up(t);const s=t.fn(t._value);(e.version===0||er(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Ve=n,Gt=r,hp(t),t.flags&=-3}}function Al(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Al(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Fy(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Gt=!0;const dp=[];function bn(){dp.push(Gt),Gt=!1}function Cn(){const t=dp.pop();Gt=t===void 0?!0:t}function wh(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ve;Ve=void 0;try{e()}finally{Ve=n}}}let yi=0;class Uy{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Rl{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Ve||!Gt||Ve===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ve)n=this.activeLink=new Uy(Ve,this),Ve.deps?(n.prevDep=Ve.depsTail,Ve.depsTail.nextDep=n,Ve.depsTail=n):Ve.deps=Ve.depsTail=n,pp(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ve.depsTail,n.nextDep=void 0,Ve.depsTail.nextDep=n,Ve.depsTail=n,Ve.deps===n&&(Ve.deps=r)}return n}trigger(e){this.version++,yi++,this.notify(e)}notify(e){Il();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{wl()}}}function pp(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)pp(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Pc=new WeakMap,Dr=Symbol(""),Nc=Symbol(""),Ei=Symbol("");function lt(t,e,n){if(Gt&&Ve){let r=Pc.get(t);r||Pc.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Rl),s.map=r,s.key=n),s.track()}}function In(t,e,n,r,s,i){const o=Pc.get(t);if(!o){yi++;return}const c=l=>{l&&l.trigger()};if(Il(),e==="clear")o.forEach(c);else{const l=oe(t),h=l&&yl(n);if(l&&n==="length"){const f=Number(r);o.forEach((p,m)=>{(m==="length"||m===Ei||!dn(m)&&m>=f)&&c(p)})}else switch((n!==void 0||o.has(void 0))&&c(o.get(n)),h&&c(o.get(Ei)),e){case"add":l?h&&c(o.get("length")):(c(o.get(Dr)),is(t)&&c(o.get(Nc)));break;case"delete":l||(c(o.get(Dr)),is(t)&&c(o.get(Nc)));break;case"set":is(t)&&c(o.get(Dr));break}}wl()}function Xr(t){const e=Ie(t);return e===t?e:(lt(e,"iterate",Ei),Mt(t)?e:e.map(Kt))}function ha(t){return lt(t=Ie(t),"iterate",Ei),t}function zn(t,e){return Pn(t)?Or(t)?ds(Kt(e)):ds(e):Kt(e)}const By={__proto__:null,[Symbol.iterator](){return rc(this,Symbol.iterator,t=>zn(this,t))},concat(...t){return Xr(this).concat(...t.map(e=>oe(e)?Xr(e):e))},entries(){return rc(this,"entries",t=>(t[1]=zn(this,t[1]),t))},every(t,e){return _n(this,"every",t,e,void 0,arguments)},filter(t,e){return _n(this,"filter",t,e,n=>n.map(r=>zn(this,r)),arguments)},find(t,e){return _n(this,"find",t,e,n=>zn(this,n),arguments)},findIndex(t,e){return _n(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return _n(this,"findLast",t,e,n=>zn(this,n),arguments)},findLastIndex(t,e){return _n(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return _n(this,"forEach",t,e,void 0,arguments)},includes(...t){return sc(this,"includes",t)},indexOf(...t){return sc(this,"indexOf",t)},join(t){return Xr(this).join(t)},lastIndexOf(...t){return sc(this,"lastIndexOf",t)},map(t,e){return _n(this,"map",t,e,void 0,arguments)},pop(){return Qs(this,"pop")},push(...t){return Qs(this,"push",t)},reduce(t,...e){return Ah(this,"reduce",t,e)},reduceRight(t,...e){return Ah(this,"reduceRight",t,e)},shift(){return Qs(this,"shift")},some(t,e){return _n(this,"some",t,e,void 0,arguments)},splice(...t){return Qs(this,"splice",t)},toReversed(){return Xr(this).toReversed()},toSorted(t){return Xr(this).toSorted(t)},toSpliced(...t){return Xr(this).toSpliced(...t)},unshift(...t){return Qs(this,"unshift",t)},values(){return rc(this,"values",t=>zn(this,t))}};function rc(t,e,n){const r=ha(t),s=r[e]();return r!==t&&!Mt(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const jy=Array.prototype;function _n(t,e,n,r,s,i){const o=ha(t),c=o!==t&&!Mt(t),l=o[e];if(l!==jy[e]){const p=l.apply(t,i);return c?Kt(p):p}let h=n;o!==t&&(c?h=function(p,m){return n.call(this,zn(t,p),m,t)}:n.length>2&&(h=function(p,m){return n.call(this,p,m,t)}));const f=l.call(o,h,r);return c&&s?s(f):f}function Ah(t,e,n,r){const s=ha(t);let i=n;return s!==t&&(Mt(t)?n.length>3&&(i=function(o,c,l){return n.call(this,o,c,l,t)}):i=function(o,c,l){return n.call(this,o,zn(t,c),l,t)}),s[e](i,...r)}function sc(t,e,n){const r=Ie(t);lt(r,"iterate",Ei);const s=r[e](...n);return(s===-1||s===!1)&&Cl(n[0])?(n[0]=Ie(n[0]),r[e](...n)):s}function Qs(t,e,n=[]){bn(),Il();const r=Ie(t)[e].apply(t,n);return wl(),Cn(),r}const qy=ml("__proto__,__v_isRef,__isVue"),mp=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(dn));function $y(t){dn(t)||(t=String(t));const e=Ie(this);return lt(e,"has",t),e.hasOwnProperty(t)}class gp{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Zy:vp:i?Ep:yp).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=oe(e);if(!s){let l;if(o&&(l=By[n]))return l;if(n==="hasOwnProperty")return $y}const c=Reflect.get(e,n,ft(e)?e:r);if((dn(n)?mp.has(n):qy(n))||(s||lt(e,"get",n),i))return c;if(ft(c)){const l=o&&yl(n)?c:c.value;return s&&Ce(l)?Dc(l):l}return Ce(c)?s?Dc(c):fa(c):c}}class _p extends gp{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];const o=oe(e)&&yl(n);if(!this._isShallow){const h=Pn(i);if(!Mt(r)&&!Pn(r)&&(i=Ie(i),r=Ie(r)),!o&&ft(i)&&!ft(r))return h||(i.value=r),!0}const c=o?Number(n)<e.length:Re(e,n),l=Reflect.set(e,n,r,ft(e)?e:s);return e===Ie(s)&&(c?er(r,i)&&In(e,"set",n,r):In(e,"add",n,r)),l}deleteProperty(e,n){const r=Re(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&In(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!dn(n)||!mp.has(n))&&lt(e,"has",n),r}ownKeys(e){return lt(e,"iterate",oe(e)?"length":Dr),Reflect.ownKeys(e)}}class Hy extends gp{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Gy=new _p,zy=new Hy,Wy=new _p(!0);const Vc=t=>t,so=t=>Reflect.getPrototypeOf(t);function Ky(t,e,n){return function(...r){const s=this.__v_raw,i=Ie(s),o=is(i),c=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,h=s[t](...r),f=n?Vc:e?ds:Kt;return!e&&lt(i,"iterate",l?Nc:Dr),{next(){const{value:p,done:m}=h.next();return m?{value:p,done:m}:{value:c?[f(p[0]),f(p[1])]:f(p),done:m}},[Symbol.iterator](){return this}}}}function io(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Qy(t,e){const n={get(s){const i=this.__v_raw,o=Ie(i),c=Ie(s);t||(er(s,c)&&lt(o,"get",s),lt(o,"get",c));const{has:l}=so(o),h=e?Vc:t?ds:Kt;if(l.call(o,s))return h(i.get(s));if(l.call(o,c))return h(i.get(c));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&lt(Ie(s),"iterate",Dr),s.size},has(s){const i=this.__v_raw,o=Ie(i),c=Ie(s);return t||(er(s,c)&&lt(o,"has",s),lt(o,"has",c)),s===c?i.has(s):i.has(s)||i.has(c)},forEach(s,i){const o=this,c=o.__v_raw,l=Ie(c),h=e?Vc:t?ds:Kt;return!t&&lt(l,"iterate",Dr),c.forEach((f,p)=>s.call(i,h(f),h(p),o))}};return Ye(n,t?{add:io("add"),set:io("set"),delete:io("delete"),clear:io("clear")}:{add(s){!e&&!Mt(s)&&!Pn(s)&&(s=Ie(s));const i=Ie(this);return so(i).has.call(i,s)||(i.add(s),In(i,"add",s,s)),this},set(s,i){!e&&!Mt(i)&&!Pn(i)&&(i=Ie(i));const o=Ie(this),{has:c,get:l}=so(o);let h=c.call(o,s);h||(s=Ie(s),h=c.call(o,s));const f=l.call(o,s);return o.set(s,i),h?er(i,f)&&In(o,"set",s,i):In(o,"add",s,i),this},delete(s){const i=Ie(this),{has:o,get:c}=so(i);let l=o.call(i,s);l||(s=Ie(s),l=o.call(i,s)),c&&c.call(i,s);const h=i.delete(s);return l&&In(i,"delete",s,void 0),h},clear(){const s=Ie(this),i=s.size!==0,o=s.clear();return i&&In(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Ky(s,t,e)}),n}function Sl(t,e){const n=Qy(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Re(n,s)&&s in r?n:r,s,i)}const Jy={get:Sl(!1,!1)},Xy={get:Sl(!1,!0)},Yy={get:Sl(!0,!1)};const yp=new WeakMap,Ep=new WeakMap,vp=new WeakMap,Zy=new WeakMap;function eE(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tE(t){return t.__v_skip||!Object.isExtensible(t)?0:eE(Ay(t))}function fa(t){return Pn(t)?t:bl(t,!1,Gy,Jy,yp)}function Tp(t){return bl(t,!1,Wy,Xy,Ep)}function Dc(t){return bl(t,!0,zy,Yy,vp)}function bl(t,e,n,r,s){if(!Ce(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=tE(t);if(i===0)return t;const o=s.get(t);if(o)return o;const c=new Proxy(t,i===2?r:n);return s.set(t,c),c}function Or(t){return Pn(t)?Or(t.__v_raw):!!(t&&t.__v_isReactive)}function Pn(t){return!!(t&&t.__v_isReadonly)}function Mt(t){return!!(t&&t.__v_isShallow)}function Cl(t){return t?!!t.__v_raw:!1}function Ie(t){const e=t&&t.__v_raw;return e?Ie(e):t}function nE(t){return!Re(t,"__v_skip")&&Object.isExtensible(t)&&rp(t,"__v_skip",!0),t}const Kt=t=>Ce(t)?fa(t):t,ds=t=>Ce(t)?Dc(t):t;function ft(t){return t?t.__v_isRef===!0:!1}function rE(t){return Ip(t,!1)}function sE(t){return Ip(t,!0)}function Ip(t,e){return ft(t)?t:new iE(t,e)}class iE{constructor(e,n){this.dep=new Rl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ie(e),this._value=n?e:Kt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Mt(e)||Pn(e);e=r?e:Ie(e),er(e,n)&&(this._rawValue=e,this._value=r?e:Kt(e),this.dep.trigger())}}function kr(t){return ft(t)?t.value:t}const oE={get:(t,e,n)=>e==="__v_raw"?t:kr(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return ft(s)&&!ft(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function wp(t){return Or(t)?t:new Proxy(t,oE)}class aE{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Rl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=yi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ve!==this)return lp(this,!0),!0}get value(){const e=this.dep.track();return fp(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function cE(t,e,n=!1){let r,s;return ue(t)?r=t:(r=t.get,s=t.set),new aE(r,s,n)}const oo={},Do=new WeakMap;let Rr;function lE(t,e=!1,n=Rr){if(n){let r=Do.get(n);r||Do.set(n,r=[]),r.push(t)}}function uE(t,e,n=Ne){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:c,call:l}=n,h=z=>s?z:Mt(z)||s===!1||s===0?wn(z,1):wn(z);let f,p,m,v,P=!1,V=!1;if(ft(t)?(p=()=>t.value,P=Mt(t)):Or(t)?(p=()=>h(t),P=!0):oe(t)?(V=!0,P=t.some(z=>Or(z)||Mt(z)),p=()=>t.map(z=>{if(ft(z))return z.value;if(Or(z))return h(z);if(ue(z))return l?l(z,2):z()})):ue(t)?e?p=l?()=>l(t,2):t:p=()=>{if(m){bn();try{m()}finally{Cn()}}const z=Rr;Rr=f;try{return l?l(t,3,[v]):t(v)}finally{Rr=z}}:p=on,e&&s){const z=p,se=s===!0?1/0:s;p=()=>wn(z(),se)}const k=Ly(),q=()=>{f.stop(),k&&k.active&&_l(k.effects,f)};if(i&&e){const z=e;e=(...se)=>{z(...se),q()}}let B=V?new Array(t.length).fill(oo):oo;const H=z=>{if(!(!(f.flags&1)||!f.dirty&&!z))if(e){const se=f.run();if(s||P||(V?se.some((ce,R)=>er(ce,B[R])):er(se,B))){m&&m();const ce=Rr;Rr=f;try{const R=[se,B===oo?void 0:V&&B[0]===oo?[]:B,v];B=se,l?l(e,3,R):e(...R)}finally{Rr=ce}}}else f.run()};return c&&c(H),f=new ap(p),f.scheduler=o?()=>o(H,!1):H,v=z=>lE(z,!1,f),m=f.onStop=()=>{const z=Do.get(f);if(z){if(l)l(z,4);else for(const se of z)se();Do.delete(f)}},e?r?H(!0):B=f.run():o?o(H.bind(null,!0),!0):f.run(),q.pause=f.pause.bind(f),q.resume=f.resume.bind(f),q.stop=q,q}function wn(t,e=1/0,n){if(e<=0||!Ce(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,ft(t))wn(t.value,e,n);else if(oe(t))for(let r=0;r<t.length;r++)wn(t[r],e,n);else if(Zd(t)||is(t))t.forEach(r=>{wn(r,e,n)});else if(np(t)){for(const r in t)wn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&wn(t[r],e,n)}return t}function Mi(t,e,n,r){try{return r?t(...r):t()}catch(s){da(s,e,n)}}function Qt(t,e,n,r){if(ue(t)){const s=Mi(t,e,n,r);return s&&ep(s)&&s.catch(i=>{da(i,e,n)}),s}if(oe(t)){const s=[];for(let i=0;i<t.length;i++)s.push(Qt(t[i],e,n,r));return s}}function da(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ne;if(e){let c=e.parent;const l=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const f=c.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](t,l,h)===!1)return}c=c.parent}if(i){bn(),Mi(i,null,10,[t,l,h]),Cn();return}}hE(t,n,s,r,o)}function hE(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const _t=[];let nn=-1;const os=[];let Wn=null,Yr=0;const Ap=Promise.resolve();let Oo=null;function Rp(t){const e=Oo||Ap;return t?e.then(this?t.bind(this):t):e}function fE(t){let e=nn+1,n=_t.length;for(;e<n;){const r=e+n>>>1,s=_t[r],i=vi(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function Pl(t){if(!(t.flags&1)){const e=vi(t),n=_t[_t.length-1];!n||!(t.flags&2)&&e>=vi(n)?_t.push(t):_t.splice(fE(e),0,t),t.flags|=1,Sp()}}function Sp(){Oo||(Oo=Ap.then(Cp))}function dE(t){oe(t)?os.push(...t):Wn&&t.id===-1?Wn.splice(Yr+1,0,t):t.flags&1||(os.push(t),t.flags|=1),Sp()}function Rh(t,e,n=nn+1){for(;n<_t.length;n++){const r=_t[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;_t.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function bp(t){if(os.length){const e=[...new Set(os)].sort((n,r)=>vi(n)-vi(r));if(os.length=0,Wn){Wn.push(...e);return}for(Wn=e,Yr=0;Yr<Wn.length;Yr++){const n=Wn[Yr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Wn=null,Yr=0}}const vi=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Cp(t){try{for(nn=0;nn<_t.length;nn++){const e=_t[nn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Mi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;nn<_t.length;nn++){const e=_t[nn];e&&(e.flags&=-2)}nn=-1,_t.length=0,bp(),Oo=null,(_t.length||os.length)&&Cp()}}let Nt=null,Pp=null;function ko(t){const e=Nt;return Nt=t,Pp=t&&t.type.__scopeId||null,e}function pE(t,e=Nt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Lo(-1);const i=ko(e);let o;try{o=t(...s)}finally{ko(i),r._d&&Lo(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function dP(t,e){if(Nt===null)return t;const n=ya(Nt),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,c,l=Ne]=e[s];i&&(ue(i)&&(i={mounted:i,updated:i}),i.deep&&wn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:c,modifiers:l}))}return t}function Tr(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const c=s[o];i&&(c.oldValue=i[o].value);let l=c.dir[r];l&&(bn(),Qt(l,n,8,[t.el,c,t,e]),Cn())}}function go(t,e){if(ht){let n=ht.provides;const r=ht.parent&&ht.parent.provides;r===n&&(n=ht.provides=Object.create(r)),n[t]=e}}function zt(t,e,n=!1){const r=lm();if(r||as){let s=as?as._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&ue(e)?e.call(r&&r.proxy):e}}const mE=Symbol.for("v-scx"),gE=()=>zt(mE);function _o(t,e,n){return Np(t,e,n)}function Np(t,e,n=Ne){const{immediate:r,deep:s,flush:i,once:o}=n,c=Ye({},n),l=e&&r||!e&&i!=="post";let h;if(wi){if(i==="sync"){const v=gE();h=v.__watcherHandles||(v.__watcherHandles=[])}else if(!l){const v=()=>{};return v.stop=on,v.resume=on,v.pause=on,v}}const f=ht;c.call=(v,P,V)=>Qt(v,f,P,V);let p=!1;i==="post"?c.scheduler=v=>{Pt(v,f&&f.suspense)}:i!=="sync"&&(p=!0,c.scheduler=(v,P)=>{P?v():Pl(v)}),c.augmentJob=v=>{e&&(v.flags|=4),p&&(v.flags|=2,f&&(v.id=f.uid,v.i=f))};const m=uE(t,e,c);return wi&&(h?h.push(m):l&&m()),m}function _E(t,e,n){const r=this.proxy,s=je(t)?t.includes(".")?Vp(r,t):()=>r[t]:t.bind(r,r);let i;ue(e)?i=e:(i=e.handler,n=e);const o=Li(this),c=Np(s,i.bind(r),n);return o(),c}function Vp(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const yE=Symbol("_vte"),Dp=t=>t.__isTeleport,Tn=Symbol("_leaveCb"),ao=Symbol("_enterCb");function EE(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Nl(()=>{t.isMounted=!0}),jp(()=>{t.isUnmounting=!0}),t}const Dt=[Function,Array],Op={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Dt,onEnter:Dt,onAfterEnter:Dt,onEnterCancelled:Dt,onBeforeLeave:Dt,onLeave:Dt,onAfterLeave:Dt,onLeaveCancelled:Dt,onBeforeAppear:Dt,onAppear:Dt,onAfterAppear:Dt,onAppearCancelled:Dt},kp=t=>{const e=t.subTree;return e.component?kp(e.component):e},vE={name:"BaseTransition",props:Op,setup(t,{slots:e}){const n=lm(),r=EE();return()=>{const s=e.default&&Lp(e.default(),!0);if(!s||!s.length)return;const i=xp(s),o=Ie(t),{mode:c}=o;if(r.isLeaving)return ic(i);const l=Sh(i);if(!l)return ic(i);let h=Oc(l,o,r,n,p=>h=p);l.type!==yt&&Ti(l,h);let f=n.subTree&&Sh(n.subTree);if(f&&f.type!==yt&&!br(f,l)&&kp(n).type!==yt){let p=Oc(f,o,r,n);if(Ti(f,p),c==="out-in"&&l.type!==yt)return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete p.afterLeave,f=void 0},ic(i);c==="in-out"&&l.type!==yt?p.delayLeave=(m,v,P)=>{const V=Mp(r,f);V[String(f.key)]=f,m[Tn]=()=>{v(),m[Tn]=void 0,delete h.delayedLeave,f=void 0},h.delayedLeave=()=>{P(),delete h.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return i}}};function xp(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==yt){e=n;break}}return e}const TE=vE;function Mp(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Oc(t,e,n,r,s){const{appear:i,mode:o,persisted:c=!1,onBeforeEnter:l,onEnter:h,onAfterEnter:f,onEnterCancelled:p,onBeforeLeave:m,onLeave:v,onAfterLeave:P,onLeaveCancelled:V,onBeforeAppear:k,onAppear:q,onAfterAppear:B,onAppearCancelled:H}=e,z=String(t.key),se=Mp(n,t),ce=(_,S)=>{_&&Qt(_,r,9,S)},R=(_,S)=>{const A=S[1];ce(_,S),oe(_)?_.every(w=>w.length<=1)&&A():_.length<=1&&A()},T={mode:o,persisted:c,beforeEnter(_){let S=l;if(!n.isMounted)if(i)S=k||l;else return;_[Tn]&&_[Tn](!0);const A=se[z];A&&br(t,A)&&A.el[Tn]&&A.el[Tn](),ce(S,[_])},enter(_){let S=h,A=f,w=p;if(!n.isMounted)if(i)S=q||h,A=B||f,w=H||p;else return;let y=!1;const ve=_[ao]=Ue=>{y||(y=!0,Ue?ce(w,[_]):ce(A,[_]),T.delayedLeave&&T.delayedLeave(),_[ao]=void 0)};S?R(S,[_,ve]):ve()},leave(_,S){const A=String(t.key);if(_[ao]&&_[ao](!0),n.isUnmounting)return S();ce(m,[_]);let w=!1;const y=_[Tn]=ve=>{w||(w=!0,S(),ve?ce(V,[_]):ce(P,[_]),_[Tn]=void 0,se[A]===t&&delete se[A])};se[A]=t,v?R(v,[_,y]):y()},clone(_){const S=Oc(_,e,n,r,s);return s&&s(S),S}};return T}function ic(t){if(pa(t))return t=lr(t),t.children=null,t}function Sh(t){if(!pa(t))return Dp(t.type)&&t.children?xp(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ue(n.default))return n.default()}}function Ti(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ti(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Lp(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const c=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===jt?(o.patchFlag&128&&s++,r=r.concat(Lp(o.children,e,c))):(e||o.type!==yt)&&r.push(c!=null?lr(o,{key:c}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function Fp(t,e){return ue(t)?Ye({name:t.name},e,{setup:t}):t}function Up(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const xo=new WeakMap;function ai(t,e,n,r,s=!1){if(oe(t)){t.forEach((P,V)=>ai(P,e&&(oe(e)?e[V]:e),n,r,s));return}if(ci(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&ai(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?ya(r.component):r.el,o=s?null:i,{i:c,r:l}=t,h=e&&e.r,f=c.refs===Ne?c.refs={}:c.refs,p=c.setupState,m=Ie(p),v=p===Ne?Yd:P=>Re(m,P);if(h!=null&&h!==l){if(bh(e),je(h))f[h]=null,v(h)&&(p[h]=null);else if(ft(h)){h.value=null;const P=e;P.k&&(f[P.k]=null)}}if(ue(l))Mi(l,c,12,[o,f]);else{const P=je(l),V=ft(l);if(P||V){const k=()=>{if(t.f){const q=P?v(l)?p[l]:f[l]:l.value;if(s)oe(q)&&_l(q,i);else if(oe(q))q.includes(i)||q.push(i);else if(P)f[l]=[i],v(l)&&(p[l]=f[l]);else{const B=[i];l.value=B,t.k&&(f[t.k]=B)}}else P?(f[l]=o,v(l)&&(p[l]=o)):V&&(l.value=o,t.k&&(f[t.k]=o))};if(o){const q=()=>{k(),xo.delete(t)};q.id=-1,xo.set(t,q),Pt(q,n)}else bh(t),k()}}}function bh(t){const e=xo.get(t);e&&(e.flags|=8,xo.delete(t))}ua().requestIdleCallback;ua().cancelIdleCallback;const ci=t=>!!t.type.__asyncLoader,pa=t=>t.type.__isKeepAlive;function IE(t,e){Bp(t,"a",e)}function wE(t,e){Bp(t,"da",e)}function Bp(t,e,n=ht){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(ma(e,r,n),n){let s=n.parent;for(;s&&s.parent;)pa(s.parent.vnode)&&AE(r,e,n,s),s=s.parent}}function AE(t,e,n,r){const s=ma(e,t,r,!0);qp(()=>{_l(r[e],s)},n)}function ma(t,e,n=ht,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{bn();const c=Li(n),l=Qt(e,n,t,o);return c(),Cn(),l});return r?s.unshift(i):s.push(i),i}}const kn=t=>(e,n=ht)=>{(!wi||t==="sp")&&ma(t,(...r)=>e(...r),n)},RE=kn("bm"),Nl=kn("m"),SE=kn("bu"),bE=kn("u"),jp=kn("bum"),qp=kn("um"),CE=kn("sp"),PE=kn("rtg"),NE=kn("rtc");function VE(t,e=ht){ma("ec",t,e)}const DE="components";function pP(t,e){return kE(DE,t,!0,e)||t}const OE=Symbol.for("v-ndc");function kE(t,e,n=!0,r=!1){const s=Nt||ht;if(s){const i=s.type;{const c=Ev(i,!1);if(c&&(c===e||c===Lt(e)||c===la(Lt(e))))return i}const o=Ch(s[t]||i[t],e)||Ch(s.appContext[t],e);return!o&&r?i:o}}function Ch(t,e){return t&&(t[e]||t[Lt(e)]||t[la(Lt(e))])}function mP(t,e,n,r){let s;const i=n,o=oe(t);if(o||je(t)){const c=o&&Or(t);let l=!1,h=!1;c&&(l=!Mt(t),h=Pn(t),t=ha(t)),s=new Array(t.length);for(let f=0,p=t.length;f<p;f++)s[f]=e(l?h?ds(Kt(t[f])):Kt(t[f]):t[f],f,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let c=0;c<t;c++)s[c]=e(c+1,c,void 0,i)}else if(Ce(t))if(t[Symbol.iterator])s=Array.from(t,(c,l)=>e(c,l,void 0,i));else{const c=Object.keys(t);s=new Array(c.length);for(let l=0,h=c.length;l<h;l++){const f=c[l];s[l]=e(t[f],f,l,i)}}else s=[];return s}const kc=t=>t?um(t)?ya(t):kc(t.parent):null,li=Ye(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>kc(t.parent),$root:t=>kc(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Hp(t),$forceUpdate:t=>t.f||(t.f=()=>{Pl(t.update)}),$nextTick:t=>t.n||(t.n=Rp.bind(t.proxy)),$watch:t=>_E.bind(t)}),oc=(t,e)=>t!==Ne&&!t.__isScriptSetup&&Re(t,e),xE={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:c,appContext:l}=t;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(oc(r,e))return o[e]=1,r[e];if(s!==Ne&&Re(s,e))return o[e]=2,s[e];if(Re(i,e))return o[e]=3,i[e];if(n!==Ne&&Re(n,e))return o[e]=4,n[e];xc&&(o[e]=0)}}const h=li[e];let f,p;if(h)return e==="$attrs"&&lt(t.attrs,"get",""),h(t);if((f=c.__cssModules)&&(f=f[e]))return f;if(n!==Ne&&Re(n,e))return o[e]=4,n[e];if(p=l.config.globalProperties,Re(p,e))return p[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return oc(s,e)?(s[e]=n,!0):r!==Ne&&Re(r,e)?(r[e]=n,!0):Re(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,props:i,type:o}},c){let l;return!!(n[c]||t!==Ne&&c[0]!=="$"&&Re(t,c)||oc(e,c)||Re(i,c)||Re(r,c)||Re(li,c)||Re(s.config.globalProperties,c)||(l=o.__cssModules)&&l[c])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Re(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ph(t){return oe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let xc=!0;function ME(t){const e=Hp(t),n=t.proxy,r=t.ctx;xc=!1,e.beforeCreate&&Nh(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:c,provide:l,inject:h,created:f,beforeMount:p,mounted:m,beforeUpdate:v,updated:P,activated:V,deactivated:k,beforeDestroy:q,beforeUnmount:B,destroyed:H,unmounted:z,render:se,renderTracked:ce,renderTriggered:R,errorCaptured:T,serverPrefetch:_,expose:S,inheritAttrs:A,components:w,directives:y,filters:ve}=e;if(h&&LE(h,r,null),o)for(const we in o){const ye=o[we];ue(ye)&&(r[we]=ye.bind(n))}if(s){const we=s.call(n,n);Ce(we)&&(t.data=fa(we))}if(xc=!0,i)for(const we in i){const ye=i[we],vt=ue(ye)?ye.bind(n,n):ue(ye.get)?ye.get.bind(n,n):on,Yt=!ue(ye)&&ue(ye.set)?ye.set.bind(n):on,Rt=qt({get:vt,set:Yt});Object.defineProperty(r,we,{enumerable:!0,configurable:!0,get:()=>Rt.value,set:Ze=>Rt.value=Ze})}if(c)for(const we in c)$p(c[we],r,n,we);if(l){const we=ue(l)?l.call(n):l;Reflect.ownKeys(we).forEach(ye=>{go(ye,we[ye])})}f&&Nh(f,t,"c");function xe(we,ye){oe(ye)?ye.forEach(vt=>we(vt.bind(n))):ye&&we(ye.bind(n))}if(xe(RE,p),xe(Nl,m),xe(SE,v),xe(bE,P),xe(IE,V),xe(wE,k),xe(VE,T),xe(NE,ce),xe(PE,R),xe(jp,B),xe(qp,z),xe(CE,_),oe(S))if(S.length){const we=t.exposed||(t.exposed={});S.forEach(ye=>{Object.defineProperty(we,ye,{get:()=>n[ye],set:vt=>n[ye]=vt,enumerable:!0})})}else t.exposed||(t.exposed={});se&&t.render===on&&(t.render=se),A!=null&&(t.inheritAttrs=A),w&&(t.components=w),y&&(t.directives=y),_&&Up(t)}function LE(t,e,n=on){oe(t)&&(t=Mc(t));for(const r in t){const s=t[r];let i;Ce(s)?"default"in s?i=zt(s.from||r,s.default,!0):i=zt(s.from||r):i=zt(s),ft(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Nh(t,e,n){Qt(oe(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function $p(t,e,n,r){let s=r.includes(".")?Vp(n,r):()=>n[r];if(je(t)){const i=e[t];ue(i)&&_o(s,i)}else if(ue(t))_o(s,t.bind(n));else if(Ce(t))if(oe(t))t.forEach(i=>$p(i,e,n,r));else{const i=ue(t.handler)?t.handler.bind(n):e[t.handler];ue(i)&&_o(s,i,t)}}function Hp(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,c=i.get(e);let l;return c?l=c:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(h=>Mo(l,h,o,!0)),Mo(l,e,o)),Ce(e)&&i.set(e,l),l}function Mo(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Mo(t,i,n,!0),s&&s.forEach(o=>Mo(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const c=FE[o]||n&&n[o];t[o]=c?c(t[o],e[o]):e[o]}return t}const FE={data:Vh,props:Dh,emits:Dh,methods:Zs,computed:Zs,beforeCreate:mt,created:mt,beforeMount:mt,mounted:mt,beforeUpdate:mt,updated:mt,beforeDestroy:mt,beforeUnmount:mt,destroyed:mt,unmounted:mt,activated:mt,deactivated:mt,errorCaptured:mt,serverPrefetch:mt,components:Zs,directives:Zs,watch:BE,provide:Vh,inject:UE};function Vh(t,e){return e?t?function(){return Ye(ue(t)?t.call(this,this):t,ue(e)?e.call(this,this):e)}:e:t}function UE(t,e){return Zs(Mc(t),Mc(e))}function Mc(t){if(oe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function mt(t,e){return t?[...new Set([].concat(t,e))]:e}function Zs(t,e){return t?Ye(Object.create(null),t,e):e}function Dh(t,e){return t?oe(t)&&oe(e)?[...new Set([...t,...e])]:Ye(Object.create(null),Ph(t),Ph(e??{})):e}function BE(t,e){if(!t)return e;if(!e)return t;const n=Ye(Object.create(null),t);for(const r in e)n[r]=mt(t[r],e[r]);return n}function Gp(){return{app:null,config:{isNativeTag:Yd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jE=0;function qE(t,e){return function(r,s=null){ue(r)||(r=Ye({},r)),s!=null&&!Ce(s)&&(s=null);const i=Gp(),o=new WeakSet,c=[];let l=!1;const h=i.app={_uid:jE++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:Tv,get config(){return i.config},set config(f){},use(f,...p){return o.has(f)||(f&&ue(f.install)?(o.add(f),f.install(h,...p)):ue(f)&&(o.add(f),f(h,...p))),h},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),h},component(f,p){return p?(i.components[f]=p,h):i.components[f]},directive(f,p){return p?(i.directives[f]=p,h):i.directives[f]},mount(f,p,m){if(!l){const v=h._ceVNode||At(r,s);return v.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),t(v,f,m),l=!0,h._container=f,f.__vue_app__=h,ya(v.component)}},onUnmount(f){c.push(f)},unmount(){l&&(Qt(c,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(f,p){return i.provides[f]=p,h},runWithContext(f){const p=as;as=h;try{return f()}finally{as=p}}};return h}}let as=null;const $E=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Lt(e)}Modifiers`]||t[`${qr(e)}Modifiers`];function HE(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ne;let s=n;const i=e.startsWith("update:"),o=i&&$E(r,e.slice(7));o&&(o.trim&&(s=n.map(f=>je(f)?f.trim():f)),o.number&&(s=n.map(El)));let c,l=r[c=ec(e)]||r[c=ec(Lt(e))];!l&&i&&(l=r[c=ec(qr(e))]),l&&Qt(l,t,6,s);const h=r[c+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,Qt(h,t,6,s)}}const GE=new WeakMap;function zp(t,e,n=!1){const r=n?GE:e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},c=!1;if(!ue(t)){const l=h=>{const f=zp(h,e,!0);f&&(c=!0,Ye(o,f))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!c?(Ce(t)&&r.set(t,null),null):(oe(i)?i.forEach(l=>o[l]=null):Ye(o,i),Ce(t)&&r.set(t,o),o)}function ga(t,e){return!t||!aa(e)?!1:(e=e.slice(2).replace(/Once$/,""),Re(t,e[0].toLowerCase()+e.slice(1))||Re(t,qr(e))||Re(t,e))}function Oh(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:c,emit:l,render:h,renderCache:f,props:p,data:m,setupState:v,ctx:P,inheritAttrs:V}=t,k=ko(t);let q,B;try{if(n.shapeFlag&4){const z=s||r,se=z;q=sn(h.call(se,z,f,p,v,m,P)),B=c}else{const z=e;q=sn(z.length>1?z(p,{attrs:c,slots:o,emit:l}):z(p,null)),B=e.props?c:zE(c)}}catch(z){ui.length=0,da(z,t,1),q=At(yt)}let H=q;if(B&&V!==!1){const z=Object.keys(B),{shapeFlag:se}=H;z.length&&se&7&&(i&&z.some(gl)&&(B=WE(B,i)),H=lr(H,B,!1,!0))}return n.dirs&&(H=lr(H,null,!1,!0),H.dirs=H.dirs?H.dirs.concat(n.dirs):n.dirs),n.transition&&Ti(H,n.transition),q=H,ko(k),q}const zE=t=>{let e;for(const n in t)(n==="class"||n==="style"||aa(n))&&((e||(e={}))[n]=t[n]);return e},WE=(t,e)=>{const n={};for(const r in t)(!gl(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function KE(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:c,patchFlag:l}=e,h=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?kh(r,o,h):!!o;if(l&8){const f=e.dynamicProps;for(let p=0;p<f.length;p++){const m=f[p];if(o[m]!==r[m]&&!ga(h,m))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===o?!1:r?o?kh(r,o,h):!0:!!o;return!1}function kh(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!ga(n,i))return!0}return!1}function QE({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Wp={},Kp=()=>Object.create(Wp),Qp=t=>Object.getPrototypeOf(t)===Wp;function JE(t,e,n,r=!1){const s={},i=Kp();t.propsDefaults=Object.create(null),Jp(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Tp(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function XE(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,c=Ie(s),[l]=t.propsOptions;let h=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=t.vnode.dynamicProps;for(let p=0;p<f.length;p++){let m=f[p];if(ga(t.emitsOptions,m))continue;const v=e[m];if(l)if(Re(i,m))v!==i[m]&&(i[m]=v,h=!0);else{const P=Lt(m);s[P]=Lc(l,c,P,v,t,!1)}else v!==i[m]&&(i[m]=v,h=!0)}}}else{Jp(t,e,s,i)&&(h=!0);let f;for(const p in c)(!e||!Re(e,p)&&((f=qr(p))===p||!Re(e,f)))&&(l?n&&(n[p]!==void 0||n[f]!==void 0)&&(s[p]=Lc(l,c,p,void 0,t,!0)):delete s[p]);if(i!==c)for(const p in i)(!e||!Re(e,p))&&(delete i[p],h=!0)}h&&In(t.attrs,"set","")}function Jp(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,c;if(e)for(let l in e){if(si(l))continue;const h=e[l];let f;s&&Re(s,f=Lt(l))?!i||!i.includes(f)?n[f]=h:(c||(c={}))[f]=h:ga(t.emitsOptions,l)||(!(l in r)||h!==r[l])&&(r[l]=h,o=!0)}if(i){const l=Ie(n),h=c||Ne;for(let f=0;f<i.length;f++){const p=i[f];n[p]=Lc(s,l,p,h[p],t,!Re(h,p))}}return o}function Lc(t,e,n,r,s,i){const o=t[n];if(o!=null){const c=Re(o,"default");if(c&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ue(l)){const{propsDefaults:h}=s;if(n in h)r=h[n];else{const f=Li(s);r=h[n]=l.call(null,e),f()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!c?r=!1:o[1]&&(r===""||r===qr(n))&&(r=!0))}return r}const YE=new WeakMap;function Xp(t,e,n=!1){const r=n?YE:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},c=[];let l=!1;if(!ue(t)){const f=p=>{l=!0;const[m,v]=Xp(p,e,!0);Ye(o,m),v&&c.push(...v)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!i&&!l)return Ce(t)&&r.set(t,ss),ss;if(oe(i))for(let f=0;f<i.length;f++){const p=Lt(i[f]);xh(p)&&(o[p]=Ne)}else if(i)for(const f in i){const p=Lt(f);if(xh(p)){const m=i[f],v=o[p]=oe(m)||ue(m)?{type:m}:Ye({},m),P=v.type;let V=!1,k=!0;if(oe(P))for(let q=0;q<P.length;++q){const B=P[q],H=ue(B)&&B.name;if(H==="Boolean"){V=!0;break}else H==="String"&&(k=!1)}else V=ue(P)&&P.name==="Boolean";v[0]=V,v[1]=k,(V||Re(v,"default"))&&c.push(p)}}const h=[o,c];return Ce(t)&&r.set(t,h),h}function xh(t){return t[0]!=="$"&&!si(t)}const Vl=t=>t==="_"||t==="_ctx"||t==="$stable",Dl=t=>oe(t)?t.map(sn):[sn(t)],ZE=(t,e,n)=>{if(e._n)return e;const r=pE((...s)=>Dl(e(...s)),n);return r._c=!1,r},Yp=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Vl(s))continue;const i=t[s];if(ue(i))e[s]=ZE(s,i,r);else if(i!=null){const o=Dl(i);e[s]=()=>o}}},Zp=(t,e)=>{const n=Dl(e);t.slots.default=()=>n},em=(t,e,n)=>{for(const r in e)(n||!Vl(r))&&(t[r]=e[r])},ev=(t,e,n)=>{const r=t.slots=Kp();if(t.vnode.shapeFlag&32){const s=e._;s?(em(r,e,n),n&&rp(r,"_",s,!0)):Yp(e,r)}else e&&Zp(t,e)},tv=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Ne;if(r.shapeFlag&32){const c=e._;c?n&&c===1?i=!1:em(s,e,n):(i=!e.$stable,Yp(e,s)),o=e}else e&&(Zp(t,e),o={default:1});if(i)for(const c in s)!Vl(c)&&o[c]==null&&delete s[c]},Pt=ov;function nv(t){return rv(t)}function rv(t,e){const n=ua();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:c,createComment:l,setText:h,setElementText:f,parentNode:p,nextSibling:m,setScopeId:v=on,insertStaticContent:P}=t,V=(E,I,b,D=null,F=null,O=null,W=void 0,$=null,j=!!I.dynamicChildren)=>{if(E===I)return;E&&!br(E,I)&&(D=x(E),Ze(E,F,O,!0),E=null),I.patchFlag===-2&&(j=!1,I.dynamicChildren=null);const{type:U,ref:ne,shapeFlag:Q}=I;switch(U){case _a:k(E,I,b,D);break;case yt:q(E,I,b,D);break;case yo:E==null&&B(I,b,D,W);break;case jt:w(E,I,b,D,F,O,W,$,j);break;default:Q&1?se(E,I,b,D,F,O,W,$,j):Q&6?y(E,I,b,D,F,O,W,$,j):(Q&64||Q&128)&&U.process(E,I,b,D,F,O,W,$,j,Z)}ne!=null&&F?ai(ne,E&&E.ref,O,I||E,!I):ne==null&&E&&E.ref!=null&&ai(E.ref,null,O,E,!0)},k=(E,I,b,D)=>{if(E==null)r(I.el=c(I.children),b,D);else{const F=I.el=E.el;I.children!==E.children&&h(F,I.children)}},q=(E,I,b,D)=>{E==null?r(I.el=l(I.children||""),b,D):I.el=E.el},B=(E,I,b,D)=>{[E.el,E.anchor]=P(E.children,I,b,D,E.el,E.anchor)},H=({el:E,anchor:I},b,D)=>{let F;for(;E&&E!==I;)F=m(E),r(E,b,D),E=F;r(I,b,D)},z=({el:E,anchor:I})=>{let b;for(;E&&E!==I;)b=m(E),s(E),E=b;s(I)},se=(E,I,b,D,F,O,W,$,j)=>{if(I.type==="svg"?W="svg":I.type==="math"&&(W="mathml"),E==null)ce(I,b,D,F,O,W,$,j);else{const U=E.el&&E.el._isVueCE?E.el:null;try{U&&U._beginPatch(),_(E,I,F,O,W,$,j)}finally{U&&U._endPatch()}}},ce=(E,I,b,D,F,O,W,$)=>{let j,U;const{props:ne,shapeFlag:Q,transition:ee,dirs:re}=E;if(j=E.el=o(E.type,O,ne&&ne.is,ne),Q&8?f(j,E.children):Q&16&&T(E.children,j,null,D,F,ac(E,O),W,$),re&&Tr(E,null,D,"created"),R(j,E,E.scopeId,W,D),ne){for(const be in ne)be!=="value"&&!si(be)&&i(j,be,null,ne[be],O,D);"value"in ne&&i(j,"value",null,ne.value,O),(U=ne.onVnodeBeforeMount)&&tn(U,D,E)}re&&Tr(E,null,D,"beforeMount");const de=sv(F,ee);de&&ee.beforeEnter(j),r(j,I,b),((U=ne&&ne.onVnodeMounted)||de||re)&&Pt(()=>{U&&tn(U,D,E),de&&ee.enter(j),re&&Tr(E,null,D,"mounted")},F)},R=(E,I,b,D,F)=>{if(b&&v(E,b),D)for(let O=0;O<D.length;O++)v(E,D[O]);if(F){let O=F.subTree;if(I===O||sm(O.type)&&(O.ssContent===I||O.ssFallback===I)){const W=F.vnode;R(E,W,W.scopeId,W.slotScopeIds,F.parent)}}},T=(E,I,b,D,F,O,W,$,j=0)=>{for(let U=j;U<E.length;U++){const ne=E[U]=$?Kn(E[U]):sn(E[U]);V(null,ne,I,b,D,F,O,W,$)}},_=(E,I,b,D,F,O,W)=>{const $=I.el=E.el;let{patchFlag:j,dynamicChildren:U,dirs:ne}=I;j|=E.patchFlag&16;const Q=E.props||Ne,ee=I.props||Ne;let re;if(b&&Ir(b,!1),(re=ee.onVnodeBeforeUpdate)&&tn(re,b,I,E),ne&&Tr(I,E,b,"beforeUpdate"),b&&Ir(b,!0),(Q.innerHTML&&ee.innerHTML==null||Q.textContent&&ee.textContent==null)&&f($,""),U?S(E.dynamicChildren,U,$,b,D,ac(I,F),O):W||ye(E,I,$,null,b,D,ac(I,F),O,!1),j>0){if(j&16)A($,Q,ee,b,F);else if(j&2&&Q.class!==ee.class&&i($,"class",null,ee.class,F),j&4&&i($,"style",Q.style,ee.style,F),j&8){const de=I.dynamicProps;for(let be=0;be<de.length;be++){const Te=de[be],it=Q[Te],ot=ee[Te];(ot!==it||Te==="value")&&i($,Te,it,ot,F,b)}}j&1&&E.children!==I.children&&f($,I.children)}else!W&&U==null&&A($,Q,ee,b,F);((re=ee.onVnodeUpdated)||ne)&&Pt(()=>{re&&tn(re,b,I,E),ne&&Tr(I,E,b,"updated")},D)},S=(E,I,b,D,F,O,W)=>{for(let $=0;$<I.length;$++){const j=E[$],U=I[$],ne=j.el&&(j.type===jt||!br(j,U)||j.shapeFlag&198)?p(j.el):b;V(j,U,ne,null,D,F,O,W,!0)}},A=(E,I,b,D,F)=>{if(I!==b){if(I!==Ne)for(const O in I)!si(O)&&!(O in b)&&i(E,O,I[O],null,F,D);for(const O in b){if(si(O))continue;const W=b[O],$=I[O];W!==$&&O!=="value"&&i(E,O,$,W,F,D)}"value"in b&&i(E,"value",I.value,b.value,F)}},w=(E,I,b,D,F,O,W,$,j)=>{const U=I.el=E?E.el:c(""),ne=I.anchor=E?E.anchor:c("");let{patchFlag:Q,dynamicChildren:ee,slotScopeIds:re}=I;re&&($=$?$.concat(re):re),E==null?(r(U,b,D),r(ne,b,D),T(I.children||[],b,ne,F,O,W,$,j)):Q>0&&Q&64&&ee&&E.dynamicChildren&&E.dynamicChildren.length===ee.length?(S(E.dynamicChildren,ee,b,F,O,W,$),(I.key!=null||F&&I===F.subTree)&&tm(E,I,!0)):ye(E,I,b,ne,F,O,W,$,j)},y=(E,I,b,D,F,O,W,$,j)=>{I.slotScopeIds=$,E==null?I.shapeFlag&512?F.ctx.activate(I,b,D,W,j):ve(I,b,D,F,O,W,j):Ue(E,I,j)},ve=(E,I,b,D,F,O,W)=>{const $=E.component=pv(E,D,F);if(pa(E)&&($.ctx.renderer=Z),mv($,!1,W),$.asyncDep){if(F&&F.registerDep($,xe,W),!E.el){const j=$.subTree=At(yt);q(null,j,I,b),E.placeholder=j.el}}else xe($,E,I,b,F,O,W)},Ue=(E,I,b)=>{const D=I.component=E.component;if(KE(E,I,b))if(D.asyncDep&&!D.asyncResolved){we(D,I,b);return}else D.next=I,D.update();else I.el=E.el,D.vnode=I},xe=(E,I,b,D,F,O,W)=>{const $=()=>{if(E.isMounted){let{next:Q,bu:ee,u:re,parent:de,vnode:be}=E;{const bt=nm(E);if(bt){Q&&(Q.el=be.el,we(E,Q,W)),bt.asyncDep.then(()=>{E.isUnmounted||$()});return}}let Te=Q,it;Ir(E,!1),Q?(Q.el=be.el,we(E,Q,W)):Q=be,ee&&mo(ee),(it=Q.props&&Q.props.onVnodeBeforeUpdate)&&tn(it,de,Q,be),Ir(E,!0);const ot=Oh(E),St=E.subTree;E.subTree=ot,V(St,ot,p(St.el),x(St),E,F,O),Q.el=ot.el,Te===null&&QE(E,ot.el),re&&Pt(re,F),(it=Q.props&&Q.props.onVnodeUpdated)&&Pt(()=>tn(it,de,Q,be),F)}else{let Q;const{el:ee,props:re}=I,{bm:de,m:be,parent:Te,root:it,type:ot}=E,St=ci(I);Ir(E,!1),de&&mo(de),!St&&(Q=re&&re.onVnodeBeforeMount)&&tn(Q,Te,I),Ir(E,!0);{it.ce&&it.ce._def.shadowRoot!==!1&&it.ce._injectChildStyle(ot);const bt=E.subTree=Oh(E);V(null,bt,b,D,E,F,O),I.el=bt.el}if(be&&Pt(be,F),!St&&(Q=re&&re.onVnodeMounted)){const bt=I;Pt(()=>tn(Q,Te,bt),F)}(I.shapeFlag&256||Te&&ci(Te.vnode)&&Te.vnode.shapeFlag&256)&&E.a&&Pt(E.a,F),E.isMounted=!0,I=b=D=null}};E.scope.on();const j=E.effect=new ap($);E.scope.off();const U=E.update=j.run.bind(j),ne=E.job=j.runIfDirty.bind(j);ne.i=E,ne.id=E.uid,j.scheduler=()=>Pl(ne),Ir(E,!0),U()},we=(E,I,b)=>{I.component=E;const D=E.vnode.props;E.vnode=I,E.next=null,XE(E,I.props,D,b),tv(E,I.children,b),bn(),Rh(E),Cn()},ye=(E,I,b,D,F,O,W,$,j=!1)=>{const U=E&&E.children,ne=E?E.shapeFlag:0,Q=I.children,{patchFlag:ee,shapeFlag:re}=I;if(ee>0){if(ee&128){Yt(U,Q,b,D,F,O,W,$,j);return}else if(ee&256){vt(U,Q,b,D,F,O,W,$,j);return}}re&8?(ne&16&&st(U,F,O),Q!==U&&f(b,Q)):ne&16?re&16?Yt(U,Q,b,D,F,O,W,$,j):st(U,F,O,!0):(ne&8&&f(b,""),re&16&&T(Q,b,D,F,O,W,$,j))},vt=(E,I,b,D,F,O,W,$,j)=>{E=E||ss,I=I||ss;const U=E.length,ne=I.length,Q=Math.min(U,ne);let ee;for(ee=0;ee<Q;ee++){const re=I[ee]=j?Kn(I[ee]):sn(I[ee]);V(E[ee],re,b,null,F,O,W,$,j)}U>ne?st(E,F,O,!0,!1,Q):T(I,b,D,F,O,W,$,j,Q)},Yt=(E,I,b,D,F,O,W,$,j)=>{let U=0;const ne=I.length;let Q=E.length-1,ee=ne-1;for(;U<=Q&&U<=ee;){const re=E[U],de=I[U]=j?Kn(I[U]):sn(I[U]);if(br(re,de))V(re,de,b,null,F,O,W,$,j);else break;U++}for(;U<=Q&&U<=ee;){const re=E[Q],de=I[ee]=j?Kn(I[ee]):sn(I[ee]);if(br(re,de))V(re,de,b,null,F,O,W,$,j);else break;Q--,ee--}if(U>Q){if(U<=ee){const re=ee+1,de=re<ne?I[re].el:D;for(;U<=ee;)V(null,I[U]=j?Kn(I[U]):sn(I[U]),b,de,F,O,W,$,j),U++}}else if(U>ee)for(;U<=Q;)Ze(E[U],F,O,!0),U++;else{const re=U,de=U,be=new Map;for(U=de;U<=ee;U++){const et=I[U]=j?Kn(I[U]):sn(I[U]);et.key!=null&&be.set(et.key,U)}let Te,it=0;const ot=ee-de+1;let St=!1,bt=0;const Bt=new Array(ot);for(U=0;U<ot;U++)Bt[U]=0;for(U=re;U<=Q;U++){const et=E[U];if(it>=ot){Ze(et,F,O,!0);continue}let Qe;if(et.key!=null)Qe=be.get(et.key);else for(Te=de;Te<=ee;Te++)if(Bt[Te-de]===0&&br(et,I[Te])){Qe=Te;break}Qe===void 0?Ze(et,F,O,!0):(Bt[Qe-de]=U+1,Qe>=bt?bt=Qe:St=!0,V(et,I[Qe],b,null,F,O,W,$,j),it++)}const Wr=St?iv(Bt):ss;for(Te=Wr.length-1,U=ot-1;U>=0;U--){const et=de+U,Qe=I[et],ks=I[et+1],gr=et+1<ne?ks.el||rm(ks):D;Bt[U]===0?V(null,Qe,b,gr,F,O,W,$,j):St&&(Te<0||U!==Wr[Te]?Rt(Qe,b,gr,2):Te--)}}},Rt=(E,I,b,D,F=null)=>{const{el:O,type:W,transition:$,children:j,shapeFlag:U}=E;if(U&6){Rt(E.component.subTree,I,b,D);return}if(U&128){E.suspense.move(I,b,D);return}if(U&64){W.move(E,I,b,Z);return}if(W===jt){r(O,I,b);for(let Q=0;Q<j.length;Q++)Rt(j[Q],I,b,D);r(E.anchor,I,b);return}if(W===yo){H(E,I,b);return}if(D!==2&&U&1&&$)if(D===0)$.beforeEnter(O),r(O,I,b),Pt(()=>$.enter(O),F);else{const{leave:Q,delayLeave:ee,afterLeave:re}=$,de=()=>{E.ctx.isUnmounted?s(O):r(O,I,b)},be=()=>{O._isLeaving&&O[Tn](!0),Q(O,()=>{de(),re&&re()})};ee?ee(O,de,be):be()}else r(O,I,b)},Ze=(E,I,b,D=!1,F=!1)=>{const{type:O,props:W,ref:$,children:j,dynamicChildren:U,shapeFlag:ne,patchFlag:Q,dirs:ee,cacheIndex:re}=E;if(Q===-2&&(F=!1),$!=null&&(bn(),ai($,null,b,E,!0),Cn()),re!=null&&(I.renderCache[re]=void 0),ne&256){I.ctx.deactivate(E);return}const de=ne&1&&ee,be=!ci(E);let Te;if(be&&(Te=W&&W.onVnodeBeforeUnmount)&&tn(Te,I,E),ne&6)Ut(E.component,b,D);else{if(ne&128){E.suspense.unmount(b,D);return}de&&Tr(E,null,I,"beforeUnmount"),ne&64?E.type.remove(E,I,b,Z,D):U&&!U.hasOnce&&(O!==jt||Q>0&&Q&64)?st(U,I,b,!1,!0):(O===jt&&Q&384||!F&&ne&16)&&st(j,I,b),D&&gn(E)}(be&&(Te=W&&W.onVnodeUnmounted)||de)&&Pt(()=>{Te&&tn(Te,I,E),de&&Tr(E,null,I,"unmounted")},b)},gn=E=>{const{type:I,el:b,anchor:D,transition:F}=E;if(I===jt){Ft(b,D);return}if(I===yo){z(E);return}const O=()=>{s(b),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(E.shapeFlag&1&&F&&!F.persisted){const{leave:W,delayLeave:$}=F,j=()=>W(b,O);$?$(E.el,O,j):j()}else O()},Ft=(E,I)=>{let b;for(;E!==I;)b=m(E),s(E),E=b;s(I)},Ut=(E,I,b)=>{const{bum:D,scope:F,job:O,subTree:W,um:$,m:j,a:U}=E;Mh(j),Mh(U),D&&mo(D),F.stop(),O&&(O.flags|=8,Ze(W,E,I,b)),$&&Pt($,I),Pt(()=>{E.isUnmounted=!0},I)},st=(E,I,b,D=!1,F=!1,O=0)=>{for(let W=O;W<E.length;W++)Ze(E[W],I,b,D,F)},x=E=>{if(E.shapeFlag&6)return x(E.component.subTree);if(E.shapeFlag&128)return E.suspense.next();const I=m(E.anchor||E.el),b=I&&I[yE];return b?m(b):I};let X=!1;const K=(E,I,b)=>{let D;E==null?I._vnode&&(Ze(I._vnode,null,null,!0),D=I._vnode.component):V(I._vnode||null,E,I,null,null,null,b),I._vnode=E,X||(X=!0,Rh(D),bp(),X=!1)},Z={p:V,um:Ze,m:Rt,r:gn,mt:ve,mc:T,pc:ye,pbc:S,n:x,o:t};return{render:K,hydrate:void 0,createApp:qE(K)}}function ac({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ir({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function sv(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function tm(t,e,n=!1){const r=t.children,s=e.children;if(oe(r)&&oe(s))for(let i=0;i<r.length;i++){const o=r[i];let c=s[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[i]=Kn(s[i]),c.el=o.el),!n&&c.patchFlag!==-2&&tm(o,c)),c.type===_a&&(c.patchFlag!==-1?c.el=o.el:c.__elIndex=i+(t.type===jt?1:0)),c.type===yt&&!c.el&&(c.el=o.el)}}function iv(t){const e=t.slice(),n=[0];let r,s,i,o,c;const l=t.length;for(r=0;r<l;r++){const h=t[r];if(h!==0){if(s=n[n.length-1],t[s]<h){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)c=i+o>>1,t[n[c]]<h?i=c+1:o=c;h<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function nm(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:nm(e)}function Mh(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function rm(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?rm(e.subTree):null}const sm=t=>t.__isSuspense;function ov(t,e){e&&e.pendingBranch?oe(t)?e.effects.push(...t):e.effects.push(t):dE(t)}const jt=Symbol.for("v-fgt"),_a=Symbol.for("v-txt"),yt=Symbol.for("v-cmt"),yo=Symbol.for("v-stc"),ui=[];let Vt=null;function Ol(t=!1){ui.push(Vt=t?null:[])}function av(){ui.pop(),Vt=ui[ui.length-1]||null}let Ii=1;function Lo(t,e=!1){Ii+=t,t<0&&Vt&&e&&(Vt.hasOnce=!0)}function im(t){return t.dynamicChildren=Ii>0?Vt||ss:null,av(),Ii>0&&Vt&&Vt.push(t),t}function cv(t,e,n,r,s,i){return im(Tt(t,e,n,r,s,i,!0))}function om(t,e,n,r,s){return im(At(t,e,n,r,s,!0))}function Fo(t){return t?t.__v_isVNode===!0:!1}function br(t,e){return t.type===e.type&&t.key===e.key}const am=({key:t})=>t??null,Eo=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?je(t)||ft(t)||ue(t)?{i:Nt,r:t,k:e,f:!!n}:t:null);function Tt(t,e=null,n=null,r=0,s=null,i=t===jt?0:1,o=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&am(e),ref:e&&Eo(e),scopeId:Pp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Nt};return c?(kl(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=je(n)?8:16),Ii>0&&!o&&Vt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Vt.push(l),l}const At=lv;function lv(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===OE)&&(t=yt),Fo(t)){const c=lr(t,e,!0);return n&&kl(c,n),Ii>0&&!i&&Vt&&(c.shapeFlag&6?Vt[Vt.indexOf(t)]=c:Vt.push(c)),c.patchFlag=-2,c}if(vv(t)&&(t=t.__vccOpts),e){e=uv(e);let{class:c,style:l}=e;c&&!je(c)&&(e.class=Tl(c)),Ce(l)&&(Cl(l)&&!oe(l)&&(l=Ye({},l)),e.style=vl(l))}const o=je(t)?1:sm(t)?128:Dp(t)?64:Ce(t)?4:ue(t)?2:0;return Tt(t,e,n,r,s,o,i,!0)}function uv(t){return t?Cl(t)||Qp(t)?Ye({},t):t:null}function lr(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:c,transition:l}=t,h=e?hv(s||{},e):s,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&am(h),ref:e&&e.ref?n&&i?oe(i)?i.concat(Eo(e)):[i,Eo(e)]:Eo(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==jt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&lr(t.ssContent),ssFallback:t.ssFallback&&lr(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Ti(f,l.clone(f)),f}function cm(t=" ",e=0){return At(_a,null,t,e)}function gP(t,e){const n=At(yo,null,t);return n.staticCount=e,n}function _P(t="",e=!1){return e?(Ol(),om(yt,null,t)):At(yt,null,t)}function sn(t){return t==null||typeof t=="boolean"?At(yt):oe(t)?At(jt,null,t.slice()):Fo(t)?Kn(t):At(_a,null,String(t))}function Kn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:lr(t)}function kl(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(oe(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),kl(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Qp(e)?e._ctx=Nt:s===3&&Nt&&(Nt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ue(e)?(e={default:e,_ctx:Nt},n=32):(e=String(e),r&64?(n=16,e=[cm(e)]):n=8);t.children=e,t.shapeFlag|=n}function hv(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Tl([e.class,r.class]));else if(s==="style")e.style=vl([e.style,r.style]);else if(aa(s)){const i=e[s],o=r[s];o&&i!==o&&!(oe(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function tn(t,e,n,r=null){Qt(t,e,7,[n,r])}const fv=Gp();let dv=0;function pv(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||fv,i={uid:dv++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new My(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xp(r,s),emitsOptions:zp(r,s),emit:null,emitted:null,propsDefaults:Ne,inheritAttrs:r.inheritAttrs,ctx:Ne,data:Ne,props:Ne,attrs:Ne,slots:Ne,refs:Ne,setupState:Ne,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=HE.bind(null,i),t.ce&&t.ce(i),i}let ht=null;const lm=()=>ht||Nt;let Uo,Fc;{const t=ua(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Uo=e("__VUE_INSTANCE_SETTERS__",n=>ht=n),Fc=e("__VUE_SSR_SETTERS__",n=>wi=n)}const Li=t=>{const e=ht;return Uo(t),t.scope.on(),()=>{t.scope.off(),Uo(e)}},Lh=()=>{ht&&ht.scope.off(),Uo(null)};function um(t){return t.vnode.shapeFlag&4}let wi=!1;function mv(t,e=!1,n=!1){e&&Fc(e);const{props:r,children:s}=t.vnode,i=um(t);JE(t,r,i,e),ev(t,s,n||e);const o=i?gv(t,e):void 0;return e&&Fc(!1),o}function gv(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,xE);const{setup:r}=n;if(r){bn();const s=t.setupContext=r.length>1?yv(t):null,i=Li(t),o=Mi(r,t,0,[t.props,s]),c=ep(o);if(Cn(),i(),(c||t.sp)&&!ci(t)&&Up(t),c){if(o.then(Lh,Lh),e)return o.then(l=>{Fh(t,l)}).catch(l=>{da(l,t,0)});t.asyncDep=o}else Fh(t,o)}else hm(t)}function Fh(t,e,n){ue(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ce(e)&&(t.setupState=wp(e)),hm(t)}function hm(t,e,n){const r=t.type;t.render||(t.render=r.render||on);{const s=Li(t);bn();try{ME(t)}finally{Cn(),s()}}}const _v={get(t,e){return lt(t,"get",""),t[e]}};function yv(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,_v),slots:t.slots,emit:t.emit,expose:e}}function ya(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(wp(nE(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in li)return li[n](t)},has(e,n){return n in e||n in li}})):t.proxy}function Ev(t,e=!0){return ue(t)?t.displayName||t.name:t.name||e&&t.__name}function vv(t){return ue(t)&&"__vccOpts"in t}const qt=(t,e)=>cE(t,e,wi);function xl(t,e,n){try{Lo(-1);const r=arguments.length;return r===2?Ce(e)&&!oe(e)?Fo(e)?At(t,null,[e]):At(t,e):At(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Fo(n)&&(n=[n]),At(t,e,n))}finally{Lo(1)}}const Tv="3.5.26";let Uc;const Uh=typeof window<"u"&&window.trustedTypes;if(Uh)try{Uc=Uh.createPolicy("vue",{createHTML:t=>t})}catch{}const fm=Uc?t=>Uc.createHTML(t):t=>t,Iv="http://www.w3.org/2000/svg",wv="http://www.w3.org/1998/Math/MathML",vn=typeof document<"u"?document:null,Bh=vn&&vn.createElement("template"),Av={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?vn.createElementNS(Iv,t):e==="mathml"?vn.createElementNS(wv,t):n?vn.createElement(t,{is:n}):vn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>vn.createTextNode(t),createComment:t=>vn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>vn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Bh.innerHTML=fm(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const c=Bh.content;if(r==="svg"||r==="mathml"){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}e.insertBefore(c,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},$n="transition",Js="animation",Ai=Symbol("_vtc"),dm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Rv=Ye({},Op,dm),Sv=t=>(t.displayName="Transition",t.props=Rv,t),yP=Sv((t,{slots:e})=>xl(TE,bv(t),e)),wr=(t,e=[])=>{oe(t)?t.forEach(n=>n(...e)):t&&t(...e)},jh=t=>t?oe(t)?t.some(e=>e.length>1):t.length>1:!1;function bv(t){const e={};for(const w in t)w in dm||(e[w]=t[w]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:h=o,appearToClass:f=c,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=t,P=Cv(s),V=P&&P[0],k=P&&P[1],{onBeforeEnter:q,onEnter:B,onEnterCancelled:H,onLeave:z,onLeaveCancelled:se,onBeforeAppear:ce=q,onAppear:R=B,onAppearCancelled:T=H}=e,_=(w,y,ve,Ue)=>{w._enterCancelled=Ue,Ar(w,y?f:c),Ar(w,y?h:o),ve&&ve()},S=(w,y)=>{w._isLeaving=!1,Ar(w,p),Ar(w,v),Ar(w,m),y&&y()},A=w=>(y,ve)=>{const Ue=w?R:B,xe=()=>_(y,w,ve);wr(Ue,[y,xe]),qh(()=>{Ar(y,w?l:i),yn(y,w?f:c),jh(Ue)||$h(y,r,V,xe)})};return Ye(e,{onBeforeEnter(w){wr(q,[w]),yn(w,i),yn(w,o)},onBeforeAppear(w){wr(ce,[w]),yn(w,l),yn(w,h)},onEnter:A(!1),onAppear:A(!0),onLeave(w,y){w._isLeaving=!0;const ve=()=>S(w,y);yn(w,p),w._enterCancelled?(yn(w,m),zh(w)):(zh(w),yn(w,m)),qh(()=>{w._isLeaving&&(Ar(w,p),yn(w,v),jh(z)||$h(w,r,k,ve))}),wr(z,[w,ve])},onEnterCancelled(w){_(w,!1,void 0,!0),wr(H,[w])},onAppearCancelled(w){_(w,!0,void 0,!0),wr(T,[w])},onLeaveCancelled(w){S(w),wr(se,[w])}})}function Cv(t){if(t==null)return null;if(Ce(t))return[cc(t.enter),cc(t.leave)];{const e=cc(t);return[e,e]}}function cc(t){return by(t)}function yn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Ai]||(t[Ai]=new Set)).add(e)}function Ar(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Ai];n&&(n.delete(e),n.size||(t[Ai]=void 0))}function qh(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Pv=0;function $h(t,e,n,r){const s=t._endId=++Pv,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:c,propCount:l}=Nv(t,e);if(!o)return r();const h=o+"end";let f=0;const p=()=>{t.removeEventListener(h,m),i()},m=v=>{v.target===t&&++f>=l&&p()};setTimeout(()=>{f<l&&p()},c+1),t.addEventListener(h,m)}function Nv(t,e){const n=window.getComputedStyle(t),r=P=>(n[P]||"").split(", "),s=r(`${$n}Delay`),i=r(`${$n}Duration`),o=Hh(s,i),c=r(`${Js}Delay`),l=r(`${Js}Duration`),h=Hh(c,l);let f=null,p=0,m=0;e===$n?o>0&&(f=$n,p=o,m=i.length):e===Js?h>0&&(f=Js,p=h,m=l.length):(p=Math.max(o,h),f=p>0?o>h?$n:Js:null,m=f?f===$n?i.length:l.length:0);const v=f===$n&&/\b(?:transform|all)(?:,|$)/.test(r(`${$n}Property`).toString());return{type:f,timeout:p,propCount:m,hasTransform:v}}function Hh(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Gh(n)+Gh(t[r])))}function Gh(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function zh(t){return(t?t.ownerDocument:document).body.offsetHeight}function Vv(t,e,n){const r=t[Ai];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Wh=Symbol("_vod"),Dv=Symbol("_vsh"),Ov=Symbol(""),kv=/(?:^|;)\s*display\s*:/;function xv(t,e,n){const r=t.style,s=je(n);let i=!1;if(n&&!s){if(e)if(je(e))for(const o of e.split(";")){const c=o.slice(0,o.indexOf(":")).trim();n[c]==null&&vo(r,c,"")}else for(const o in e)n[o]==null&&vo(r,o,"");for(const o in n)o==="display"&&(i=!0),vo(r,o,n[o])}else if(s){if(e!==n){const o=r[Ov];o&&(n+=";"+o),r.cssText=n,i=kv.test(n)}}else e&&t.removeAttribute("style");Wh in t&&(t[Wh]=i?r.display:"",t[Dv]&&(r.display="none"))}const Kh=/\s*!important$/;function vo(t,e,n){if(oe(n))n.forEach(r=>vo(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Mv(t,e);Kh.test(n)?t.setProperty(qr(r),n.replace(Kh,""),"important"):t[r]=n}}const Qh=["Webkit","Moz","ms"],lc={};function Mv(t,e){const n=lc[e];if(n)return n;let r=Lt(e);if(r!=="filter"&&r in t)return lc[e]=r;r=la(r);for(let s=0;s<Qh.length;s++){const i=Qh[s]+r;if(i in t)return lc[e]=i}return e}const Jh="http://www.w3.org/1999/xlink";function Xh(t,e,n,r,s,i=Oy(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Jh,e.slice(6,e.length)):t.setAttributeNS(Jh,e,n):n==null||i&&!sp(n)?t.removeAttribute(e):t.setAttribute(e,i?"":dn(n)?String(n):n)}function Yh(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?fm(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const c=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(c!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=sp(n):n==null&&c==="string"?(n="",o=!0):c==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function Cr(t,e,n,r){t.addEventListener(e,n,r)}function Lv(t,e,n,r){t.removeEventListener(e,n,r)}const Zh=Symbol("_vei");function Fv(t,e,n,r,s=null){const i=t[Zh]||(t[Zh]={}),o=i[e];if(r&&o)o.value=r;else{const[c,l]=Uv(e);if(r){const h=i[e]=qv(r,s);Cr(t,c,h,l)}else o&&(Lv(t,c,o,l),i[e]=void 0)}}const ef=/(?:Once|Passive|Capture)$/;function Uv(t){let e;if(ef.test(t)){e={};let r;for(;r=t.match(ef);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):qr(t.slice(2)),e]}let uc=0;const Bv=Promise.resolve(),jv=()=>uc||(Bv.then(()=>uc=0),uc=Date.now());function qv(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Qt($v(r,n.value),e,5,[r])};return n.value=t,n.attached=jv(),n}function $v(t,e){if(oe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const tf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Hv=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?Vv(t,r,o):e==="style"?xv(t,n,r):aa(e)?gl(e)||Fv(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Gv(t,e,r,o))?(Yh(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Xh(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!je(r))?Yh(t,Lt(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Xh(t,e,r,o))};function Gv(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&tf(e)&&ue(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return tf(e)&&je(n)?!1:e in t}const Bo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return oe(e)?n=>mo(e,n):e};function zv(t){t.target.composing=!0}function nf(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const cs=Symbol("_assign");function rf(t,e,n){return e&&(t=t.trim()),n&&(t=El(t)),t}const EP={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[cs]=Bo(s);const i=r||s.props&&s.props.type==="number";Cr(t,e?"change":"input",o=>{o.target.composing||t[cs](rf(t.value,n,i))}),(n||i)&&Cr(t,"change",()=>{t.value=rf(t.value,n,i)}),e||(Cr(t,"compositionstart",zv),Cr(t,"compositionend",nf),Cr(t,"change",nf))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[cs]=Bo(o),t.composing)return;const c=(i||t.type==="number")&&!/^0\d/.test(t.value)?El(t.value):t.value,l=e??"";c!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},vP={created(t,{value:e},n){t.checked=Vo(e,n.props.value),t[cs]=Bo(n),Cr(t,"change",()=>{t[cs](Wv(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[cs]=Bo(r),e!==n&&(t.checked=Vo(e,r.props.value))}};function Wv(t){return"_value"in t?t._value:t.value}const Kv=["ctrl","shift","alt","meta"],Qv={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Kv.some(n=>t[`${n}Key`]&&!e.includes(n))},TP=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((s,...i)=>{for(let o=0;o<e.length;o++){const c=Qv[e[o]];if(c&&c(s,e))return}return t(s,...i)}))},Jv=Ye({patchProp:Hv},Av);let sf;function Xv(){return sf||(sf=nv(Jv))}const Yv=((...t)=>{const e=Xv().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=eT(r);if(!s)return;const i=e._component;!ue(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,Zv(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e});function Zv(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function eT(t){return je(t)?document.querySelector(t):t}const Zr=typeof document<"u";function pm(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function tT(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&pm(t.default)}const Ae=Object.assign;function hc(t,e){const n={};for(const r in e){const s=e[r];n[r]=Jt(s)?s.map(t):t(s)}return n}const hi=()=>{},Jt=Array.isArray;function of(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}const mm=/#/g,nT=/&/g,rT=/\//g,sT=/=/g,iT=/\?/g,gm=/\+/g,oT=/%5B/g,aT=/%5D/g,_m=/%5E/g,cT=/%60/g,ym=/%7B/g,lT=/%7C/g,Em=/%7D/g,uT=/%20/g;function Ml(t){return t==null?"":encodeURI(""+t).replace(lT,"|").replace(oT,"[").replace(aT,"]")}function hT(t){return Ml(t).replace(ym,"{").replace(Em,"}").replace(_m,"^")}function Bc(t){return Ml(t).replace(gm,"%2B").replace(uT,"+").replace(mm,"%23").replace(nT,"%26").replace(cT,"`").replace(ym,"{").replace(Em,"}").replace(_m,"^")}function fT(t){return Bc(t).replace(sT,"%3D")}function dT(t){return Ml(t).replace(mm,"%23").replace(iT,"%3F")}function pT(t){return dT(t).replace(rT,"%2F")}function Ri(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const mT=/\/$/,gT=t=>t.replace(mT,"");function fc(t,e,n="/"){let r,s={},i="",o="";const c=e.indexOf("#");let l=e.indexOf("?");return l=c>=0&&l>c?-1:l,l>=0&&(r=e.slice(0,l),i=e.slice(l,c>0?c:e.length),s=t(i.slice(1))),c>=0&&(r=r||e.slice(0,c),o=e.slice(c,e.length)),r=vT(r??e,n),{fullPath:r+i+o,path:r,query:s,hash:Ri(o)}}function _T(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function af(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function yT(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&ps(e.matched[r],n.matched[s])&&vm(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ps(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function vm(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!ET(t[n],e[n]))return!1;return!0}function ET(t,e){return Jt(t)?cf(t,e):Jt(e)?cf(e,t):t?.valueOf()===e?.valueOf()}function cf(t,e){return Jt(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function vT(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,c;for(o=0;o<r.length;o++)if(c=r[o],c!==".")if(c==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Hn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let jc=(function(t){return t.pop="pop",t.push="push",t})({}),dc=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function TT(t){if(!t)if(Zr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),gT(t)}const IT=/^[^#]+#/;function wT(t,e){return t.replace(IT,"#")+e}function AT(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Ea=()=>({left:window.scrollX,top:window.scrollY});function RT(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=AT(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function lf(t,e){return(history.state?history.state.position-e:-1)+t}const qc=new Map;function ST(t,e){qc.set(t,e)}function bT(t){const e=qc.get(t);return qc.delete(t),e}function CT(t){return typeof t=="string"||t&&typeof t=="object"}function Tm(t){return typeof t=="string"||typeof t=="symbol"}let Fe=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Im=Symbol("");Fe.MATCHER_NOT_FOUND+"",Fe.NAVIGATION_GUARD_REDIRECT+"",Fe.NAVIGATION_ABORTED+"",Fe.NAVIGATION_CANCELLED+"",Fe.NAVIGATION_DUPLICATED+"";function ms(t,e){return Ae(new Error,{type:t,[Im]:!0},e)}function En(t,e){return t instanceof Error&&Im in t&&(e==null||!!(t.type&e))}const PT=["params","query","hash"];function NT(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of PT)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function VT(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const s=n[r].replace(gm," "),i=s.indexOf("="),o=Ri(i<0?s:s.slice(0,i)),c=i<0?null:Ri(s.slice(i+1));if(o in e){let l=e[o];Jt(l)||(l=e[o]=[l]),l.push(c)}else e[o]=c}return e}function uf(t){let e="";for(let n in t){const r=t[n];if(n=fT(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Jt(r)?r.map(s=>s&&Bc(s)):[r&&Bc(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function DT(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Jt(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const OT=Symbol(""),hf=Symbol(""),va=Symbol(""),Ll=Symbol(""),$c=Symbol("");function Xs(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Qn(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((c,l)=>{const h=m=>{m===!1?l(ms(Fe.NAVIGATION_ABORTED,{from:n,to:e})):m instanceof Error?l(m):CT(m)?l(ms(Fe.NAVIGATION_GUARD_REDIRECT,{from:e,to:m})):(o&&r.enterCallbacks[s]===o&&typeof m=="function"&&o.push(m),c())},f=i(()=>t.call(r&&r.instances[s],e,n,h));let p=Promise.resolve(f);t.length<3&&(p=p.then(h)),p.catch(m=>l(m))})}function pc(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const c in o.components){let l=o.components[c];if(!(e!=="beforeRouteEnter"&&!o.instances[c]))if(pm(l)){const h=(l.__vccOpts||l)[e];h&&i.push(Qn(h,n,r,o,c,s))}else{let h=l();i.push(()=>h.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${c}" at "${o.path}"`);const p=tT(f)?f.default:f;o.mods[c]=f,o.components[c]=p;const m=(p.__vccOpts||p)[e];return m&&Qn(m,n,r,o,c,s)()}))}}return i}function kT(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const c=e.matched[o];c&&(t.matched.find(h=>ps(h,c))?r.push(c):n.push(c));const l=t.matched[o];l&&(e.matched.find(h=>ps(h,l))||s.push(l))}return[n,r,s]}let xT=()=>location.protocol+"//"+location.host;function wm(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let o=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(o);return c[0]!=="/"&&(c="/"+c),af(c,"")}return af(n,t)+r+s}function MT(t,e,n,r){let s=[],i=[],o=null;const c=({state:m})=>{const v=wm(t,location),P=n.value,V=e.value;let k=0;if(m){if(n.value=v,e.value=m,o&&o===P){o=null;return}k=V?m.position-V.position:0}else r(v);s.forEach(q=>{q(n.value,P,{delta:k,type:jc.pop,direction:k?k>0?dc.forward:dc.back:dc.unknown})})};function l(){o=n.value}function h(m){s.push(m);const v=()=>{const P=s.indexOf(m);P>-1&&s.splice(P,1)};return i.push(v),v}function f(){if(document.visibilityState==="hidden"){const{history:m}=window;if(!m.state)return;m.replaceState(Ae({},m.state,{scroll:Ea()}),"")}}function p(){for(const m of i)m();i=[],window.removeEventListener("popstate",c),window.removeEventListener("pagehide",f),document.removeEventListener("visibilitychange",f)}return window.addEventListener("popstate",c),window.addEventListener("pagehide",f),document.addEventListener("visibilitychange",f),{pauseListeners:l,listen:h,destroy:p}}function ff(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Ea():null}}function LT(t){const{history:e,location:n}=window,r={value:wm(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,h,f){const p=t.indexOf("#"),m=p>-1?(n.host&&document.querySelector("base")?t:t.slice(p))+l:xT()+t+l;try{e[f?"replaceState":"pushState"](h,"",m),s.value=h}catch(v){console.error(v),n[f?"replace":"assign"](m)}}function o(l,h){i(l,Ae({},e.state,ff(s.value.back,l,s.value.forward,!0),h,{position:s.value.position}),!0),r.value=l}function c(l,h){const f=Ae({},s.value,e.state,{forward:l,scroll:Ea()});i(f.current,f,!0),i(l,Ae({},ff(r.value,l,null),{position:f.position+1},h),!1),r.value=l}return{location:r,state:s,push:c,replace:o}}function FT(t){t=TT(t);const e=LT(t),n=MT(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Ae({location:"",base:t,go:r,createHref:wT.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function UT(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),FT(t)}let Pr=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var ze=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(ze||{});const BT={type:Pr.Static,value:""},jT=/[a-zA-Z0-9_]/;function qT(t){if(!t)return[[]];if(t==="/")return[[BT]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(v){throw new Error(`ERR (${n})/"${h}": ${v}`)}let n=ze.Static,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let c=0,l,h="",f="";function p(){h&&(n===ze.Static?i.push({type:Pr.Static,value:h}):n===ze.Param||n===ze.ParamRegExp||n===ze.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),i.push({type:Pr.Param,value:h,regexp:f,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),h="")}function m(){h+=l}for(;c<t.length;){if(l=t[c++],l==="\\"&&n!==ze.ParamRegExp){r=n,n=ze.EscapeNext;continue}switch(n){case ze.Static:l==="/"?(h&&p(),o()):l===":"?(p(),n=ze.Param):m();break;case ze.EscapeNext:m(),n=r;break;case ze.Param:l==="("?n=ze.ParamRegExp:jT.test(l)?m():(p(),n=ze.Static,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case ze.ParamRegExp:l===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+l:n=ze.ParamRegExpEnd:f+=l;break;case ze.ParamRegExpEnd:p(),n=ze.Static,l!=="*"&&l!=="?"&&l!=="+"&&c--,f="";break;default:e("Unknown state");break}}return n===ze.ParamRegExp&&e(`Unfinished custom RegExp for param "${h}"`),p(),o(),s}const df="[^/]+?",$T={sensitive:!1,strict:!1,start:!0,end:!0};var gt=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(gt||{});const HT=/[.+*?^${}()[\]/\\]/g;function GT(t,e){const n=Ae({},$T,e),r=[];let s=n.start?"^":"";const i=[];for(const h of t){const f=h.length?[]:[gt.Root];n.strict&&!h.length&&(s+="/");for(let p=0;p<h.length;p++){const m=h[p];let v=gt.Segment+(n.sensitive?gt.BonusCaseSensitive:0);if(m.type===Pr.Static)p||(s+="/"),s+=m.value.replace(HT,"\\$&"),v+=gt.Static;else if(m.type===Pr.Param){const{value:P,repeatable:V,optional:k,regexp:q}=m;i.push({name:P,repeatable:V,optional:k});const B=q||df;if(B!==df){v+=gt.BonusCustomRegExp;try{`${B}`}catch(z){throw new Error(`Invalid custom RegExp for param "${P}" (${B}): `+z.message)}}let H=V?`((?:${B})(?:/(?:${B}))*)`:`(${B})`;p||(H=k&&h.length<2?`(?:/${H})`:"/"+H),k&&(H+="?"),s+=H,v+=gt.Dynamic,k&&(v+=gt.BonusOptional),V&&(v+=gt.BonusRepeatable),B===".*"&&(v+=gt.BonusWildcard)}f.push(v)}r.push(f)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=gt.BonusStrict}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function c(h){const f=h.match(o),p={};if(!f)return null;for(let m=1;m<f.length;m++){const v=f[m]||"",P=i[m-1];p[P.name]=v&&P.repeatable?v.split("/"):v}return p}function l(h){let f="",p=!1;for(const m of t){(!p||!f.endsWith("/"))&&(f+="/"),p=!1;for(const v of m)if(v.type===Pr.Static)f+=v.value;else if(v.type===Pr.Param){const{value:P,repeatable:V,optional:k}=v,q=P in h?h[P]:"";if(Jt(q)&&!V)throw new Error(`Provided param "${P}" is an array but it is not repeatable (* or + modifiers)`);const B=Jt(q)?q.join("/"):q;if(!B)if(k)m.length<2&&(f.endsWith("/")?f=f.slice(0,-1):p=!0);else throw new Error(`Missing required param "${P}"`);f+=B}}return f||"/"}return{re:o,score:r,keys:i,parse:c,stringify:l}}function zT(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===gt.Static+gt.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===gt.Static+gt.Segment?1:-1:0}function Am(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=zT(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(pf(r))return 1;if(pf(s))return-1}return s.length-r.length}function pf(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const WT={strict:!1,end:!0,sensitive:!1};function KT(t,e,n){const r=GT(qT(t.path),n),s=Ae(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function QT(t,e){const n=[],r=new Map;e=of(WT,e);function s(p){return r.get(p)}function i(p,m,v){const P=!v,V=gf(p);V.aliasOf=v&&v.record;const k=of(e,p),q=[V];if("alias"in p){const z=typeof p.alias=="string"?[p.alias]:p.alias;for(const se of z)q.push(gf(Ae({},V,{components:v?v.record.components:V.components,path:se,aliasOf:v?v.record:V})))}let B,H;for(const z of q){const{path:se}=z;if(m&&se[0]!=="/"){const ce=m.record.path,R=ce[ce.length-1]==="/"?"":"/";z.path=m.record.path+(se&&R+se)}if(B=KT(z,m,k),v?v.alias.push(B):(H=H||B,H!==B&&H.alias.push(B),P&&p.name&&!_f(B)&&o(p.name)),Rm(B)&&l(B),V.children){const ce=V.children;for(let R=0;R<ce.length;R++)i(ce[R],B,v&&v.children[R])}v=v||B}return H?()=>{o(H)}:hi}function o(p){if(Tm(p)){const m=r.get(p);m&&(r.delete(p),n.splice(n.indexOf(m),1),m.children.forEach(o),m.alias.forEach(o))}else{const m=n.indexOf(p);m>-1&&(n.splice(m,1),p.record.name&&r.delete(p.record.name),p.children.forEach(o),p.alias.forEach(o))}}function c(){return n}function l(p){const m=YT(p,n);n.splice(m,0,p),p.record.name&&!_f(p)&&r.set(p.record.name,p)}function h(p,m){let v,P={},V,k;if("name"in p&&p.name){if(v=r.get(p.name),!v)throw ms(Fe.MATCHER_NOT_FOUND,{location:p});k=v.record.name,P=Ae(mf(m.params,v.keys.filter(H=>!H.optional).concat(v.parent?v.parent.keys.filter(H=>H.optional):[]).map(H=>H.name)),p.params&&mf(p.params,v.keys.map(H=>H.name))),V=v.stringify(P)}else if(p.path!=null)V=p.path,v=n.find(H=>H.re.test(V)),v&&(P=v.parse(V),k=v.record.name);else{if(v=m.name?r.get(m.name):n.find(H=>H.re.test(m.path)),!v)throw ms(Fe.MATCHER_NOT_FOUND,{location:p,currentLocation:m});k=v.record.name,P=Ae({},m.params,p.params),V=v.stringify(P)}const q=[];let B=v;for(;B;)q.unshift(B.record),B=B.parent;return{name:k,path:V,params:P,matched:q,meta:XT(q)}}t.forEach(p=>i(p));function f(){n.length=0,r.clear()}return{addRoute:i,resolve:h,removeRoute:o,clearRoutes:f,getRoutes:c,getRecordMatcher:s}}function mf(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function gf(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:JT(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function JT(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function _f(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function XT(t){return t.reduce((e,n)=>Ae(e,n.meta),{})}function YT(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;Am(t,e[i])<0?r=i:n=i+1}const s=ZT(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function ZT(t){let e=t;for(;e=e.parent;)if(Rm(e)&&Am(t,e)===0)return e}function Rm({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function yf(t){const e=zt(va),n=zt(Ll),r=qt(()=>{const l=kr(t.to);return e.resolve(l)}),s=qt(()=>{const{matched:l}=r.value,{length:h}=l,f=l[h-1],p=n.matched;if(!f||!p.length)return-1;const m=p.findIndex(ps.bind(null,f));if(m>-1)return m;const v=Ef(l[h-2]);return h>1&&Ef(f)===v&&p[p.length-1].path!==v?p.findIndex(ps.bind(null,l[h-2])):m}),i=qt(()=>s.value>-1&&sI(n.params,r.value.params)),o=qt(()=>s.value>-1&&s.value===n.matched.length-1&&vm(n.params,r.value.params));function c(l={}){if(rI(l)){const h=e[kr(t.replace)?"replace":"push"](kr(t.to)).catch(hi);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:r,href:qt(()=>r.value.href),isActive:i,isExactActive:o,navigate:c}}function eI(t){return t.length===1?t[0]:t}const tI=Fp({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:yf,setup(t,{slots:e}){const n=fa(yf(t)),{options:r}=zt(va),s=qt(()=>({[vf(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[vf(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&eI(e.default(n));return t.custom?i:xl("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),nI=tI;function rI(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function sI(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Jt(s)||s.length!==r.length||r.some((i,o)=>i.valueOf()!==s[o].valueOf()))return!1}return!0}function Ef(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const vf=(t,e,n)=>t??e??n,iI=Fp({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=zt($c),s=qt(()=>t.route||r.value),i=zt(hf,0),o=qt(()=>{let h=kr(i);const{matched:f}=s.value;let p;for(;(p=f[h])&&!p.components;)h++;return h}),c=qt(()=>s.value.matched[o.value]);go(hf,qt(()=>o.value+1)),go(OT,c),go($c,s);const l=rE();return _o(()=>[l.value,c.value,t.name],([h,f,p],[m,v,P])=>{f&&(f.instances[p]=h,v&&v!==f&&h&&h===m&&(f.leaveGuards.size||(f.leaveGuards=v.leaveGuards),f.updateGuards.size||(f.updateGuards=v.updateGuards))),h&&f&&(!v||!ps(f,v)||!m)&&(f.enterCallbacks[p]||[]).forEach(V=>V(h))},{flush:"post"}),()=>{const h=s.value,f=t.name,p=c.value,m=p&&p.components[f];if(!m)return Tf(n.default,{Component:m,route:h});const v=p.props[f],P=v?v===!0?h.params:typeof v=="function"?v(h):v:null,k=xl(m,Ae({},P,e,{onVnodeUnmounted:q=>{q.component.isUnmounted&&(p.instances[f]=null)},ref:l}));return Tf(n.default,{Component:k,route:h})||k}}});function Tf(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Sm=iI;function oI(t){const e=QT(t.routes,t),n=t.parseQuery||VT,r=t.stringifyQuery||uf,s=t.history,i=Xs(),o=Xs(),c=Xs(),l=sE(Hn);let h=Hn;Zr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=hc.bind(null,x=>""+x),p=hc.bind(null,pT),m=hc.bind(null,Ri);function v(x,X){let K,Z;return Tm(x)?(K=e.getRecordMatcher(x),Z=X):Z=x,e.addRoute(Z,K)}function P(x){const X=e.getRecordMatcher(x);X&&e.removeRoute(X)}function V(){return e.getRoutes().map(x=>x.record)}function k(x){return!!e.getRecordMatcher(x)}function q(x,X){if(X=Ae({},X||l.value),typeof x=="string"){const b=fc(n,x,X.path),D=e.resolve({path:b.path},X),F=s.createHref(b.fullPath);return Ae(b,D,{params:m(D.params),hash:Ri(b.hash),redirectedFrom:void 0,href:F})}let K;if(x.path!=null)K=Ae({},x,{path:fc(n,x.path,X.path).path});else{const b=Ae({},x.params);for(const D in b)b[D]==null&&delete b[D];K=Ae({},x,{params:p(b)}),X.params=p(X.params)}const Z=e.resolve(K,X),pe=x.hash||"";Z.params=f(m(Z.params));const E=_T(r,Ae({},x,{hash:hT(pe),path:Z.path})),I=s.createHref(E);return Ae({fullPath:E,hash:pe,query:r===uf?DT(x.query):x.query||{}},Z,{redirectedFrom:void 0,href:I})}function B(x){return typeof x=="string"?fc(n,x,l.value.path):Ae({},x)}function H(x,X){if(h!==x)return ms(Fe.NAVIGATION_CANCELLED,{from:X,to:x})}function z(x){return R(x)}function se(x){return z(Ae(B(x),{replace:!0}))}function ce(x,X){const K=x.matched[x.matched.length-1];if(K&&K.redirect){const{redirect:Z}=K;let pe=typeof Z=="function"?Z(x,X):Z;return typeof pe=="string"&&(pe=pe.includes("?")||pe.includes("#")?pe=B(pe):{path:pe},pe.params={}),Ae({query:x.query,hash:x.hash,params:pe.path!=null?{}:x.params},pe)}}function R(x,X){const K=h=q(x),Z=l.value,pe=x.state,E=x.force,I=x.replace===!0,b=ce(K,Z);if(b)return R(Ae(B(b),{state:typeof b=="object"?Ae({},pe,b.state):pe,force:E,replace:I}),X||K);const D=K;D.redirectedFrom=X;let F;return!E&&yT(r,Z,K)&&(F=ms(Fe.NAVIGATION_DUPLICATED,{to:D,from:Z}),Rt(Z,Z,!0,!1)),(F?Promise.resolve(F):S(D,Z)).catch(O=>En(O)?En(O,Fe.NAVIGATION_GUARD_REDIRECT)?O:Yt(O):ye(O,D,Z)).then(O=>{if(O){if(En(O,Fe.NAVIGATION_GUARD_REDIRECT))return R(Ae({replace:I},B(O.to),{state:typeof O.to=="object"?Ae({},pe,O.to.state):pe,force:E}),X||D)}else O=w(D,Z,!0,I,pe);return A(D,Z,O),O})}function T(x,X){const K=H(x,X);return K?Promise.reject(K):Promise.resolve()}function _(x){const X=Ft.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(x):x()}function S(x,X){let K;const[Z,pe,E]=kT(x,X);K=pc(Z.reverse(),"beforeRouteLeave",x,X);for(const b of Z)b.leaveGuards.forEach(D=>{K.push(Qn(D,x,X))});const I=T.bind(null,x,X);return K.push(I),st(K).then(()=>{K=[];for(const b of i.list())K.push(Qn(b,x,X));return K.push(I),st(K)}).then(()=>{K=pc(pe,"beforeRouteUpdate",x,X);for(const b of pe)b.updateGuards.forEach(D=>{K.push(Qn(D,x,X))});return K.push(I),st(K)}).then(()=>{K=[];for(const b of E)if(b.beforeEnter)if(Jt(b.beforeEnter))for(const D of b.beforeEnter)K.push(Qn(D,x,X));else K.push(Qn(b.beforeEnter,x,X));return K.push(I),st(K)}).then(()=>(x.matched.forEach(b=>b.enterCallbacks={}),K=pc(E,"beforeRouteEnter",x,X,_),K.push(I),st(K))).then(()=>{K=[];for(const b of o.list())K.push(Qn(b,x,X));return K.push(I),st(K)}).catch(b=>En(b,Fe.NAVIGATION_CANCELLED)?b:Promise.reject(b))}function A(x,X,K){c.list().forEach(Z=>_(()=>Z(x,X,K)))}function w(x,X,K,Z,pe){const E=H(x,X);if(E)return E;const I=X===Hn,b=Zr?history.state:{};K&&(Z||I?s.replace(x.fullPath,Ae({scroll:I&&b&&b.scroll},pe)):s.push(x.fullPath,pe)),l.value=x,Rt(x,X,K,I),Yt()}let y;function ve(){y||(y=s.listen((x,X,K)=>{if(!Ut.listening)return;const Z=q(x),pe=ce(Z,Ut.currentRoute.value);if(pe){R(Ae(pe,{replace:!0,force:!0}),Z).catch(hi);return}h=Z;const E=l.value;Zr&&ST(lf(E.fullPath,K.delta),Ea()),S(Z,E).catch(I=>En(I,Fe.NAVIGATION_ABORTED|Fe.NAVIGATION_CANCELLED)?I:En(I,Fe.NAVIGATION_GUARD_REDIRECT)?(R(Ae(B(I.to),{force:!0}),Z).then(b=>{En(b,Fe.NAVIGATION_ABORTED|Fe.NAVIGATION_DUPLICATED)&&!K.delta&&K.type===jc.pop&&s.go(-1,!1)}).catch(hi),Promise.reject()):(K.delta&&s.go(-K.delta,!1),ye(I,Z,E))).then(I=>{I=I||w(Z,E,!1),I&&(K.delta&&!En(I,Fe.NAVIGATION_CANCELLED)?s.go(-K.delta,!1):K.type===jc.pop&&En(I,Fe.NAVIGATION_ABORTED|Fe.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),A(Z,E,I)}).catch(hi)}))}let Ue=Xs(),xe=Xs(),we;function ye(x,X,K){Yt(x);const Z=xe.list();return Z.length?Z.forEach(pe=>pe(x,X,K)):console.error(x),Promise.reject(x)}function vt(){return we&&l.value!==Hn?Promise.resolve():new Promise((x,X)=>{Ue.add([x,X])})}function Yt(x){return we||(we=!x,ve(),Ue.list().forEach(([X,K])=>x?K(x):X()),Ue.reset()),x}function Rt(x,X,K,Z){const{scrollBehavior:pe}=t;if(!Zr||!pe)return Promise.resolve();const E=!K&&bT(lf(x.fullPath,0))||(Z||!K)&&history.state&&history.state.scroll||null;return Rp().then(()=>pe(x,X,E)).then(I=>I&&RT(I)).catch(I=>ye(I,x,X))}const Ze=x=>s.go(x);let gn;const Ft=new Set,Ut={currentRoute:l,listening:!0,addRoute:v,removeRoute:P,clearRoutes:e.clearRoutes,hasRoute:k,getRoutes:V,resolve:q,options:t,push:z,replace:se,go:Ze,back:()=>Ze(-1),forward:()=>Ze(1),beforeEach:i.add,beforeResolve:o.add,afterEach:c.add,onError:xe.add,isReady:vt,install(x){x.component("RouterLink",nI),x.component("RouterView",Sm),x.config.globalProperties.$router=Ut,Object.defineProperty(x.config.globalProperties,"$route",{enumerable:!0,get:()=>kr(l)}),Zr&&!gn&&l.value===Hn&&(gn=!0,z(s.location).catch(Z=>{}));const X={};for(const Z in Hn)Object.defineProperty(X,Z,{get:()=>l.value[Z],enumerable:!0});x.provide(va,Ut),x.provide(Ll,Tp(X)),x.provide($c,l);const K=x.unmount;Ft.add(x),x.unmount=function(){Ft.delete(x),Ft.size<1&&(h=Hn,y&&y(),y=null,l.value=Hn,gn=!1,we=!1),K()}}};function st(x){return x.reduce((X,K)=>X.then(()=>_(K)),Promise.resolve())}return Ut}function aI(){return zt(va)}function IP(t){return zt(Ll)}const cI={__name:"App",setup(t){return(e,n)=>(Ol(),om(kr(Sm)))}},lI="modulepreload",uI=function(t){return"/"+t},If={},Ys=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");s=l(n.map(h=>{if(h=uI(h),h in If)return;If[h]=!0;const f=h.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":lI,f||(m.as="script"),m.crossOrigin="",m.href=h,c&&m.setAttribute("nonce",c),document.head.appendChild(m),f)return new Promise((v,P)=>{m.addEventListener("load",v),m.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},hI="/assets/logo2-CefVcnt0.png",fI=()=>{};var wf={};const bm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},dI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],c=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Cm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,c=o?t[s+1]:0,l=s+2<t.length,h=l?t[s+2]:0,f=i>>2,p=(i&3)<<4|c>>4;let m=(c&15)<<2|h>>6,v=h&63;l||(v=64,o||(m=64)),r.push(n[f],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||h==null||p==null)throw new pI;const m=i<<2|c>>4;if(r.push(m),h!==64){const v=c<<4&240|h>>2;if(r.push(v),p!==64){const P=h<<6&192|p;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mI=function(t){const e=bm(t);return Cm.encodeByteArray(e,!0)},jo=function(t){return mI(t).replace(/\./g,"")},Pm=function(t){try{return Cm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _I=()=>gI().__FIREBASE_DEFAULTS__,yI=()=>{if(typeof process>"u"||typeof wf>"u")return;const t=wf.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Pm(t[1]);return e&&JSON.parse(e)},Ta=()=>{try{return fI()||_I()||yI()||EI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Nm=t=>Ta()?.emulatorHosts?.[t],vI=t=>{const e=Nm(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Vm=()=>Ta()?.config,Dm=t=>Ta()?.[`_${t}`];class TI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Rs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Om(t){return(await fetch(t,{credentials:"include"})).ok}function II(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[jo(JSON.stringify(n)),jo(JSON.stringify(o)),""].join(".")}const fi={};function wI(){const t={prod:[],emulator:[]};for(const e of Object.keys(fi))fi[e]?t.emulator.push(e):t.prod.push(e);return t}function AI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Af=!1;function km(t,e){if(typeof window>"u"||typeof document>"u"||!Rs(window.location.host)||fi[t]===e||fi[t]||Af)return;fi[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=wI().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Af=!0,o()},m}function f(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=AI(r),v=n("text"),P=document.getElementById(v)||document.createElement("span"),V=n("learnmore"),k=document.getElementById(V)||document.createElement("a"),q=n("preprendIcon"),B=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const H=m.element;c(H),f(k,V);const z=h();l(B,q),H.append(B,P,k,z),document.body.appendChild(H)}i?(P.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function SI(){const t=Ta()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NI(){const t=dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function VI(){return!SI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DI(){try{return typeof indexedDB=="object"}catch{return!1}}function OI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}const kI="FirebaseError";class xn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kI,Object.setPrototypeOf(this,xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fi.prototype.create)}}class Fi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?xI(i,r):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new xn(s,c,r)}}function xI(t,e){return t.replace(MI,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const MI=/\{\$([^}]+)}/g;function LI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lr(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Rf(i)&&Rf(o)){if(!Lr(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Rf(t){return t!==null&&typeof t=="object"}function Ui(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function FI(t,e){const n=new UI(t,e);return n.subscribe.bind(n)}class UI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");BI(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=mc),s.error===void 0&&(s.error=mc),s.complete===void 0&&(s.complete=mc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mc(){}function Et(t){return t&&t._delegate?t._delegate:t}class Fr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sr="[DEFAULT]";class jI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new TI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($I(e))try{this.getOrInitializeService({instanceIdentifier:Sr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sr){return this.instances.has(e)}getOptions(e=Sr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sr){return this.component?this.component.multipleInstances?e:Sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qI(t){return t===Sr?void 0:t}function $I(t){return t.instantiationMode==="EAGER"}class HI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const GI={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},zI=me.INFO,WI={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},KI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=WI[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fl{constructor(e){this.name=e,this._logLevel=zI,this._logHandler=KI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const QI=(t,e)=>e.some(n=>t instanceof n);let Sf,bf;function JI(){return Sf||(Sf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XI(){return bf||(bf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xm=new WeakMap,Hc=new WeakMap,Mm=new WeakMap,gc=new WeakMap,Ul=new WeakMap;function YI(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(tr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xm.set(n,t)}).catch(()=>{}),Ul.set(e,t),e}function ZI(t){if(Hc.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Hc.set(t,e)}let Gc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Mm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ew(t){Gc=t(Gc)}function tw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_c(this),e,...n);return Mm.set(r,e.sort?e.sort():[e]),tr(r)}:XI().includes(t)?function(...e){return t.apply(_c(this),e),tr(xm.get(this))}:function(...e){return tr(t.apply(_c(this),e))}}function nw(t){return typeof t=="function"?tw(t):(t instanceof IDBTransaction&&ZI(t),QI(t,JI())?new Proxy(t,Gc):t)}function tr(t){if(t instanceof IDBRequest)return YI(t);if(gc.has(t))return gc.get(t);const e=nw(t);return e!==t&&(gc.set(t,e),Ul.set(e,t)),e}const _c=t=>Ul.get(t);function rw(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),c=tr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(tr(o.result),l.oldVersion,l.newVersion,tr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const sw=["get","getKey","getAll","getAllKeys","count"],iw=["put","add","delete","clear"],yc=new Map;function Cf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yc.get(e))return yc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=iw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||sw.includes(n)))return;const i=async function(o,...c){const l=this.transaction(o,s?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&l.done]))[0]};return yc.set(e,i),i}ew(t=>({...t,get:(e,n,r)=>Cf(e,n)||t.get(e,n,r),has:(e,n)=>!!Cf(e,n)||t.has(e,n)}));class ow{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aw(t){return t.getComponent()?.type==="VERSION"}const zc="@firebase/app",Pf="0.14.6";const Nn=new Fl("@firebase/app"),cw="@firebase/app-compat",lw="@firebase/analytics-compat",uw="@firebase/analytics",hw="@firebase/app-check-compat",fw="@firebase/app-check",dw="@firebase/auth",pw="@firebase/auth-compat",mw="@firebase/database",gw="@firebase/data-connect",_w="@firebase/database-compat",yw="@firebase/functions",Ew="@firebase/functions-compat",vw="@firebase/installations",Tw="@firebase/installations-compat",Iw="@firebase/messaging",ww="@firebase/messaging-compat",Aw="@firebase/performance",Rw="@firebase/performance-compat",Sw="@firebase/remote-config",bw="@firebase/remote-config-compat",Cw="@firebase/storage",Pw="@firebase/storage-compat",Nw="@firebase/firestore",Vw="@firebase/ai",Dw="@firebase/firestore-compat",Ow="firebase",kw="12.6.0";const Wc="[DEFAULT]",xw={[zc]:"fire-core",[cw]:"fire-core-compat",[uw]:"fire-analytics",[lw]:"fire-analytics-compat",[fw]:"fire-app-check",[hw]:"fire-app-check-compat",[dw]:"fire-auth",[pw]:"fire-auth-compat",[mw]:"fire-rtdb",[gw]:"fire-data-connect",[_w]:"fire-rtdb-compat",[yw]:"fire-fn",[Ew]:"fire-fn-compat",[vw]:"fire-iid",[Tw]:"fire-iid-compat",[Iw]:"fire-fcm",[ww]:"fire-fcm-compat",[Aw]:"fire-perf",[Rw]:"fire-perf-compat",[Sw]:"fire-rc",[bw]:"fire-rc-compat",[Cw]:"fire-gcs",[Pw]:"fire-gcs-compat",[Nw]:"fire-fst",[Dw]:"fire-fst-compat",[Vw]:"fire-vertex","fire-js":"fire-js",[Ow]:"fire-js-all"};const qo=new Map,Mw=new Map,Kc=new Map;function Nf(t,e){try{t.container.addComponent(e)}catch(n){Nn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gs(t){const e=t.name;if(Kc.has(e))return Nn.debug(`There were multiple attempts to register component ${e}.`),!1;Kc.set(e,t);for(const n of qo.values())Nf(n,t);for(const n of Mw.values())Nf(n,t);return!0}function Bl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ot(t){return t==null?!1:t.settings!==void 0}const Lw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nr=new Fi("app","Firebase",Lw);class Fw{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}const Ss=kw;function Lm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Wc,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw nr.create("bad-app-name",{appName:String(s)});if(n||(n=Vm()),!n)throw nr.create("no-options");const i=qo.get(s);if(i){if(Lr(n,i.options)&&Lr(r,i.config))return i;throw nr.create("duplicate-app",{appName:s})}const o=new HI(s);for(const l of Kc.values())o.addComponent(l);const c=new Fw(n,r,o);return qo.set(s,c),c}function Fm(t=Wc){const e=qo.get(t);if(!e&&t===Wc&&Vm())return Lm();if(!e)throw nr.create("no-app",{appName:t});return e}function rr(t,e,n){let r=xw[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nn.warn(o.join(" "));return}gs(new Fr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Uw="firebase-heartbeat-database",Bw=1,Si="firebase-heartbeat-store";let Ec=null;function Um(){return Ec||(Ec=rw(Uw,Bw,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Si)}catch(n){console.warn(n)}}}}).catch(t=>{throw nr.create("idb-open",{originalErrorMessage:t.message})})),Ec}async function jw(t){try{const n=(await Um()).transaction(Si),r=await n.objectStore(Si).get(Bm(t));return await n.done,r}catch(e){if(e instanceof xn)Nn.warn(e.message);else{const n=nr.create("idb-get",{originalErrorMessage:e?.message});Nn.warn(n.message)}}}async function Vf(t,e){try{const r=(await Um()).transaction(Si,"readwrite");await r.objectStore(Si).put(e,Bm(t)),await r.done}catch(n){if(n instanceof xn)Nn.warn(n.message);else{const r=nr.create("idb-set",{originalErrorMessage:n?.message});Nn.warn(r.message)}}}function Bm(t){return`${t.name}!${t.options.appId}`}const qw=1024,$w=30;class Hw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Df();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>$w){const s=Ww(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Nn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Df(),{heartbeatsToSend:n,unsentEntries:r}=Gw(this._heartbeatsCache.heartbeats),s=jo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Nn.warn(e),""}}}function Df(){return new Date().toISOString().substring(0,10)}function Gw(t,e=qw){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Of(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Of(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DI()?OI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vf(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vf(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Of(t){return jo(JSON.stringify({version:2,heartbeats:t})).length}function Ww(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Kw(t){gs(new Fr("platform-logger",e=>new ow(e),"PRIVATE")),gs(new Fr("heartbeat",e=>new Hw(e),"PRIVATE")),rr(zc,Pf,t),rr(zc,Pf,"esm2020"),rr("fire-js","")}Kw("");var Qw="firebase",Jw="12.7.0";rr(Qw,Jw,"app");var kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sr,jm;(function(){var t;function e(R,T){function _(){}_.prototype=T.prototype,R.F=T.prototype,R.prototype=new _,R.prototype.constructor=R,R.D=function(S,A,w){for(var y=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)y[ve-2]=arguments[ve];return T.prototype[A].apply(S,y)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,T,_){_||(_=0);const S=Array(16);if(typeof T=="string")for(var A=0;A<16;++A)S[A]=T.charCodeAt(_++)|T.charCodeAt(_++)<<8|T.charCodeAt(_++)<<16|T.charCodeAt(_++)<<24;else for(A=0;A<16;++A)S[A]=T[_++]|T[_++]<<8|T[_++]<<16|T[_++]<<24;T=R.g[0],_=R.g[1],A=R.g[2];let w=R.g[3],y;y=T+(w^_&(A^w))+S[0]+3614090360&4294967295,T=_+(y<<7&4294967295|y>>>25),y=w+(A^T&(_^A))+S[1]+3905402710&4294967295,w=T+(y<<12&4294967295|y>>>20),y=A+(_^w&(T^_))+S[2]+606105819&4294967295,A=w+(y<<17&4294967295|y>>>15),y=_+(T^A&(w^T))+S[3]+3250441966&4294967295,_=A+(y<<22&4294967295|y>>>10),y=T+(w^_&(A^w))+S[4]+4118548399&4294967295,T=_+(y<<7&4294967295|y>>>25),y=w+(A^T&(_^A))+S[5]+1200080426&4294967295,w=T+(y<<12&4294967295|y>>>20),y=A+(_^w&(T^_))+S[6]+2821735955&4294967295,A=w+(y<<17&4294967295|y>>>15),y=_+(T^A&(w^T))+S[7]+4249261313&4294967295,_=A+(y<<22&4294967295|y>>>10),y=T+(w^_&(A^w))+S[8]+1770035416&4294967295,T=_+(y<<7&4294967295|y>>>25),y=w+(A^T&(_^A))+S[9]+2336552879&4294967295,w=T+(y<<12&4294967295|y>>>20),y=A+(_^w&(T^_))+S[10]+4294925233&4294967295,A=w+(y<<17&4294967295|y>>>15),y=_+(T^A&(w^T))+S[11]+2304563134&4294967295,_=A+(y<<22&4294967295|y>>>10),y=T+(w^_&(A^w))+S[12]+1804603682&4294967295,T=_+(y<<7&4294967295|y>>>25),y=w+(A^T&(_^A))+S[13]+4254626195&4294967295,w=T+(y<<12&4294967295|y>>>20),y=A+(_^w&(T^_))+S[14]+2792965006&4294967295,A=w+(y<<17&4294967295|y>>>15),y=_+(T^A&(w^T))+S[15]+1236535329&4294967295,_=A+(y<<22&4294967295|y>>>10),y=T+(A^w&(_^A))+S[1]+4129170786&4294967295,T=_+(y<<5&4294967295|y>>>27),y=w+(_^A&(T^_))+S[6]+3225465664&4294967295,w=T+(y<<9&4294967295|y>>>23),y=A+(T^_&(w^T))+S[11]+643717713&4294967295,A=w+(y<<14&4294967295|y>>>18),y=_+(w^T&(A^w))+S[0]+3921069994&4294967295,_=A+(y<<20&4294967295|y>>>12),y=T+(A^w&(_^A))+S[5]+3593408605&4294967295,T=_+(y<<5&4294967295|y>>>27),y=w+(_^A&(T^_))+S[10]+38016083&4294967295,w=T+(y<<9&4294967295|y>>>23),y=A+(T^_&(w^T))+S[15]+3634488961&4294967295,A=w+(y<<14&4294967295|y>>>18),y=_+(w^T&(A^w))+S[4]+3889429448&4294967295,_=A+(y<<20&4294967295|y>>>12),y=T+(A^w&(_^A))+S[9]+568446438&4294967295,T=_+(y<<5&4294967295|y>>>27),y=w+(_^A&(T^_))+S[14]+3275163606&4294967295,w=T+(y<<9&4294967295|y>>>23),y=A+(T^_&(w^T))+S[3]+4107603335&4294967295,A=w+(y<<14&4294967295|y>>>18),y=_+(w^T&(A^w))+S[8]+1163531501&4294967295,_=A+(y<<20&4294967295|y>>>12),y=T+(A^w&(_^A))+S[13]+2850285829&4294967295,T=_+(y<<5&4294967295|y>>>27),y=w+(_^A&(T^_))+S[2]+4243563512&4294967295,w=T+(y<<9&4294967295|y>>>23),y=A+(T^_&(w^T))+S[7]+1735328473&4294967295,A=w+(y<<14&4294967295|y>>>18),y=_+(w^T&(A^w))+S[12]+2368359562&4294967295,_=A+(y<<20&4294967295|y>>>12),y=T+(_^A^w)+S[5]+4294588738&4294967295,T=_+(y<<4&4294967295|y>>>28),y=w+(T^_^A)+S[8]+2272392833&4294967295,w=T+(y<<11&4294967295|y>>>21),y=A+(w^T^_)+S[11]+1839030562&4294967295,A=w+(y<<16&4294967295|y>>>16),y=_+(A^w^T)+S[14]+4259657740&4294967295,_=A+(y<<23&4294967295|y>>>9),y=T+(_^A^w)+S[1]+2763975236&4294967295,T=_+(y<<4&4294967295|y>>>28),y=w+(T^_^A)+S[4]+1272893353&4294967295,w=T+(y<<11&4294967295|y>>>21),y=A+(w^T^_)+S[7]+4139469664&4294967295,A=w+(y<<16&4294967295|y>>>16),y=_+(A^w^T)+S[10]+3200236656&4294967295,_=A+(y<<23&4294967295|y>>>9),y=T+(_^A^w)+S[13]+681279174&4294967295,T=_+(y<<4&4294967295|y>>>28),y=w+(T^_^A)+S[0]+3936430074&4294967295,w=T+(y<<11&4294967295|y>>>21),y=A+(w^T^_)+S[3]+3572445317&4294967295,A=w+(y<<16&4294967295|y>>>16),y=_+(A^w^T)+S[6]+76029189&4294967295,_=A+(y<<23&4294967295|y>>>9),y=T+(_^A^w)+S[9]+3654602809&4294967295,T=_+(y<<4&4294967295|y>>>28),y=w+(T^_^A)+S[12]+3873151461&4294967295,w=T+(y<<11&4294967295|y>>>21),y=A+(w^T^_)+S[15]+530742520&4294967295,A=w+(y<<16&4294967295|y>>>16),y=_+(A^w^T)+S[2]+3299628645&4294967295,_=A+(y<<23&4294967295|y>>>9),y=T+(A^(_|~w))+S[0]+4096336452&4294967295,T=_+(y<<6&4294967295|y>>>26),y=w+(_^(T|~A))+S[7]+1126891415&4294967295,w=T+(y<<10&4294967295|y>>>22),y=A+(T^(w|~_))+S[14]+2878612391&4294967295,A=w+(y<<15&4294967295|y>>>17),y=_+(w^(A|~T))+S[5]+4237533241&4294967295,_=A+(y<<21&4294967295|y>>>11),y=T+(A^(_|~w))+S[12]+1700485571&4294967295,T=_+(y<<6&4294967295|y>>>26),y=w+(_^(T|~A))+S[3]+2399980690&4294967295,w=T+(y<<10&4294967295|y>>>22),y=A+(T^(w|~_))+S[10]+4293915773&4294967295,A=w+(y<<15&4294967295|y>>>17),y=_+(w^(A|~T))+S[1]+2240044497&4294967295,_=A+(y<<21&4294967295|y>>>11),y=T+(A^(_|~w))+S[8]+1873313359&4294967295,T=_+(y<<6&4294967295|y>>>26),y=w+(_^(T|~A))+S[15]+4264355552&4294967295,w=T+(y<<10&4294967295|y>>>22),y=A+(T^(w|~_))+S[6]+2734768916&4294967295,A=w+(y<<15&4294967295|y>>>17),y=_+(w^(A|~T))+S[13]+1309151649&4294967295,_=A+(y<<21&4294967295|y>>>11),y=T+(A^(_|~w))+S[4]+4149444226&4294967295,T=_+(y<<6&4294967295|y>>>26),y=w+(_^(T|~A))+S[11]+3174756917&4294967295,w=T+(y<<10&4294967295|y>>>22),y=A+(T^(w|~_))+S[2]+718787259&4294967295,A=w+(y<<15&4294967295|y>>>17),y=_+(w^(A|~T))+S[9]+3951481745&4294967295,R.g[0]=R.g[0]+T&4294967295,R.g[1]=R.g[1]+(A+(y<<21&4294967295|y>>>11))&4294967295,R.g[2]=R.g[2]+A&4294967295,R.g[3]=R.g[3]+w&4294967295}r.prototype.v=function(R,T){T===void 0&&(T=R.length);const _=T-this.blockSize,S=this.C;let A=this.h,w=0;for(;w<T;){if(A==0)for(;w<=_;)s(this,R,w),w+=this.blockSize;if(typeof R=="string"){for(;w<T;)if(S[A++]=R.charCodeAt(w++),A==this.blockSize){s(this,S),A=0;break}}else for(;w<T;)if(S[A++]=R[w++],A==this.blockSize){s(this,S),A=0;break}}this.h=A,this.o+=T},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var T=1;T<R.length-8;++T)R[T]=0;T=this.o*8;for(var _=R.length-8;_<R.length;++_)R[_]=T&255,T/=256;for(this.v(R),R=Array(16),T=0,_=0;_<4;++_)for(let S=0;S<32;S+=8)R[T++]=this.g[_]>>>S&255;return R};function i(R,T){var _=c;return Object.prototype.hasOwnProperty.call(_,R)?_[R]:_[R]=T(R)}function o(R,T){this.h=T;const _=[];let S=!0;for(let A=R.length-1;A>=0;A--){const w=R[A]|0;S&&w==T||(_[A]=w,S=!1)}this.g=_}var c={};function l(R){return-128<=R&&R<128?i(R,function(T){return new o([T|0],T<0?-1:0)}):new o([R|0],R<0?-1:0)}function h(R){if(isNaN(R)||!isFinite(R))return p;if(R<0)return k(h(-R));const T=[];let _=1;for(let S=0;R>=_;S++)T[S]=R/_|0,_*=4294967296;return new o(T,0)}function f(R,T){if(R.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(R.charAt(0)=="-")return k(f(R.substring(1),T));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _=h(Math.pow(T,8));let S=p;for(let w=0;w<R.length;w+=8){var A=Math.min(8,R.length-w);const y=parseInt(R.substring(w,w+A),T);A<8?(A=h(Math.pow(T,A)),S=S.j(A).add(h(y))):(S=S.j(_),S=S.add(h(y)))}return S}var p=l(0),m=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(V(this))return-k(this).m();let R=0,T=1;for(let _=0;_<this.g.length;_++){const S=this.i(_);R+=(S>=0?S:4294967296+S)*T,T*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(V(this))return"-"+k(this).toString(R);const T=h(Math.pow(R,6));var _=this;let S="";for(;;){const A=z(_,T).g;_=q(_,A.j(T));let w=((_.g.length>0?_.g[0]:_.h)>>>0).toString(R);if(_=A,P(_))return w+S;for(;w.length<6;)w="0"+w;S=w+S}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(let T=0;T<R.g.length;T++)if(R.g[T]!=0)return!1;return!0}function V(R){return R.h==-1}t.l=function(R){return R=q(this,R),V(R)?-1:P(R)?0:1};function k(R){const T=R.g.length,_=[];for(let S=0;S<T;S++)_[S]=~R.g[S];return new o(_,~R.h).add(m)}t.abs=function(){return V(this)?k(this):this},t.add=function(R){const T=Math.max(this.g.length,R.g.length),_=[];let S=0;for(let A=0;A<=T;A++){let w=S+(this.i(A)&65535)+(R.i(A)&65535),y=(w>>>16)+(this.i(A)>>>16)+(R.i(A)>>>16);S=y>>>16,w&=65535,y&=65535,_[A]=y<<16|w}return new o(_,_[_.length-1]&-2147483648?-1:0)};function q(R,T){return R.add(k(T))}t.j=function(R){if(P(this)||P(R))return p;if(V(this))return V(R)?k(this).j(k(R)):k(k(this).j(R));if(V(R))return k(this.j(k(R)));if(this.l(v)<0&&R.l(v)<0)return h(this.m()*R.m());const T=this.g.length+R.g.length,_=[];for(var S=0;S<2*T;S++)_[S]=0;for(S=0;S<this.g.length;S++)for(let A=0;A<R.g.length;A++){const w=this.i(S)>>>16,y=this.i(S)&65535,ve=R.i(A)>>>16,Ue=R.i(A)&65535;_[2*S+2*A]+=y*Ue,B(_,2*S+2*A),_[2*S+2*A+1]+=w*Ue,B(_,2*S+2*A+1),_[2*S+2*A+1]+=y*ve,B(_,2*S+2*A+1),_[2*S+2*A+2]+=w*ve,B(_,2*S+2*A+2)}for(R=0;R<T;R++)_[R]=_[2*R+1]<<16|_[2*R];for(R=T;R<2*T;R++)_[R]=0;return new o(_,0)};function B(R,T){for(;(R[T]&65535)!=R[T];)R[T+1]+=R[T]>>>16,R[T]&=65535,T++}function H(R,T){this.g=R,this.h=T}function z(R,T){if(P(T))throw Error("division by zero");if(P(R))return new H(p,p);if(V(R))return T=z(k(R),T),new H(k(T.g),k(T.h));if(V(T))return T=z(R,k(T)),new H(k(T.g),T.h);if(R.g.length>30){if(V(R)||V(T))throw Error("slowDivide_ only works with positive integers.");for(var _=m,S=T;S.l(R)<=0;)_=se(_),S=se(S);var A=ce(_,1),w=ce(S,1);for(S=ce(S,2),_=ce(_,2);!P(S);){var y=w.add(S);y.l(R)<=0&&(A=A.add(_),w=y),S=ce(S,1),_=ce(_,1)}return T=q(R,A.j(T)),new H(A,T)}for(A=p;R.l(T)>=0;){for(_=Math.max(1,Math.floor(R.m()/T.m())),S=Math.ceil(Math.log(_)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),w=h(_),y=w.j(T);V(y)||y.l(R)>0;)_-=S,w=h(_),y=w.j(T);P(w)&&(w=m),A=A.add(w),R=q(R,y)}return new H(A,R)}t.B=function(R){return z(this,R).h},t.and=function(R){const T=Math.max(this.g.length,R.g.length),_=[];for(let S=0;S<T;S++)_[S]=this.i(S)&R.i(S);return new o(_,this.h&R.h)},t.or=function(R){const T=Math.max(this.g.length,R.g.length),_=[];for(let S=0;S<T;S++)_[S]=this.i(S)|R.i(S);return new o(_,this.h|R.h)},t.xor=function(R){const T=Math.max(this.g.length,R.g.length),_=[];for(let S=0;S<T;S++)_[S]=this.i(S)^R.i(S);return new o(_,this.h^R.h)};function se(R){const T=R.g.length+1,_=[];for(let S=0;S<T;S++)_[S]=R.i(S)<<1|R.i(S-1)>>>31;return new o(_,R.h)}function ce(R,T){const _=T>>5;T%=32;const S=R.g.length-_,A=[];for(let w=0;w<S;w++)A[w]=T>0?R.i(w+_)>>>T|R.i(w+_+1)<<32-T:R.i(w+_);return new o(A,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,jm=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,sr=o}).apply(typeof kf<"u"?kf:typeof self<"u"?self:typeof window<"u"?window:{});var co=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qm,ei,$m,To,Qc,Hm,Gm,zm;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof co=="object"&&co];for(var u=0;u<a.length;++u){var d=a[u];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function s(a,u){if(u)e:{var d=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var C=a[g];if(!(C in d))break e;d=d[C]}a=a[a.length-1],g=d[a],u=u(g),u!=g&&u!=null&&e(d,a,{configurable:!0,writable:!0,value:u})}}s("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(a){return a||function(u){var d=[],g;for(g in u)Object.prototype.hasOwnProperty.call(u,g)&&d.push([g,u[g]]);return d}});var i=i||{},o=this||self;function c(a){var u=typeof a;return u=="object"&&a!=null||u=="function"}function l(a,u,d){return a.call.apply(a.bind,arguments)}function h(a,u,d){return h=l,h.apply(null,arguments)}function f(a,u){var d=Array.prototype.slice.call(arguments,1);return function(){var g=d.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function p(a,u){function d(){}d.prototype=u.prototype,a.Z=u.prototype,a.prototype=new d,a.prototype.constructor=a,a.Ob=function(g,C,N){for(var G=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)G[fe-2]=arguments[fe];return u.prototype[C].apply(g,G)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function v(a){const u=a.length;if(u>0){const d=Array(u);for(let g=0;g<u;g++)d[g]=a[g];return d}return[]}function P(a,u){for(let g=1;g<arguments.length;g++){const C=arguments[g];var d=typeof C;if(d=d!="object"?d:C?Array.isArray(C)?"array":d:"null",d=="array"||d=="object"&&typeof C.length=="number"){d=a.length||0;const N=C.length||0;a.length=d+N;for(let G=0;G<N;G++)a[d+G]=C[G]}else a.push(C)}}class V{constructor(u,d){this.i=u,this.j=d,this.h=0,this.g=null}get(){let u;return this.h>0?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function k(a){o.setTimeout(()=>{throw a},0)}function q(){var a=R;let u=null;return a.g&&(u=a.g,a.g=a.g.next,a.g||(a.h=null),u.next=null),u}class B{constructor(){this.h=this.g=null}add(u,d){const g=H.get();g.set(u,d),this.h?this.h.next=g:this.g=g,this.h=g}}var H=new V(()=>new z,a=>a.reset());class z{constructor(){this.next=this.g=this.h=null}set(u,d){this.h=u,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ce=!1,R=new B,T=()=>{const a=Promise.resolve(void 0);se=()=>{a.then(_)}};function _(){for(var a;a=q();){try{a.h.call(a.g)}catch(d){k(d)}var u=H;u.j(a),u.h<100&&(u.h++,a.next=u.g,u.g=a)}ce=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(a,u){this.type=a,this.g=this.target=u,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var w=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,u=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};o.addEventListener("test",d,u),o.removeEventListener("test",d,u)}catch{}return a})();function y(a){return/^[\s\xa0]*$/.test(a)}function ve(a,u){A.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,u)}p(ve,A),ve.prototype.init=function(a,u){const d=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=u,u=a.relatedTarget,u||(d=="mouseover"?u=a.fromElement:d=="mouseout"&&(u=a.toElement)),this.relatedTarget=u,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ue="closure_listenable_"+(Math.random()*1e6|0),xe=0;function we(a,u,d,g,C){this.listener=a,this.proxy=null,this.src=u,this.type=d,this.capture=!!g,this.ha=C,this.key=++xe,this.da=this.fa=!1}function ye(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function vt(a,u,d){for(const g in a)u.call(d,a[g],g,a)}function Yt(a,u){for(const d in a)u.call(void 0,a[d],d,a)}function Rt(a){const u={};for(const d in a)u[d]=a[d];return u}const Ze="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gn(a,u){let d,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(d in g)a[d]=g[d];for(let N=0;N<Ze.length;N++)d=Ze[N],Object.prototype.hasOwnProperty.call(g,d)&&(a[d]=g[d])}}function Ft(a){this.src=a,this.g={},this.h=0}Ft.prototype.add=function(a,u,d,g,C){const N=a.toString();a=this.g[N],a||(a=this.g[N]=[],this.h++);const G=st(a,u,g,C);return G>-1?(u=a[G],d||(u.fa=!1)):(u=new we(u,this.src,N,!!g,C),u.fa=d,a.push(u)),u};function Ut(a,u){const d=u.type;if(d in a.g){var g=a.g[d],C=Array.prototype.indexOf.call(g,u,void 0),N;(N=C>=0)&&Array.prototype.splice.call(g,C,1),N&&(ye(u),a.g[d].length==0&&(delete a.g[d],a.h--))}}function st(a,u,d,g){for(let C=0;C<a.length;++C){const N=a[C];if(!N.da&&N.listener==u&&N.capture==!!d&&N.ha==g)return C}return-1}var x="closure_lm_"+(Math.random()*1e6|0),X={};function K(a,u,d,g,C){if(Array.isArray(u)){for(let N=0;N<u.length;N++)K(a,u[N],d,g,C);return null}return d=W(d),a&&a[Ue]?a.J(u,d,c(g)?!!g.capture:!1,C):Z(a,u,d,!1,g,C)}function Z(a,u,d,g,C,N){if(!u)throw Error("Invalid event type");const G=c(C)?!!C.capture:!!C;let fe=F(a);if(fe||(a[x]=fe=new Ft(a)),d=fe.add(u,d,g,G,N),d.proxy)return d;if(g=pe(),d.proxy=g,g.src=a,g.listener=d,a.addEventListener)w||(C=G),C===void 0&&(C=!1),a.addEventListener(u.toString(),g,C);else if(a.attachEvent)a.attachEvent(b(u.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return d}function pe(){function a(d){return u.call(a.src,a.listener,d)}const u=D;return a}function E(a,u,d,g,C){if(Array.isArray(u))for(var N=0;N<u.length;N++)E(a,u[N],d,g,C);else g=c(g)?!!g.capture:!!g,d=W(d),a&&a[Ue]?(a=a.i,N=String(u).toString(),N in a.g&&(u=a.g[N],d=st(u,d,g,C),d>-1&&(ye(u[d]),Array.prototype.splice.call(u,d,1),u.length==0&&(delete a.g[N],a.h--)))):a&&(a=F(a))&&(u=a.g[u.toString()],a=-1,u&&(a=st(u,d,g,C)),(d=a>-1?u[a]:null)&&I(d))}function I(a){if(typeof a!="number"&&a&&!a.da){var u=a.src;if(u&&u[Ue])Ut(u.i,a);else{var d=a.type,g=a.proxy;u.removeEventListener?u.removeEventListener(d,g,a.capture):u.detachEvent?u.detachEvent(b(d),g):u.addListener&&u.removeListener&&u.removeListener(g),(d=F(u))?(Ut(d,a),d.h==0&&(d.src=null,u[x]=null)):ye(a)}}}function b(a){return a in X?X[a]:X[a]="on"+a}function D(a,u){if(a.da)a=!0;else{u=new ve(u,this);const d=a.listener,g=a.ha||a.src;a.fa&&I(a),a=d.call(g,u)}return a}function F(a){return a=a[x],a instanceof Ft?a:null}var O="__closure_events_fn_"+(Math.random()*1e9>>>0);function W(a){return typeof a=="function"?a:(a[O]||(a[O]=function(u){return a.handleEvent(u)}),a[O])}function $(){S.call(this),this.i=new Ft(this),this.M=this,this.G=null}p($,S),$.prototype[Ue]=!0,$.prototype.removeEventListener=function(a,u,d,g){E(this,a,u,d,g)};function j(a,u){var d,g=a.G;if(g)for(d=[];g;g=g.G)d.push(g);if(a=a.M,g=u.type||u,typeof u=="string")u=new A(u,a);else if(u instanceof A)u.target=u.target||a;else{var C=u;u=new A(g,a),gn(u,C)}C=!0;let N,G;if(d)for(G=d.length-1;G>=0;G--)N=u.g=d[G],C=U(N,g,!0,u)&&C;if(N=u.g=a,C=U(N,g,!0,u)&&C,C=U(N,g,!1,u)&&C,d)for(G=0;G<d.length;G++)N=u.g=d[G],C=U(N,g,!1,u)&&C}$.prototype.N=function(){if($.Z.N.call(this),this.i){var a=this.i;for(const u in a.g){const d=a.g[u];for(let g=0;g<d.length;g++)ye(d[g]);delete a.g[u],a.h--}}this.G=null},$.prototype.J=function(a,u,d,g){return this.i.add(String(a),u,!1,d,g)},$.prototype.K=function(a,u,d,g){return this.i.add(String(a),u,!0,d,g)};function U(a,u,d,g){if(u=a.i.g[String(u)],!u)return!0;u=u.concat();let C=!0;for(let N=0;N<u.length;++N){const G=u[N];if(G&&!G.da&&G.capture==d){const fe=G.listener,Ge=G.ha||G.src;G.fa&&Ut(a.i,G),C=fe.call(Ge,g)!==!1&&C}}return C&&!g.defaultPrevented}function ne(a,u){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=h(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(u)>2147483647?-1:o.setTimeout(a,u||0)}function Q(a){a.g=ne(()=>{a.g=null,a.i&&(a.i=!1,Q(a))},a.l);const u=a.h;a.h=null,a.m.apply(null,u)}class ee extends S{constructor(u,d){super(),this.m=u,this.l=d,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Q(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function re(a){S.call(this),this.h=a,this.g={}}p(re,S);var de=[];function be(a){vt(a.g,function(u,d){this.g.hasOwnProperty(d)&&I(u)},a),a.g={}}re.prototype.N=function(){re.Z.N.call(this),be(this)},re.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Te=o.JSON.stringify,it=o.JSON.parse,ot=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function St(){}function bt(){}var Bt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wr(){A.call(this,"d")}p(Wr,A);function et(){A.call(this,"c")}p(et,A);var Qe={},ks=null;function gr(){return ks=ks||new $}Qe.Ia="serverreachability";function Ou(a){A.call(this,Qe.Ia,a)}p(Ou,A);function xs(a){const u=gr();j(u,new Ou(u))}Qe.STAT_EVENT="statevent";function ku(a,u){A.call(this,Qe.STAT_EVENT,a),this.stat=u}p(ku,A);function pt(a){const u=gr();j(u,new ku(u,a))}Qe.Ja="timingevent";function xu(a,u){A.call(this,Qe.Ja,a),this.size=u}p(xu,A);function Ms(a,u){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},u)}function Ls(){this.g=!0}Ls.prototype.ua=function(){this.g=!1};function ty(a,u,d,g,C,N){a.info(function(){if(a.g)if(N){var G="",fe=N.split("&");for(let Pe=0;Pe<fe.length;Pe++){var Ge=fe[Pe].split("=");if(Ge.length>1){const Je=Ge[0];Ge=Ge[1];const en=Je.split("_");G=en.length>=2&&en[1]=="type"?G+(Je+"="+Ge+"&"):G+(Je+"=redacted&")}}}else G=null;else G=N;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+u+`
`+d+`
`+G})}function ny(a,u,d,g,C,N,G){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+u+`
`+d+`
`+N+" "+G})}function Kr(a,u,d,g){a.info(function(){return"XMLHTTP TEXT ("+u+"): "+sy(a,d)+(g?" "+g:"")})}function ry(a,u){a.info(function(){return"TIMEOUT: "+u})}Ls.prototype.info=function(){};function sy(a,u){if(!a.g)return u;if(!u)return null;try{const N=JSON.parse(u);if(N){for(a=0;a<N.length;a++)if(Array.isArray(N[a])){var d=N[a];if(!(d.length<2)){var g=d[1];if(Array.isArray(g)&&!(g.length<1)){var C=g[0];if(C!="noop"&&C!="stop"&&C!="close")for(let G=1;G<g.length;G++)g[G]=""}}}}return Te(N)}catch{return u}}var Ki={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lu;function Ba(){}p(Ba,St),Ba.prototype.g=function(){return new XMLHttpRequest},Lu=new Ba;function Fs(a){return encodeURIComponent(String(a))}function iy(a){var u=1;a=a.split(":");const d=[];for(;u>0&&a.length;)d.push(a.shift()),u--;return a.length&&d.push(a.join(":")),d}function Ln(a,u,d,g){this.j=a,this.i=u,this.l=d,this.S=g||1,this.V=new re(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fu}function Fu(){this.i=null,this.g="",this.h=!1}var Uu={},ja={};function qa(a,u,d){a.M=1,a.A=Ji(Zt(u)),a.u=d,a.R=!0,Bu(a,null)}function Bu(a,u){a.F=Date.now(),Qi(a),a.B=Zt(a.A);var d=a.B,g=a.S;Array.isArray(g)||(g=[String(g)]),Zu(d.i,"t",g),a.C=0,d=a.j.L,a.h=new Fu,a.g=_h(a.j,d?u:null,!a.u),a.P>0&&(a.O=new ee(h(a.Y,a,a.g),a.P)),u=a.V,d=a.g,g=a.ba;var C="readystatechange";Array.isArray(C)||(C&&(de[0]=C.toString()),C=de);for(let N=0;N<C.length;N++){const G=K(d,C[N],g||u.handleEvent,!1,u.h||u);if(!G)break;u.g[G.key]=G}u=a.J?Rt(a.J):{},a.u?(a.v||(a.v="POST"),u["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,u)):(a.v="GET",a.g.ea(a.B,a.v,null,u)),xs(),ty(a.i,a.v,a.B,a.l,a.S,a.u)}Ln.prototype.ba=function(a){a=a.target;const u=this.O;u&&Bn(a)==3?u.j():this.Y(a)},Ln.prototype.Y=function(a){try{if(a==this.g)e:{const fe=Bn(this.g),Ge=this.g.ya(),Pe=this.g.ca();if(!(fe<3)&&(fe!=3||this.g&&(this.h.h||this.g.la()||oh(this.g)))){this.K||fe!=4||Ge==7||(Ge==8||Pe<=0?xs(3):xs(2)),$a(this);var u=this.g.ca();this.X=u;var d=oy(this);if(this.o=u==200,ny(this.i,this.v,this.B,this.l,this.S,fe,u),this.o){if(this.U&&!this.L){t:{if(this.g){var g,C=this.g;if((g=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(g)){var N=g;break t}}N=null}if(a=N)Kr(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ha(this,a);else{this.o=!1,this.m=3,pt(12),_r(this),Us(this);break e}}if(this.R){a=!0;let Je;for(;!this.K&&this.C<d.length;)if(Je=ay(this,d),Je==ja){fe==4&&(this.m=4,pt(14),a=!1),Kr(this.i,this.l,null,"[Incomplete Response]");break}else if(Je==Uu){this.m=4,pt(15),Kr(this.i,this.l,d,"[Invalid Chunk]"),a=!1;break}else Kr(this.i,this.l,Je,null),Ha(this,Je);if(ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fe!=4||d.length!=0||this.h.h||(this.m=1,pt(16),a=!1),this.o=this.o&&a,!a)Kr(this.i,this.l,d,"[Invalid Chunked Response]"),_r(this),Us(this);else if(d.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+d.length),Ya(G),G.P=!0,pt(11))}}else Kr(this.i,this.l,d,null),Ha(this,d);fe==4&&_r(this),this.o&&!this.K&&(fe==4?dh(this.j,this):(this.o=!1,Qi(this)))}else Ty(this.g),u==400&&d.indexOf("Unknown SID")>0?(this.m=3,pt(12)):(this.m=0,pt(13)),_r(this),Us(this)}}}catch{}};function oy(a){if(!ju(a))return a.g.la();const u=oh(a.g);if(u==="")return"";let d="";const g=u.length,C=Bn(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return _r(a),Us(a),"";a.h.i=new o.TextDecoder}for(let N=0;N<g;N++)a.h.h=!0,d+=a.h.i.decode(u[N],{stream:!(C&&N==g-1)});return u.length=0,a.h.g+=d,a.C=0,a.h.g}function ju(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function ay(a,u){var d=a.C,g=u.indexOf(`
`,d);return g==-1?ja:(d=Number(u.substring(d,g)),isNaN(d)?Uu:(g+=1,g+d>u.length?ja:(u=u.slice(g,g+d),a.C=g+d,u)))}Ln.prototype.cancel=function(){this.K=!0,_r(this)};function Qi(a){a.T=Date.now()+a.H,qu(a,a.H)}function qu(a,u){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Ms(h(a.aa,a),u)}function $a(a){a.D&&(o.clearTimeout(a.D),a.D=null)}Ln.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(ry(this.i,this.B),this.M!=2&&(xs(),pt(17)),_r(this),this.m=2,Us(this)):qu(this,this.T-a)};function Us(a){a.j.I==0||a.K||dh(a.j,a)}function _r(a){$a(a);var u=a.O;u&&typeof u.dispose=="function"&&u.dispose(),a.O=null,be(a.V),a.g&&(u=a.g,a.g=null,u.abort(),u.dispose())}function Ha(a,u){try{var d=a.j;if(d.I!=0&&(d.g==a||Ga(d.h,a))){if(!a.L&&Ga(d.h,a)&&d.I==3){try{var g=d.Ba.g.parse(u)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!d.v){if(d.g)if(d.g.F+3e3<a.F)to(d),Zi(d);else break e;Xa(d),pt(18)}}else d.xa=C[1],0<d.xa-d.K&&C[2]<37500&&d.F&&d.A==0&&!d.C&&(d.C=Ms(h(d.Va,d),6e3));Gu(d.h)<=1&&d.ta&&(d.ta=void 0)}else Er(d,11)}else if((a.L||d.g==a)&&to(d),!y(u))for(C=d.Ba.g.parse(u),u=0;u<C.length;u++){let Pe=C[u];const Je=Pe[0];if(!(Je<=d.K))if(d.K=Je,Pe=Pe[1],d.I==2)if(Pe[0]=="c"){d.M=Pe[1],d.ba=Pe[2];const en=Pe[3];en!=null&&(d.ka=en,d.j.info("VER="+d.ka));const vr=Pe[4];vr!=null&&(d.za=vr,d.j.info("SVER="+d.za));const jn=Pe[5];jn!=null&&typeof jn=="number"&&jn>0&&(g=1.5*jn,d.O=g,d.j.info("backChannelRequestTimeoutMs_="+g)),g=d;const qn=a.g;if(qn){const ro=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ro){var N=g.h;N.g||ro.indexOf("spdy")==-1&&ro.indexOf("quic")==-1&&ro.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(za(N,N.h),N.h=null))}if(g.G){const Za=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Za&&(g.wa=Za,Oe(g.J,g.G,Za))}}d.I=3,d.l&&d.l.ra(),d.aa&&(d.T=Date.now()-a.F,d.j.info("Handshake RTT: "+d.T+"ms")),g=d;var G=a;if(g.na=gh(g,g.L?g.ba:null,g.W),G.L){zu(g.h,G);var fe=G,Ge=g.O;Ge&&(fe.H=Ge),fe.D&&($a(fe),Qi(fe)),g.g=G}else hh(g);d.i.length>0&&eo(d)}else Pe[0]!="stop"&&Pe[0]!="close"||Er(d,7);else d.I==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Er(d,7):Ja(d):Pe[0]!="noop"&&d.l&&d.l.qa(Pe),d.A=0)}}xs(4)}catch{}}var cy=class{constructor(a,u){this.g=a,this.map=u}};function $u(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hu(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Gu(a){return a.h?1:a.g?a.g.size:0}function Ga(a,u){return a.h?a.h==u:a.g?a.g.has(u):!1}function za(a,u){a.g?a.g.add(u):a.h=u}function zu(a,u){a.h&&a.h==u?a.h=null:a.g&&a.g.has(u)&&a.g.delete(u)}$u.prototype.cancel=function(){if(this.i=Wu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Wu(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let u=a.i;for(const d of a.g.values())u=u.concat(d.G);return u}return v(a.i)}var Ku=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ly(a,u){if(a){a=a.split("&");for(let d=0;d<a.length;d++){const g=a[d].indexOf("=");let C,N=null;g>=0?(C=a[d].substring(0,g),N=a[d].substring(g+1)):C=a[d],u(C,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Fn(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let u;a instanceof Fn?(this.l=a.l,Bs(this,a.j),this.o=a.o,this.g=a.g,js(this,a.u),this.h=a.h,Wa(this,eh(a.i)),this.m=a.m):a&&(u=String(a).match(Ku))?(this.l=!1,Bs(this,u[1]||"",!0),this.o=qs(u[2]||""),this.g=qs(u[3]||"",!0),js(this,u[4]),this.h=qs(u[5]||"",!0),Wa(this,u[6]||"",!0),this.m=qs(u[7]||"")):(this.l=!1,this.i=new Hs(null,this.l))}Fn.prototype.toString=function(){const a=[];var u=this.j;u&&a.push($s(u,Qu,!0),":");var d=this.g;return(d||u=="file")&&(a.push("//"),(u=this.o)&&a.push($s(u,Qu,!0),"@"),a.push(Fs(d).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.u,d!=null&&a.push(":",String(d))),(d=this.h)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push($s(d,d.charAt(0)=="/"?fy:hy,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",$s(d,py)),a.join("")},Fn.prototype.resolve=function(a){const u=Zt(this);let d=!!a.j;d?Bs(u,a.j):d=!!a.o,d?u.o=a.o:d=!!a.g,d?u.g=a.g:d=a.u!=null;var g=a.h;if(d)js(u,a.u);else if(d=!!a.h){if(g.charAt(0)!="/")if(this.g&&!this.h)g="/"+g;else{var C=u.h.lastIndexOf("/");C!=-1&&(g=u.h.slice(0,C+1)+g)}if(C=g,C==".."||C==".")g="";else if(C.indexOf("./")!=-1||C.indexOf("/.")!=-1){g=C.lastIndexOf("/",0)==0,C=C.split("/");const N=[];for(let G=0;G<C.length;){const fe=C[G++];fe=="."?g&&G==C.length&&N.push(""):fe==".."?((N.length>1||N.length==1&&N[0]!="")&&N.pop(),g&&G==C.length&&N.push("")):(N.push(fe),g=!0)}g=N.join("/")}else g=C}return d?u.h=g:d=a.i.toString()!=="",d?Wa(u,eh(a.i)):d=!!a.m,d&&(u.m=a.m),u};function Zt(a){return new Fn(a)}function Bs(a,u,d){a.j=d?qs(u,!0):u,a.j&&(a.j=a.j.replace(/:$/,""))}function js(a,u){if(u){if(u=Number(u),isNaN(u)||u<0)throw Error("Bad port number "+u);a.u=u}else a.u=null}function Wa(a,u,d){u instanceof Hs?(a.i=u,my(a.i,a.l)):(d||(u=$s(u,dy)),a.i=new Hs(u,a.l))}function Oe(a,u,d){a.i.set(u,d)}function Ji(a){return Oe(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function qs(a,u){return a?u?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function $s(a,u,d){return typeof a=="string"?(a=encodeURI(a).replace(u,uy),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function uy(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Qu=/[#\/\?@]/g,hy=/[#\?:]/g,fy=/[#\?]/g,dy=/[#\?@]/g,py=/#/g;function Hs(a,u){this.h=this.g=null,this.i=a||null,this.j=!!u}function yr(a){a.g||(a.g=new Map,a.h=0,a.i&&ly(a.i,function(u,d){a.add(decodeURIComponent(u.replace(/\+/g," ")),d)}))}t=Hs.prototype,t.add=function(a,u){yr(this),this.i=null,a=Qr(this,a);let d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(u),this.h+=1,this};function Ju(a,u){yr(a),u=Qr(a,u),a.g.has(u)&&(a.i=null,a.h-=a.g.get(u).length,a.g.delete(u))}function Xu(a,u){return yr(a),u=Qr(a,u),a.g.has(u)}t.forEach=function(a,u){yr(this),this.g.forEach(function(d,g){d.forEach(function(C){a.call(u,C,g,this)},this)},this)};function Yu(a,u){yr(a);let d=[];if(typeof u=="string")Xu(a,u)&&(d=d.concat(a.g.get(Qr(a,u))));else for(a=Array.from(a.g.values()),u=0;u<a.length;u++)d=d.concat(a[u]);return d}t.set=function(a,u){return yr(this),this.i=null,a=Qr(this,a),Xu(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[u]),this.h+=1,this},t.get=function(a,u){return a?(a=Yu(this,a),a.length>0?String(a[0]):u):u};function Zu(a,u,d){Ju(a,u),d.length>0&&(a.i=null,a.g.set(Qr(a,u),v(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],u=Array.from(this.g.keys());for(let g=0;g<u.length;g++){var d=u[g];const C=Fs(d);d=Yu(this,d);for(let N=0;N<d.length;N++){let G=C;d[N]!==""&&(G+="="+Fs(d[N])),a.push(G)}}return this.i=a.join("&")};function eh(a){const u=new Hs;return u.i=a.i,a.g&&(u.g=new Map(a.g),u.h=a.h),u}function Qr(a,u){return u=String(u),a.j&&(u=u.toLowerCase()),u}function my(a,u){u&&!a.j&&(yr(a),a.i=null,a.g.forEach(function(d,g){const C=g.toLowerCase();g!=C&&(Ju(this,g),Zu(this,C,d))},a)),a.j=u}function gy(a,u){const d=new Ls;if(o.Image){const g=new Image;g.onload=f(Un,d,"TestLoadImage: loaded",!0,u,g),g.onerror=f(Un,d,"TestLoadImage: error",!1,u,g),g.onabort=f(Un,d,"TestLoadImage: abort",!1,u,g),g.ontimeout=f(Un,d,"TestLoadImage: timeout",!1,u,g),o.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else u(!1)}function _y(a,u){const d=new Ls,g=new AbortController,C=setTimeout(()=>{g.abort(),Un(d,"TestPingServer: timeout",!1,u)},1e4);fetch(a,{signal:g.signal}).then(N=>{clearTimeout(C),N.ok?Un(d,"TestPingServer: ok",!0,u):Un(d,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(C),Un(d,"TestPingServer: error",!1,u)})}function Un(a,u,d,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(d)}catch{}}function yy(){this.g=new ot}function Ka(a){this.i=a.Sb||null,this.h=a.ab||!1}p(Ka,St),Ka.prototype.g=function(){return new Xi(this.i,this.h)};function Xi(a,u){$.call(this),this.H=a,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Xi,$),t=Xi.prototype,t.open=function(a,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=u,this.readyState=1,zs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const u={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(u.body=a),(this.H||o).fetch(new Request(this.D,u)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gs(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,zs(this)),this.g&&(this.readyState=3,zs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;th(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function th(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var u=a.value?a.value:new Uint8Array(0);(u=this.B.decode(u,{stream:!a.done}))&&(this.response=this.responseText+=u)}a.done?Gs(this):zs(this),this.readyState==3&&th(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,Gs(this))},t.Na=function(a){this.g&&(this.response=a,Gs(this))},t.ga=function(){this.g&&Gs(this)};function Gs(a){a.readyState=4,a.l=null,a.j=null,a.B=null,zs(a)}t.setRequestHeader=function(a,u){this.A.append(a,u)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],u=this.h.entries();for(var d=u.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=u.next();return a.join(`\r
`)};function zs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function nh(a){let u="";return vt(a,function(d,g){u+=g,u+=":",u+=d,u+=`\r
`}),u}function Qa(a,u,d){e:{for(g in d){var g=!1;break e}g=!0}g||(d=nh(d),typeof a=="string"?d!=null&&Fs(d):Oe(a,u,d))}function Le(a){$.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Le,$);var Ey=/^https?$/i,vy=["POST","PUT"];t=Le.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,u,d,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);u=u?u.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lu.g(),this.g.onreadystatechange=m(h(this.Ca,this));try{this.B=!0,this.g.open(u,String(a),!0),this.B=!1}catch(N){rh(this,N);return}if(a=d||"",d=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)d.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const N of g.keys())d.set(N,g.get(N));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(d.keys()).find(N=>N.toLowerCase()=="content-type"),C=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(vy,u,void 0)>=0)||g||C||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[N,G]of d)this.g.setRequestHeader(N,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(N){rh(this,N)}};function rh(a,u){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=u,a.o=5,sh(a),Yi(a)}function sh(a){a.A||(a.A=!0,j(a,"complete"),j(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,j(this,"complete"),j(this,"abort"),Yi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),Le.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ih(this):this.Xa())},t.Xa=function(){ih(this)};function ih(a){if(a.h&&typeof i<"u"){if(a.v&&Bn(a)==4)setTimeout(a.Ca.bind(a),0);else if(j(a,"readystatechange"),Bn(a)==4){a.h=!1;try{const N=a.ca();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var d;if(!(d=u)){var g;if(g=N===0){let G=String(a.D).match(Ku)[1]||null;!G&&o.self&&o.self.location&&(G=o.self.location.protocol.slice(0,-1)),g=!Ey.test(G?G.toLowerCase():"")}d=g}if(d)j(a,"complete"),j(a,"success");else{a.o=6;try{var C=Bn(a)>2?a.g.statusText:""}catch{C=""}a.l=C+" ["+a.ca()+"]",sh(a)}}finally{Yi(a)}}}}function Yi(a,u){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const d=a.g;a.g=null,u||j(a,"ready");try{d.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Bn(a){return a.g?a.g.readyState:0}t.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var u=this.g.responseText;return a&&u.indexOf(a)==0&&(u=u.substring(a.length)),it(u)}};function oh(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Ty(a){const u={};a=(a.g&&Bn(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(y(a[g]))continue;var d=iy(a[g]);const C=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const N=u[C]||[];u[C]=N,N.push(d)}Yt(u,function(g){return g.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ws(a,u,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||u}function ah(a){this.za=0,this.i=[],this.j=new Ls,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ws("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ws("baseRetryDelayMs",5e3,a),this.Za=Ws("retryDelaySeedMs",1e4,a),this.Ta=Ws("forwardChannelMaxRetries",2,a),this.va=Ws("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new $u(a&&a.concurrentRequestLimit),this.Ba=new yy,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ah.prototype,t.ka=8,t.I=1,t.connect=function(a,u,d,g){pt(0),this.W=a,this.H=u||{},d&&g!==void 0&&(this.H.OSID=d,this.H.OAID=g),this.F=this.X,this.J=gh(this,null,this.W),eo(this)};function Ja(a){if(ch(a),a.I==3){var u=a.V++,d=Zt(a.J);if(Oe(d,"SID",a.M),Oe(d,"RID",u),Oe(d,"TYPE","terminate"),Ks(a,d),u=new Ln(a,a.j,u),u.M=2,u.A=Ji(Zt(d)),d=!1,o.navigator&&o.navigator.sendBeacon)try{d=o.navigator.sendBeacon(u.A.toString(),"")}catch{}!d&&o.Image&&(new Image().src=u.A,d=!0),d||(u.g=_h(u.j,null),u.g.ea(u.A)),u.F=Date.now(),Qi(u)}mh(a)}function Zi(a){a.g&&(Ya(a),a.g.cancel(),a.g=null)}function ch(a){Zi(a),a.v&&(o.clearTimeout(a.v),a.v=null),to(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function eo(a){if(!Hu(a.h)&&!a.m){a.m=!0;var u=a.Ea;se||T(),ce||(se(),ce=!0),R.add(u,a),a.D=0}}function Iy(a,u){return Gu(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=u.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Ms(h(a.Ea,a,u),ph(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const C=new Ln(this,this.j,a);let N=this.o;if(this.U&&(N?(N=Rt(N),gn(N,this.U)):N=this.U),this.u!==null||this.R||(C.J=N,N=null),this.S)e:{for(var u=0,d=0;d<this.i.length;d++){t:{var g=this.i[d];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(u+=g,u>4096){u=d;break e}if(u===4096||d===this.i.length-1){u=d+1;break e}}u=1e3}else u=1e3;u=uh(this,C,u),d=Zt(this.J),Oe(d,"RID",a),Oe(d,"CVER",22),this.G&&Oe(d,"X-HTTP-Session-Id",this.G),Ks(this,d),N&&(this.R?u="headers="+Fs(nh(N))+"&"+u:this.u&&Qa(d,this.u,N)),za(this.h,C),this.Ra&&Oe(d,"TYPE","init"),this.S?(Oe(d,"$req",u),Oe(d,"SID","null"),C.U=!0,qa(C,d,null)):qa(C,d,u),this.I=2}}else this.I==3&&(a?lh(this,a):this.i.length==0||Hu(this.h)||lh(this))};function lh(a,u){var d;u?d=u.l:d=a.V++;const g=Zt(a.J);Oe(g,"SID",a.M),Oe(g,"RID",d),Oe(g,"AID",a.K),Ks(a,g),a.u&&a.o&&Qa(g,a.u,a.o),d=new Ln(a,a.j,d,a.D+1),a.u===null&&(d.J=a.o),u&&(a.i=u.G.concat(a.i)),u=uh(a,d,1e3),d.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),za(a.h,d),qa(d,g,u)}function Ks(a,u){a.H&&vt(a.H,function(d,g){Oe(u,g,d)}),a.l&&vt({},function(d,g){Oe(u,g,d)})}function uh(a,u,d){d=Math.min(a.i.length,d);const g=a.l?h(a.l.Ka,a.l,a):null;e:{var C=a.i;let fe=-1;for(;;){const Ge=["count="+d];fe==-1?d>0?(fe=C[0].g,Ge.push("ofs="+fe)):fe=0:Ge.push("ofs="+fe);let Pe=!0;for(let Je=0;Je<d;Je++){var N=C[Je].g;const en=C[Je].map;if(N-=fe,N<0)fe=Math.max(0,C[Je].g-100),Pe=!1;else try{N="req"+N+"_"||"";try{var G=en instanceof Map?en:Object.entries(en);for(const[vr,jn]of G){let qn=jn;c(jn)&&(qn=Te(jn)),Ge.push(N+vr+"="+encodeURIComponent(qn))}}catch(vr){throw Ge.push(N+"type="+encodeURIComponent("_badmap")),vr}}catch{g&&g(en)}}if(Pe){G=Ge.join("&");break e}}G=void 0}return a=a.i.splice(0,d),u.G=a,G}function hh(a){if(!a.g&&!a.v){a.Y=1;var u=a.Da;se||T(),ce||(se(),ce=!0),R.add(u,a),a.A=0}}function Xa(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Ms(h(a.Da,a),ph(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,fh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Ms(h(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pt(10),Zi(this),fh(this))};function Ya(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function fh(a){a.g=new Ln(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var u=Zt(a.na);Oe(u,"RID","rpc"),Oe(u,"SID",a.M),Oe(u,"AID",a.K),Oe(u,"CI",a.F?"0":"1"),!a.F&&a.ia&&Oe(u,"TO",a.ia),Oe(u,"TYPE","xmlhttp"),Ks(a,u),a.u&&a.o&&Qa(u,a.u,a.o),a.O&&(a.g.H=a.O);var d=a.g;a=a.ba,d.M=1,d.A=Ji(Zt(u)),d.u=null,d.R=!0,Bu(d,a)}t.Va=function(){this.C!=null&&(this.C=null,Zi(this),Xa(this),pt(19))};function to(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function dh(a,u){var d=null;if(a.g==u){to(a),Ya(a),a.g=null;var g=2}else if(Ga(a.h,u))d=u.G,zu(a.h,u),g=1;else return;if(a.I!=0){if(u.o)if(g==1){d=u.u?u.u.length:0,u=Date.now()-u.F;var C=a.D;g=gr(),j(g,new xu(g,d)),eo(a)}else hh(a);else if(C=u.m,C==3||C==0&&u.X>0||!(g==1&&Iy(a,u)||g==2&&Xa(a)))switch(d&&d.length>0&&(u=a.h,u.i=u.i.concat(d)),C){case 1:Er(a,5);break;case 4:Er(a,10);break;case 3:Er(a,6);break;default:Er(a,2)}}}function ph(a,u){let d=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(d*=2),d*u}function Er(a,u){if(a.j.info("Error code "+u),u==2){var d=h(a.bb,a),g=a.Ua;const C=!g;g=new Fn(g||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Bs(g,"https"),Ji(g),C?gy(g.toString(),d):_y(g.toString(),d)}else pt(2);a.I=0,a.l&&a.l.pa(u),mh(a),ch(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function mh(a){if(a.I=0,a.ja=[],a.l){const u=Wu(a.h);(u.length!=0||a.i.length!=0)&&(P(a.ja,u),P(a.ja,a.i),a.h.i.length=0,v(a.i),a.i.length=0),a.l.oa()}}function gh(a,u,d){var g=d instanceof Fn?Zt(d):new Fn(d);if(g.g!="")u&&(g.g=u+"."+g.g),js(g,g.u);else{var C=o.location;g=C.protocol,u=u?u+"."+C.hostname:C.hostname,C=+C.port;const N=new Fn(null);g&&Bs(N,g),u&&(N.g=u),C&&js(N,C),d&&(N.h=d),g=N}return d=a.G,u=a.wa,d&&u&&Oe(g,d,u),Oe(g,"VER",a.ka),Ks(a,g),g}function _h(a,u,d){if(u&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return u=a.Aa&&!a.ma?new Le(new Ka({ab:d})):new Le(a.ma),u.Fa(a.L),u}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yh(){}t=yh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function no(){}no.prototype.g=function(a,u){return new Ct(a,u)};function Ct(a,u){$.call(this),this.g=new ah(u),this.l=a,this.h=u&&u.messageUrlParams||null,a=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(a?a["X-WebChannel-Content-Type"]=u.messageContentType:a={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.sa&&(a?a["X-WebChannel-Client-Profile"]=u.sa:a={"X-WebChannel-Client-Profile":u.sa}),this.g.U=a,(a=u&&u.Qb)&&!y(a)&&(this.g.u=a),this.A=u&&u.supportsCrossDomainXhr||!1,this.v=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!y(u)&&(this.g.G=u,a=this.h,a!==null&&u in a&&(a=this.h,u in a&&delete a[u])),this.j=new Jr(this)}p(Ct,$),Ct.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ct.prototype.close=function(){Ja(this.g)},Ct.prototype.o=function(a){var u=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.v&&(d={},d.__data__=Te(a),a=d);u.i.push(new cy(u.Ya++,a)),u.I==3&&eo(u)},Ct.prototype.N=function(){this.g.l=null,delete this.j,Ja(this.g),delete this.g,Ct.Z.N.call(this)};function Eh(a){Wr.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var u=a.__sm__;if(u){e:{for(const d in u){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,u=u!==null&&a in u?u[a]:void 0),this.data=u}else this.data=a}p(Eh,Wr);function vh(){et.call(this),this.status=1}p(vh,et);function Jr(a){this.g=a}p(Jr,yh),Jr.prototype.ra=function(){j(this.g,"a")},Jr.prototype.qa=function(a){j(this.g,new Eh(a))},Jr.prototype.pa=function(a){j(this.g,new vh)},Jr.prototype.oa=function(){j(this.g,"b")},no.prototype.createWebChannel=no.prototype.g,Ct.prototype.send=Ct.prototype.o,Ct.prototype.open=Ct.prototype.m,Ct.prototype.close=Ct.prototype.close,zm=function(){return new no},Gm=function(){return gr()},Hm=Qe,Qc={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,To=Ki,Mu.COMPLETE="complete",$m=Mu,bt.EventType=Bt,Bt.OPEN="a",Bt.CLOSE="b",Bt.ERROR="c",Bt.MESSAGE="d",$.prototype.listen=$.prototype.J,ei=bt,Le.prototype.listenOnce=Le.prototype.K,Le.prototype.getLastError=Le.prototype.Ha,Le.prototype.getLastErrorCode=Le.prototype.ya,Le.prototype.getStatus=Le.prototype.ca,Le.prototype.getResponseJson=Le.prototype.La,Le.prototype.getResponseText=Le.prototype.la,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Fa,qm=Le}).apply(typeof co<"u"?co:typeof self<"u"?self:typeof window<"u"?window:{});const xf="@firebase/firestore",Mf="4.9.3";class ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ct.UNAUTHENTICATED=new ct(null),ct.GOOGLE_CREDENTIALS=new ct("google-credentials-uid"),ct.FIRST_PARTY=new ct("first-party-uid"),ct.MOCK_USER=new ct("mock-user");let bs="12.7.0";const Ur=new Fl("@firebase/firestore");function es(){return Ur.logLevel}function Y(t,...e){if(Ur.logLevel<=me.DEBUG){const n=e.map(jl);Ur.debug(`Firestore (${bs}): ${t}`,...n)}}function Vn(t,...e){if(Ur.logLevel<=me.ERROR){const n=e.map(jl);Ur.error(`Firestore (${bs}): ${t}`,...n)}}function _s(t,...e){if(Ur.logLevel<=me.WARN){const n=e.map(jl);Ur.warn(`Firestore (${bs}): ${t}`,...n)}}function jl(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Wm(t,r,n)}function Wm(t,e,n){let r=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Vn(r),new Error(r)}function Se(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Wm(e,s,r)}function he(t,e){return t}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends xn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ir{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Km{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ct.UNAUTHENTICATED)))}shutdown(){}}class Yw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Zw{constructor(e){this.t=e,this.currentUser=ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Se(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ir,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const l=i;e.enqueueRetryable((async()=>{await l.promise,await s(this.currentUser)}))},c=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>c(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ir)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string",31837,{l:r}),new Km(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string",2055,{h:e}),new ct(e)}}class eA{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ct.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tA{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new eA(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ct.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Lf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ot(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Se(this.o===void 0,3512);const r=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Lf(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Se(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Lf(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class ql{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=rA(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function Jc(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return vc(s)===vc(i)?ge(s,i):vc(s)?1:-1}return ge(t.length,e.length)}const sA=55296,iA=57343;function vc(t){const e=t.charCodeAt(0);return e>=sA&&e<=iA}function ys(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}const Ff="__name__";class rn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rn?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=rn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ge(e.length,n.length)}static compareSegments(e,n){const r=rn.isNumericId(e),s=rn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?rn.extractNumericId(e).compare(rn.extractNumericId(n)):Jc(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sr.fromString(e.substring(4,e.length-2))}}class De extends rn{construct(e,n,r){return new De(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new De(n)}static emptyPath(){return new De([])}}const oA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nt extends rn{construct(e,n,r){return new nt(e,n,r)}static isValidIdentifier(e){return oA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ff}static keyField(){return new nt([Ff])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new J(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(r+=c,s++):(i(),s++)}if(i(),o)throw new J(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nt(n)}static emptyPath(){return new nt([])}}class te{constructor(e){this.path=e}static fromPath(e){return new te(De.fromString(e))}static fromName(e){return new te(De.fromString(e).popFirst(5))}static empty(){return new te(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new De(e.slice()))}}function Qm(t,e,n){if(!n)throw new J(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aA(t,e,n,r){if(e===!0&&r===!0)throw new J(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Uf(t){if(!te.isDocumentKey(t))throw new J(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Bf(t){if(te.isDocumentKey(t))throw new J(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jm(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ia(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie(12329,{type:typeof t})}function or(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ia(t);throw new J(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function He(t,e){const n={typeString:t};return e&&(n.value=e),n}function Bi(t,e){if(!Jm(t))throw new J(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new J(M.INVALID_ARGUMENT,n);return!0}const jf=-62135596800,qf=1e6;class ke{static now(){return ke.fromMillis(Date.now())}static fromDate(e){return ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*qf);return new ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jf)throw new J(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qf}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bi(e,ke._jsonSchema))return new ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jf;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ke._jsonSchemaVersion="firestore/timestamp/1.0",ke._jsonSchema={type:He("string",ke._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new ke(0,0))}static max(){return new le(new ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bi=-1;function cA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=le.fromTimestamp(r===1e9?new ke(n+1,0):new ke(n,r));return new ur(s,te.empty(),e)}function lA(t){return new ur(t.readTime,t.key,bi)}class ur{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ur(le.min(),te.empty(),bi)}static max(){return new ur(le.max(),te.empty(),bi)}}function uA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}const hA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Cs(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==hA)throw t;Y("LocalStore","Unexpectedly lost primary lease")}class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):L.reject(n)}static resolve(e){return new L(((n,r)=>{n(e)}))}static reject(e){return new L(((n,r)=>{r(e)}))}static waitFor(e){return new L(((n,r)=>{let s=0,i=0,o=!1;e.forEach((c=>{++s,c.next((()=>{++i,o&&i===s&&n()}),(l=>r(l)))})),o=!0,i===s&&n()}))}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next((s=>s?L.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new L(((r,s)=>{const i=e.length,o=new Array(i);let c=0;for(let l=0;l<i;l++){const h=l;n(e[h]).next((f=>{o[h]=f,++c,c===i&&r(o)}),(f=>s(f)))}}))}static doWhile(e,n){return new L(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function dA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ps(t){return t.name==="IndexedDbTransactionError"}class wa{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wa.ce=-1;const $l=-1;function Aa(t){return t==null}function $o(t){return t===0&&1/t==-1/0}function pA(t){return typeof t=="number"&&Number.isInteger(t)&&!$o(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Xm="";function mA(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$f(e)),e=gA(t.get(n),e);return $f(e)}function gA(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Xm:n+="";break;default:n+=i}}return n}function $f(t){return t+Xm+""}function Hf(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $r(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ym(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Me{constructor(e,n){this.comparator=e,this.root=n||tt.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tt.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lo(this.root,e,this.comparator,!1)}getReverseIterator(){return new lo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lo(this.root,e,this.comparator,!0)}}class lo{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??tt.RED,this.left=s??tt.EMPTY,this.right=i??tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new tt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return tt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}}tt.EMPTY=null,tt.RED=!0,tt.BLACK=!1;tt.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new tt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ke{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gf(this.data.getIterator())}getIteratorFrom(e){return new Gf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ke(this.comparator);return n.data=e,n}}class Gf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $t{constructor(e){this.fields=e,e.sort(nt.comparator)}static empty(){return new $t([])}unionWith(e){let n=new Ke(nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $t(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class Zm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Zm("Invalid base64 string: "+i):i}})(e);return new rt(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rt.EMPTY_BYTE_STRING=new rt("");const _A=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(t){if(Se(!!t,39018),typeof t=="string"){let e=0;const n=_A.exec(t);if(Se(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fr(t){return typeof t=="string"?rt.fromBase64String(t):rt.fromUint8Array(t)}const eg="server_timestamp",tg="__type__",ng="__previous_value__",rg="__local_write_time__";function Hl(t){return(t?.mapValue?.fields||{})[tg]?.stringValue===eg}function Ra(t){const e=t.mapValue.fields[ng];return Hl(e)?Ra(e):e}function Ci(t){const e=hr(t.mapValue.fields[rg].timestampValue);return new ke(e.seconds,e.nanos)}class yA{constructor(e,n,r,s,i,o,c,l,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=h,this.isUsingEmulator=f}}const Ho="(default)";class Pi{constructor(e,n){this.projectId=e,this.database=n||Ho}static empty(){return new Pi("","")}get isDefaultDatabase(){return this.database===Ho}isEqual(e){return e instanceof Pi&&e.projectId===this.projectId&&e.database===this.database}}const sg="__type__",EA="__max__",uo={mapValue:{}},ig="__vector__",Go="value";function dr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hl(t)?4:TA(t)?9007199254740991:vA(t)?10:11:ie(28295,{value:t})}function pn(t,e){if(t===e)return!0;const n=dr(t);if(n!==dr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ci(t).isEqual(Ci(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=hr(s.timestampValue),c=hr(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return fr(s.bytesValue).isEqual(fr(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return Be(s.geoPointValue.latitude)===Be(i.geoPointValue.latitude)&&Be(s.geoPointValue.longitude)===Be(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Be(s.integerValue)===Be(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Be(s.doubleValue),c=Be(i.doubleValue);return o===c?$o(o)===$o(c):isNaN(o)&&isNaN(c)}return!1})(t,e);case 9:return ys(t.arrayValue.values||[],e.arrayValue.values||[],pn);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},c=i.mapValue.fields||{};if(Hf(o)!==Hf(c))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!pn(o[l],c[l])))return!1;return!0})(t,e);default:return ie(52216,{left:t})}}function Ni(t,e){return(t.values||[]).find((n=>pn(n,e)))!==void 0}function Es(t,e){if(t===e)return 0;const n=dr(t),r=dr(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const c=Be(i.integerValue||i.doubleValue),l=Be(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1})(t,e);case 3:return zf(t.timestampValue,e.timestampValue);case 4:return zf(Ci(t),Ci(e));case 5:return Jc(t.stringValue,e.stringValue);case 6:return(function(i,o){const c=fr(i),l=fr(o);return c.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const c=i.split("/"),l=o.split("/");for(let h=0;h<c.length&&h<l.length;h++){const f=ge(c[h],l[h]);if(f!==0)return f}return ge(c.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const c=ge(Be(i.latitude),Be(o.latitude));return c!==0?c:ge(Be(i.longitude),Be(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Wf(t.arrayValue,e.arrayValue);case 10:return(function(i,o){const c=i.fields||{},l=o.fields||{},h=c[Go]?.arrayValue,f=l[Go]?.arrayValue,p=ge(h?.values?.length||0,f?.values?.length||0);return p!==0?p:Wf(h,f)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===uo.mapValue&&o===uo.mapValue)return 0;if(i===uo.mapValue)return 1;if(o===uo.mapValue)return-1;const c=i.fields||{},l=Object.keys(c),h=o.fields||{},f=Object.keys(h);l.sort(),f.sort();for(let p=0;p<l.length&&p<f.length;++p){const m=Jc(l[p],f[p]);if(m!==0)return m;const v=Es(c[l[p]],h[f[p]]);if(v!==0)return v}return ge(l.length,f.length)})(t.mapValue,e.mapValue);default:throw ie(23264,{he:n})}}function zf(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=hr(t),r=hr(e),s=ge(n.seconds,r.seconds);return s!==0?s:ge(n.nanos,r.nanos)}function Wf(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Es(n[s],r[s]);if(i)return i}return ge(n.length,r.length)}function vs(t){return Xc(t)}function Xc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=hr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return fr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return te.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Xc(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Xc(n.fields[o])}`;return s+"}"})(t.mapValue):ie(61005,{value:t})}function Io(t){switch(dr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ra(t);return e?16+Io(e):16;case 5:return 2*t.stringValue.length;case 6:return fr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+Io(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return $r(r.fields,((i,o)=>{s+=i.length+Io(o)})),s})(t.mapValue);default:throw ie(13486,{value:t})}}function Kf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Yc(t){return!!t&&"integerValue"in t}function Gl(t){return!!t&&"arrayValue"in t}function Qf(t){return!!t&&"nullValue"in t}function Jf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wo(t){return!!t&&"mapValue"in t}function vA(t){return(t?.mapValue?.fields||{})[sg]?.stringValue===ig}function di(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $r(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=di(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=di(t.arrayValue.values[n]);return e}return{...t}}function TA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===EA}class kt{constructor(e){this.value=e}static empty(){return new kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=di(n)}setAll(e){let n=nt.emptyPath(),r={},s=[];e.forEach(((o,c)=>{if(!n.isImmediateParentOf(c)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=c.popLast()}o?r[c.lastSegment()]=di(o):s.push(c.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());wo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];wo(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){$r(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new kt(di(this.value))}}function og(t){const e=[];return $r(t.fields,((n,r)=>{const s=new nt([n]);if(wo(r)){const i=og(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new $t(e)}class ut{constructor(e,n,r,s,i,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new ut(e,0,le.min(),le.min(),le.min(),kt.empty(),0)}static newFoundDocument(e,n,r,s){return new ut(e,1,n,le.min(),r,s,0)}static newNoDocument(e,n){return new ut(e,2,n,le.min(),le.min(),kt.empty(),0)}static newUnknownDocument(e,n){return new ut(e,3,n,le.min(),le.min(),kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zo{constructor(e,n){this.position=e,this.inclusive=n}}function Xf(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=Es(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Yf(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pn(t.position[n],e.position[n]))return!1;return!0}class Vi{constructor(e,n="asc"){this.field=e,this.dir=n}}function IA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class ag{}class $e extends ag{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new AA(e,n,r):n==="array-contains"?new bA(e,r):n==="in"?new CA(e,r):n==="not-in"?new PA(e,r):n==="array-contains-any"?new NA(e,r):new $e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new RA(e,r):new SA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Es(n,this.value)):n!==null&&dr(this.value)===dr(n)&&this.matchesComparison(Es(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xt extends ag{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xt(e,n)}matches(e){return cg(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cg(t){return t.op==="and"}function lg(t){return wA(t)&&cg(t)}function wA(t){for(const e of t.filters)if(e instanceof Xt)return!1;return!0}function Zc(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+vs(t.value);if(lg(t))return t.filters.map((e=>Zc(e))).join(",");{const e=t.filters.map((n=>Zc(n))).join(",");return`${t.op}(${e})`}}function ug(t,e){return t instanceof $e?(function(r,s){return s instanceof $e&&r.op===s.op&&r.field.isEqual(s.field)&&pn(r.value,s.value)})(t,e):t instanceof Xt?(function(r,s){return s instanceof Xt&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,c)=>i&&ug(o,s.filters[c])),!0):!1})(t,e):void ie(19439)}function hg(t){return t instanceof $e?(function(n){return`${n.field.canonicalString()} ${n.op} ${vs(n.value)}`})(t):t instanceof Xt?(function(n){return n.op.toString()+" {"+n.getFilters().map(hg).join(" ,")+"}"})(t):"Filter"}class AA extends $e{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class RA extends $e{constructor(e,n){super(e,"in",n),this.keys=fg("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class SA extends $e{constructor(e,n){super(e,"not-in",n),this.keys=fg("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function fg(t,e){return(e.arrayValue?.values||[]).map((n=>te.fromName(n.referenceValue)))}class bA extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gl(n)&&Ni(n.arrayValue,this.value)}}class CA extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ni(this.value.arrayValue,n)}}class PA extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ni(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ni(this.value.arrayValue,n)}}class NA extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ni(this.value.arrayValue,r)))}}class VA{constructor(e,n=null,r=[],s=[],i=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=c,this.Te=null}}function Zf(t,e=null,n=[],r=[],s=null,i=null,o=null){return new VA(t,e,n,r,s,i,o)}function zl(t){const e=he(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Zc(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Aa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>vs(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>vs(r))).join(",")),e.Te=n}return e.Te}function Wl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ug(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yf(t.startAt,e.startAt)&&Yf(t.endAt,e.endAt)}function el(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ns{constructor(e,n=null,r=[],s=[],i=null,o="F",c=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DA(t,e,n,r,s,i,o,c){return new Ns(t,e,n,r,s,i,o,c)}function Kl(t){return new Ns(t)}function ed(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dg(t){return t.collectionGroup!==null}function pi(t){const e=he(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Ke(nt.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Vi(i,r))})),n.has(nt.keyField().canonicalString())||e.Ie.push(new Vi(nt.keyField(),r))}return e.Ie}function an(t){const e=he(t);return e.Ee||(e.Ee=OA(e,pi(t))),e.Ee}function OA(t,e){if(t.limitType==="F")return Zf(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Vi(s.field,i)}));const n=t.endAt?new zo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zo(t.startAt.position,t.startAt.inclusive):null;return Zf(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tl(t,e){const n=t.filters.concat([e]);return new Ns(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wo(t,e,n){return new Ns(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sa(t,e){return Wl(an(t),an(e))&&t.limitType===e.limitType}function pg(t){return`${zl(an(t))}|lt:${t.limitType}`}function ts(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>hg(s))).join(", ")}]`),Aa(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>vs(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>vs(s))).join(",")),`Target(${r})`})(an(t))}; limitType=${t.limitType})`}function ba(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of pi(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(o,c,l){const h=Xf(o,c,l);return o.inclusive?h<=0:h<0})(r.startAt,pi(r),s)||r.endAt&&!(function(o,c,l){const h=Xf(o,c,l);return o.inclusive?h>=0:h>0})(r.endAt,pi(r),s))})(t,e)}function kA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mg(t){return(e,n)=>{let r=!1;for(const s of pi(t)){const i=xA(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function xA(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):(function(i,o,c){const l=o.data.field(i),h=c.data.field(i);return l!==null&&h!==null?Es(l,h):ie(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie(19790,{direction:t.dir})}}class Hr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){$r(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return Ym(this.inner)}size(){return this.innerSize}}const MA=new Me(te.comparator);function Dn(){return MA}const gg=new Me(te.comparator);function ti(...t){let e=gg;for(const n of t)e=e.insert(n.key,n);return e}function _g(t){let e=gg;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Nr(){return mi()}function yg(){return mi()}function mi(){return new Hr((t=>t.toString()),((t,e)=>t.isEqual(e)))}const LA=new Me(te.comparator),FA=new Ke(te.comparator);function _e(...t){let e=FA;for(const n of t)e=e.add(n);return e}const UA=new Ke(ge);function BA(){return UA}function Ql(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$o(e)?"-0":e}}function Eg(t){return{integerValue:""+t}}function jA(t,e){return pA(e)?Eg(e):Ql(t,e)}class Ca{constructor(){this._=void 0}}function qA(t,e,n){return t instanceof Ko?(function(s,i){const o={fields:{[tg]:{stringValue:eg},[rg]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Hl(i)&&(i=Ra(i)),i&&(o.fields[ng]=i),{mapValue:o}})(n,e):t instanceof Di?Tg(t,e):t instanceof Oi?Ig(t,e):(function(s,i){const o=vg(s,i),c=td(o)+td(s.Ae);return Yc(o)&&Yc(s.Ae)?Eg(c):Ql(s.serializer,c)})(t,e)}function $A(t,e,n){return t instanceof Di?Tg(t,e):t instanceof Oi?Ig(t,e):n}function vg(t,e){return t instanceof Qo?(function(r){return Yc(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class Ko extends Ca{}class Di extends Ca{constructor(e){super(),this.elements=e}}function Tg(t,e){const n=wg(e);for(const r of t.elements)n.some((s=>pn(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Oi extends Ca{constructor(e){super(),this.elements=e}}function Ig(t,e){let n=wg(e);for(const r of t.elements)n=n.filter((s=>!pn(s,r)));return{arrayValue:{values:n}}}class Qo extends Ca{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function td(t){return Be(t.integerValue||t.doubleValue)}function wg(t){return Gl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function HA(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Di&&s instanceof Di||r instanceof Oi&&s instanceof Oi?ys(r.elements,s.elements,pn):r instanceof Qo&&s instanceof Qo?pn(r.Ae,s.Ae):r instanceof Ko&&s instanceof Ko})(t.transform,e.transform)}class GA{constructor(e,n){this.version=e,this.transformResults=n}}class cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ao(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pa{}function Ag(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jl(t.key,cn.none()):new ji(t.key,t.data,cn.none());{const n=t.data,r=kt.empty();let s=new Ke(nt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Gr(t.key,r,new $t(s.toArray()),cn.none())}}function zA(t,e,n){t instanceof ji?(function(s,i,o){const c=s.value.clone(),l=rd(s.fieldTransforms,i,o.transformResults);c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Gr?(function(s,i,o){if(!Ao(s.precondition,i))return void i.convertToUnknownDocument(o.version);const c=rd(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Rg(s)),l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function gi(t,e,n,r){return t instanceof ji?(function(i,o,c,l){if(!Ao(i.precondition,o))return c;const h=i.value.clone(),f=sd(i.fieldTransforms,l,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Gr?(function(i,o,c,l){if(!Ao(i.precondition,o))return c;const h=sd(i.fieldTransforms,l,o),f=o.data;return f.setAll(Rg(i)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(i,o,c){return Ao(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(t,e,n)}function WA(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=vg(r.transform,s||null);i!=null&&(n===null&&(n=kt.empty()),n.set(r.field,i))}return n||null}function nd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ys(r,s,((i,o)=>HA(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ji extends Pa{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Gr extends Pa{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Rg(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function rd(t,e,n){const r=new Map;Se(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,c=e.data.field(i.field);r.set(i.field,$A(o,c,n[s]))}return r}function sd(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,qA(i,o,e))}return r}class Jl extends Pa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KA extends Pa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QA{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&zA(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gi(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gi(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yg();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let c=this.applyToLocalView(o,i.mutatedFields);c=n.has(s.key)?null:c;const l=Ag(o,c);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(le.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),_e())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,((n,r)=>nd(n,r)))&&ys(this.baseMutations,e.baseMutations,((n,r)=>nd(n,r)))}}class Xl{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Se(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return LA})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Xl(e,n,r,s)}}class JA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class XA{constructor(e,n){this.count=e,this.unchangedNames=n}}var qe,Ee;function YA(t){switch(t){case M.OK:return ie(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return ie(15467,{code:t})}}function Sg(t){if(t===void 0)return Vn("GRPC error has no .code"),M.UNKNOWN;switch(t){case qe.OK:return M.OK;case qe.CANCELLED:return M.CANCELLED;case qe.UNKNOWN:return M.UNKNOWN;case qe.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case qe.INTERNAL:return M.INTERNAL;case qe.UNAVAILABLE:return M.UNAVAILABLE;case qe.UNAUTHENTICATED:return M.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case qe.NOT_FOUND:return M.NOT_FOUND;case qe.ALREADY_EXISTS:return M.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return M.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case qe.ABORTED:return M.ABORTED;case qe.OUT_OF_RANGE:return M.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return M.UNIMPLEMENTED;case qe.DATA_LOSS:return M.DATA_LOSS;default:return ie(39323,{code:t})}}(Ee=qe||(qe={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";function ZA(){return new TextEncoder}const eR=new sr([4294967295,4294967295],0);function id(t){const e=ZA().encode(t),n=new jm;return n.update(e),new Uint8Array(n.digest())}function od(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new sr([n,r],0),new sr([s,i],0)]}class Yl{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ni(`Invalid padding: ${n}`);if(r<0)throw new ni(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ni(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ni(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=sr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(sr.fromNumber(r)));return s.compare(eR)===1&&(s=new sr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=id(e),[r,s]=od(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Yl(i,s,n);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const n=id(e),[r,s]=od(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ni extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Na{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,qi.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Na(le.min(),s,new Me(ge),Dn(),_e())}}class qi{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qi(r,n,_e(),_e(),_e())}}class Ro{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class bg{constructor(e,n){this.targetId=e,this.Ce=n}}class Cg{constructor(e,n,r=rt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class ad{constructor(){this.ve=0,this.Fe=cd(),this.Me=rt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=_e(),n=_e(),r=_e();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ie(38017,{changeType:i})}})),new qi(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=cd()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Se(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Dn(),this.Je=ho(),this.He=ho(),this.Ye=new Me(ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(el(i))if(r===0){const o=new te(i.path);this.et(n,o,ut.newNoDocument(o,le.min()))}else Se(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const c=this.ut(e),l=c?this.ct(c,e,o):1;if(l!==0){this.it(n);const h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,c;try{o=fr(r).toUint8Array()}catch(l){if(l instanceof Zm)return _s("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new Yl(o,s,i)}catch(l){return _s(l instanceof ni?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const c=this.ot(o);if(c){if(i.current&&el(c.target)){const l=new te(c.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,ut.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=_e();this.He.forEach(((i,o)=>{let c=!0;o.forEachWhile((l=>{const h=this.ot(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new Na(e,n,this.Ye,this.je,r);return this.je=Dn(),this.Je=ho(),this.He=ho(),this.Ye=new Me(ge),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ad,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ke(ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ke(ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ad),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ho(){return new Me(te.comparator)}function cd(){return new Me(te.comparator)}const nR={asc:"ASCENDING",desc:"DESCENDING"},rR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sR={and:"AND",or:"OR"};class iR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nl(t,e){return t.useProto3Json||Aa(e)?e:{value:e}}function Jo(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pg(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oR(t,e){return Jo(t,e.toTimestamp())}function ln(t){return Se(!!t,49232),le.fromTimestamp((function(n){const r=hr(n);return new ke(r.seconds,r.nanos)})(t))}function Zl(t,e){return rl(t,e).canonicalString()}function rl(t,e){const n=(function(s){return new De(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Ng(t){const e=De.fromString(t);return Se(xg(e),10190,{key:e.toString()}),e}function sl(t,e){return Zl(t.databaseId,e.path)}function Tc(t,e){const n=Ng(e);if(n.get(1)!==t.databaseId.projectId)throw new J(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(Dg(n))}function Vg(t,e){return Zl(t.databaseId,e)}function aR(t){const e=Ng(t);return e.length===4?De.emptyPath():Dg(e)}function il(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Dg(t){return Se(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ld(t,e,n){return{name:sl(t,e),fields:n.value.mapValue.fields}}function cR(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ie(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(h,f){return h.useProto3Json?(Se(f===void 0||typeof f=="string",58123),rt.fromBase64String(f||"")):(Se(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),rt.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(h){const f=h.code===void 0?M.UNKNOWN:Sg(h.code);return new J(f,h.message||"")})(o);n=new Cg(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Tc(t,r.document.name),i=ln(r.document.updateTime),o=r.document.createTime?ln(r.document.createTime):le.min(),c=new kt({mapValue:{fields:r.document.fields}}),l=ut.newFoundDocument(s,i,o,c),h=r.targetIds||[],f=r.removedTargetIds||[];n=new Ro(h,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Tc(t,r.document),i=r.readTime?ln(r.readTime):le.min(),o=ut.newNoDocument(s,i),c=r.removedTargetIds||[];n=new Ro([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Tc(t,r.document),i=r.removedTargetIds||[];n=new Ro([],i,s,null)}else{if(!("filter"in e))return ie(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new XA(s,i),c=r.targetId;n=new bg(c,o)}}return n}function lR(t,e){let n;if(e instanceof ji)n={update:ld(t,e.key,e.value)};else if(e instanceof Jl)n={delete:sl(t,e.key)};else if(e instanceof Gr)n={update:ld(t,e.key,e.data),updateMask:yR(e.fieldMask)};else{if(!(e instanceof KA))return ie(16599,{Vt:e.type});n={verify:sl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const c=o.transform;if(c instanceof Ko)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Di)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Oi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Qo)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw ie(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:oR(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ie(27497)})(t,e.precondition)),n}function uR(t,e){return t&&t.length>0?(Se(e!==void 0,14353),t.map((n=>(function(s,i){let o=s.updateTime?ln(s.updateTime):ln(i);return o.isEqual(le.min())&&(o=ln(i)),new GA(o,s.transformResults||[])})(n,e)))):[]}function hR(t,e){return{documents:[Vg(t,e.path)]}}function fR(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Vg(t,s);const i=(function(h){if(h.length!==0)return kg(Xt.create(h,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(h){if(h.length!==0)return h.map((f=>(function(m){return{field:ns(m.field),direction:mR(m.dir)}})(f)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=nl(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:s}}function dR(t){let e=aR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Se(r===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=(function(p){const m=Og(p);return m instanceof Xt&&lg(m)?m.getFilters():[m]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((m=>(function(P){return new Vi(rs(P.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(m)))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let m;return m=typeof p=="object"?p.value:p,Aa(m)?null:m})(n.limit));let l=null;n.startAt&&(l=(function(p){const m=!!p.before,v=p.values||[];return new zo(v,m)})(n.startAt));let h=null;return n.endAt&&(h=(function(p){const m=!p.before,v=p.values||[];return new zo(v,m)})(n.endAt)),DA(e,s,o,i,c,"F",l,h)}function pR(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Og(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rs(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=rs(n.unaryFilter.field);return $e.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=rs(n.unaryFilter.field);return $e.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rs(n.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ie(61313);default:return ie(60726)}})(t):t.fieldFilter!==void 0?(function(n){return $e.create(rs(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ie(58110);default:return ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Xt.create(n.compositeFilter.filters.map((r=>Og(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ie(1026)}})(n.compositeFilter.op))})(t):ie(30097,{filter:t})}function mR(t){return nR[t]}function gR(t){return rR[t]}function _R(t){return sR[t]}function ns(t){return{fieldPath:t.canonicalString()}}function rs(t){return nt.fromServerFormat(t.fieldPath)}function kg(t){return t instanceof $e?(function(n){if(n.op==="=="){if(Jf(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NAN"}};if(Qf(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jf(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NOT_NAN"}};if(Qf(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ns(n.field),op:gR(n.op),value:n.value}}})(t):t instanceof Xt?(function(n){const r=n.getFilters().map((s=>kg(s)));return r.length===1?r[0]:{compositeFilter:{op:_R(n.op),filters:r}}})(t):ie(54877,{filter:t})}function yR(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function xg(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Zn{constructor(e,n,r,s,i=le.min(),o=le.min(),c=rt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new Zn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ER{constructor(e){this.yt=e}}function vR(t){const e=dR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wo(e,e.limit,"L"):e}class TR{constructor(){this.Cn=new IR}addToCollectionParentIndex(e,n){return this.Cn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(ur.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(ur.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class IR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ke(De.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ke(De.comparator)).toArray()}}const ud={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mg=41943040;class wt{static withCacheSize(e){return new wt(e,wt.DEFAULT_COLLECTION_PERCENTILE,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}wt.DEFAULT_COLLECTION_PERCENTILE=10,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wt.DEFAULT=new wt(Mg,wt.DEFAULT_COLLECTION_PERCENTILE,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wt.DISABLED=new wt(-1,0,0);class Ts{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ts(0)}static cr(){return new Ts(-1)}}const hd="LruGarbageCollector",wR=1048576;function fd([t,e],[n,r]){const s=ge(t,n);return s===0?ge(e,r):s}class AR{constructor(e){this.Ir=e,this.buffer=new Ke(fd),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fd(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Y(hd,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ps(n)?Y(hd,"Ignoring IndexedDB error during garbage collection: ",n):await Cs(n)}await this.Vr(3e5)}))}}class SR{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return L.resolve(wa.ce);const r=new AR(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(ud)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ud):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,c,l,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s)))).next((p=>(r=p,c=Date.now(),this.removeTargets(e,r,n)))).next((p=>(i=p,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(h=Date.now(),es()<=me.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(c-o)+`ms
	Removed ${i} targets in `+(l-c)+`ms
	Removed ${p} documents in `+(h-l)+`ms
Total Duration: ${h-f}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p}))))}}function bR(t,e){return new SR(t,e)}class CR{constructor(){this.changes=new Hr((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class PR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class NR{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&gi(r.mutation,s,$t.empty(),ke.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,_e()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=_e()){const s=Nr();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=ti();return i.forEach(((c,l)=>{o=o.insert(c,l.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Nr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,_e())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,c)=>{n.set(o,c)}))}))}computeViews(e,n,r,s){let i=Dn();const o=mi(),c=(function(){return mi()})();return n.forEach(((l,h)=>{const f=r.get(h.key);s.has(h.key)&&(f===void 0||f.mutation instanceof Gr)?i=i.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),gi(f.mutation,h,f.mutation.getFieldMask(),ke.now())):o.set(h.key,$t.empty())})),this.recalculateAndSaveOverlays(e,i).next((l=>(l.forEach(((h,f)=>o.set(h,f))),n.forEach(((h,f)=>c.set(h,new PR(f,o.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=mi();let s=new Me(((o,c)=>o-c)),i=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const c of o)c.keys().forEach((l=>{const h=n.get(l);if(h===null)return;let f=r.get(l)||$t.empty();f=c.applyToLocalView(h,f),r.set(l,f);const p=(s.get(c.batchId)||_e()).add(l);s=s.insert(c.batchId,p)}))})).next((()=>{const o=[],c=s.getReverseIterator();for(;c.hasNext();){const l=c.getNext(),h=l.key,f=l.value,p=yg();f.forEach((m=>{if(!i.has(m)){const v=Ag(n.get(m),r.get(m));v!==null&&p.set(m,v),i=i.add(m)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return L.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):L.resolve(Nr());let c=bi,l=i;return o.next((h=>L.forEach(h,((f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),i.get(f)?L.resolve():this.remoteDocumentCache.getEntry(e,f).next((m=>{l=l.insert(f,m)}))))).next((()=>this.populateOverlays(e,h,i))).next((()=>this.computeViews(e,l,h,_e()))).next((f=>({batchId:c,changes:_g(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next((r=>{let s=ti();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ti();return this.indexManager.getCollectionParents(e,i).next((c=>L.forEach(c,(l=>{const h=(function(p,m){return new Ns(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next((f=>{f.forEach(((p,m)=>{o=o.insert(p,m)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((l,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,ut.newInvalidDocument(f)))}));let c=ti();return o.forEach(((l,h)=>{const f=i.get(l);f!==void 0&&gi(f.mutation,h,$t.empty(),ke.now()),ba(n,h)&&(c=c.insert(l,h))})),c}))}}class VR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return L.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:ln(s.createTime)}})(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:vR(s.bundledQuery),readTime:ln(s.readTime)}})(n)),L.resolve()}}class DR{constructor(){this.overlays=new Me(te.comparator),this.qr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Nr();return L.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),L.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const s=Nr(),i=n.length+1,o=new te(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const l=c.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return L.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Me(((h,f)=>h-f));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=i.get(h.largestBatchId);f===null&&(f=Nr(),i=i.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const c=Nr(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((h,f)=>c.set(h,f))),!(c.size()>=s)););return L.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new JA(n,r));let i=this.qr.get(n);i===void 0&&(i=_e(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}class OR{constructor(){this.sessionToken=rt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}class eu{constructor(){this.Qr=new Ke(Xe.$r),this.Ur=new Ke(Xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Xe(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Xe(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new te(new De([])),r=new Xe(n,e),s=new Xe(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new te(new De([])),r=new Xe(n,e),s=new Xe(n,e+1);let i=_e();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new Xe(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xe{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return te.comparator(e.key,n.key)||ge(e.Yr,n.Yr)}static Kr(e,n){return ge(e.Yr,n.Yr)||te.comparator(e.key,n.key)}}class kR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ke(Xe.$r)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new QA(i,n,r,s);this.mutationQueue.push(o);for(const c of s)this.Zr=this.Zr.add(new Xe(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return L.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?$l:this.tr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xe(n,0),s=new Xe(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const c=this.Xr(o.Yr);i.push(c)})),L.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ke(ge);return n.forEach((s=>{const i=new Xe(s,0),o=new Xe(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(c=>{r=r.add(c.Yr)}))})),L.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;te.isDocumentKey(i)||(i=i.child(""));const o=new Xe(new te(i),0);let c=new Ke(ge);return this.Zr.forEachWhile((l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(l.Yr)),!0)}),o),L.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Se(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return L.forEach(n.mutations,(s=>{const i=new Xe(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Xe(n,0),s=this.Zr.firstAfterOrEqual(r);return L.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class xR{constructor(e){this.ri=e,this.docs=(function(){return new Me(te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():ut.newInvalidDocument(n))}getEntries(e,n){let r=Dn();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ut.newInvalidDocument(s))})),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Dn();const o=n.path,c=new te(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){const{key:h,value:{document:f}}=l.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||uA(lA(f),r)<=0||(s.has(f.key)||ba(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return L.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ie(9500)}ii(e,n){return L.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new MR(this)}getSize(e){return L.resolve(this.size)}}class MR extends CR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),L.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class LR{constructor(e){this.persistence=e,this.si=new Hr((n=>zl(n)),Wl),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.oi=0,this._i=new eu,this.targetCount=0,this.ai=Ts.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),L.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ts(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Pr(n),L.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),L.waitFor(i).next((()=>s))}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),L.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this._i.containsKey(n))}}class Lg{constructor(e,n){this.ui={},this.overlays={},this.ci=new wa(0),this.li=!1,this.li=!0,this.hi=new OR,this.referenceDelegate=e(this),this.Pi=new LR(this),this.indexManager=new TR,this.remoteDocumentCache=(function(s){return new xR(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new ER(n),this.Ii=new VR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new kR(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const s=new FR(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return L.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class FR extends fA{constructor(e){super(),this.currentSequenceNumber=e}}class tu{constructor(e){this.persistence=e,this.Ri=new eu,this.Vi=null}static mi(e){return new tu(e)}get fi(){if(this.Vi)return this.Vi;throw ie(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),L.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.fi,(r=>{const s=te.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,le.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return L.or([()=>L.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Xo{constructor(e,n){this.persistence=e,this.pi=new Hr((r=>mA(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=bR(this,n)}static mi(e,n){return new Xo(e,n)}Ei(){}di(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return L.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?L.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((c=>{c||(r++,i.removeEntry(o,le.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),L.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Io(e.data.value)),n}br(e,n,r){return L.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return L.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class nu{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=_e(),s=_e();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new nu(e,n.fromCache,r,s)}}class UR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class BR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return VI()?8:dA(dt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new UR;return this.Ss(e,n,o).next((c=>{if(i.result=c,this.Vs)return this.bs(e,n,o,c.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(es()<=me.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",ts(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),L.resolve()):(es()<=me.DEBUG&&Y("QueryEngine","Query:",ts(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(es()<=me.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",ts(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,an(n))):L.resolve())}ys(e,n){if(ed(n))return L.resolve(null);let r=an(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Wo(n,null,"F"),r=an(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=_e(...i);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((l=>{const h=this.Ds(n,c);return this.Cs(n,h,o,l.readTime)?this.ys(e,Wo(n,null,"F")):this.vs(e,h,n,l)}))))})))))}ws(e,n,r,s){return ed(n)||s.isEqual(le.min())?L.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?L.resolve(null):(es()<=me.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ts(n)),this.vs(e,o,n,cA(s,bi)).next((c=>c)))}))}Ds(e,n){let r=new Ke(mg(e));return n.forEach(((s,i)=>{ba(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return es()<=me.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",ts(n)),this.ps.getDocumentsMatchingQuery(e,n,ur.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}const ru="LocalStore",jR=3e8;class qR{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Me(ge),this.xs=new Hr((i=>zl(i)),Wl),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function $R(t,e,n,r){return new qR(t,e,n,r)}async function Fg(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],c=[];let l=_e();for(const h of s){o.push(h.batchId);for(const f of h.mutations)l=l.add(f.key)}for(const h of i){c.push(h.batchId);for(const f of h.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next((h=>({Ls:h,removedBatchIds:o,addedBatchIds:c})))}))}))}function HR(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,l,h,f){const p=h.batch,m=p.keys();let v=L.resolve();return m.forEach((P=>{v=v.next((()=>f.getEntry(l,P))).next((V=>{const k=h.docVersions.get(P);Se(k!==null,48541),V.version.compareTo(k)<0&&(p.applyToRemoteDocument(V,h),V.isValidDocument()&&(V.setReadTime(h.commitVersion),f.addEntry(V)))}))})),v.next((()=>c.mutationQueue.removeMutationBatch(l,p)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let l=_e();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(l=l.add(c.batch.mutations[h].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function Ug(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function GR(t,e){const n=he(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach(((f,p)=>{const m=s.get(p);if(!m)return;c.push(n.Pi.removeMatchingKeys(i,f.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(i,f.addedDocuments,p))));let v=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(rt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),s=s.insert(p,v),(function(V,k,q){return V.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=jR?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(m,v,f)&&c.push(n.Pi.updateTargetData(i,v))}));let l=Dn(),h=_e();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))})),c.push(zR(i,o,e.documentUpdates).next((f=>{l=f.ks,h=f.qs}))),!r.isEqual(le.min())){const f=n.Pi.getLastRemoteSnapshotVersion(i).next((p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));c.push(f)}return L.waitFor(c).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,l,h))).next((()=>l))})).then((i=>(n.Ms=s,i)))}function zR(t,e,n){let r=_e(),s=_e();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=Dn();return n.forEach(((c,l)=>{const h=i.get(c);l.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(c,l.readTime),o=o.insert(c,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),o=o.insert(c,l)):Y(ru,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",l.version)})),{ks:o,qs:s}}))}function WR(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=$l),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function KR(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,L.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new Zn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function ol(t,e,n){const r=he(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!Ps(o))throw o;Y(ru,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function dd(t,e,n){const r=he(t);let s=le.min(),i=_e();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,h,f){const p=he(l),m=p.xs.get(f);return m!==void 0?L.resolve(p.Ms.get(m)):p.Pi.getTargetData(h,f)})(r,o,an(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next((l=>{i=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:le.min(),n?i:_e()))).next((c=>(QR(r,kA(e),c),{documents:c,Qs:i})))))}function QR(t,e,n){let r=t.Os.get(e)||le.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class pd{constructor(){this.activeTargetIds=BA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JR{constructor(){this.Mo=new pd,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new pd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class XR{Oo(e){}shutdown(){}}const md="ConnectivityMonitor";class gd{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Y(md,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Y(md,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let fo=null;function al(){return fo===null?fo=(function(){return 268435456+Math.round(2147483648*Math.random())})():fo++,"0x"+fo.toString(16)}const Ic="RestConnection",YR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Ho?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=al(),c=this.zo(e,n.toUriEncodedString());Y(Ic,`Sending RPC '${e}' ${o}:`,c,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:h}=new URL(c),f=Rs(h);return this.Jo(e,c,l,r,f).then((p=>(Y(Ic,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw _s(Ic,`RPC '${e}' ${o} failed with error: `,p,"url: ",c,"request:",r),p}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=YR[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class eS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const at="WebChannelConnection";class tS extends ZR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=al();return new Promise(((c,l)=>{const h=new qm;h.setWithCredentials(!0),h.listenOnce($m.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case To.NO_ERROR:const p=h.getResponseJson();Y(at,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),c(p);break;case To.TIMEOUT:Y(at,`RPC '${e}' ${o} timed out`),l(new J(M.DEADLINE_EXCEEDED,"Request time out"));break;case To.HTTP_ERROR:const m=h.getStatus();if(Y(at,`RPC '${e}' ${o} failed with status:`,m,"response text:",h.getResponseText()),m>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const P=v?.error;if(P&&P.status&&P.message){const V=(function(q){const B=q.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(B)>=0?B:M.UNKNOWN})(P.status);l(new J(V,P.message))}else l(new J(M.UNKNOWN,"Server responded with status "+h.getStatus()))}else l(new J(M.UNAVAILABLE,"Connection failed."));break;default:ie(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Y(at,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(s);Y(at,`RPC '${e}' ${o} sending request:`,s),h.send(n,"POST",f,r,15)}))}T_(e,n,r){const s=al(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zm(),c=Gm(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=i.join("");Y(at,`Creating RPC '${e}' stream ${s}: ${f}`,l);const p=o.createWebChannel(f,l);this.I_(p);let m=!1,v=!1;const P=new eS({Yo:k=>{v?Y(at,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(m||(Y(at,`Opening RPC '${e}' stream ${s} transport.`),p.open(),m=!0),Y(at,`RPC '${e}' stream ${s} sending:`,k),p.send(k))},Zo:()=>p.close()}),V=(k,q,B)=>{k.listen(q,(H=>{try{B(H)}catch(z){setTimeout((()=>{throw z}),0)}}))};return V(p,ei.EventType.OPEN,(()=>{v||(Y(at,`RPC '${e}' stream ${s} transport opened.`),P.o_())})),V(p,ei.EventType.CLOSE,(()=>{v||(v=!0,Y(at,`RPC '${e}' stream ${s} transport closed`),P.a_(),this.E_(p))})),V(p,ei.EventType.ERROR,(k=>{v||(v=!0,_s(at,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),P.a_(new J(M.UNAVAILABLE,"The operation could not be completed")))})),V(p,ei.EventType.MESSAGE,(k=>{if(!v){const q=k.data[0];Se(!!q,16349);const B=q,H=B?.error||B[0]?.error;if(H){Y(at,`RPC '${e}' stream ${s} received error:`,H);const z=H.status;let se=(function(T){const _=qe[T];if(_!==void 0)return Sg(_)})(z),ce=H.message;se===void 0&&(se=M.INTERNAL,ce="Unknown error status: "+z+" with message "+H.message),v=!0,P.a_(new J(se,ce)),p.close()}else Y(at,`RPC '${e}' stream ${s} received:`,q),P.u_(q)}})),V(c,Hm.STAT_EVENT,(k=>{k.stat===Qc.PROXY?Y(at,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Qc.NOPROXY&&Y(at,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function wc(){return typeof document<"u"?document:null}function Va(t){return new iR(t,!0)}class Bg{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const _d="PersistentStream";class jg{constructor(e,n,r,s,i,o,c,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Bg(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Vn(n.toString()),Vn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new J(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Y(_d,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Y(_d,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nS extends jg{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=cR(this.serializer,e),r=(function(i){if(!("targetChange"in i))return le.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?ln(o.readTime):le.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=il(this.serializer),n.addTarget=(function(i,o){let c;const l=o.target;if(c=el(l)?{documents:hR(i,l)}:{query:fR(i,l).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=Pg(i,o.resumeToken);const h=nl(i,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(le.min())>0){c.readTime=Jo(i,o.snapshotVersion.toTimestamp());const h=nl(i,o.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=pR(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=il(this.serializer),n.removeTarget=e,this.q_(n)}}class rS extends jg{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Se(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Se(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uR(e.writeResults,e.commitTime),r=ln(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=il(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>lR(this.serializer,r)))};this.q_(n)}}class sS{}class iS extends sS{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new J(M.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,rl(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(M.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,rl(n,r),s,o,c,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(M.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class oS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vn(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Br="RemoteStore";class aS{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{zr(this)&&(Y(Br,"Restarting streams for network reachability change."),await(async function(l){const h=he(l);h.Ea.add(4),await $i(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Da(h)})(this))}))})),this.Ra=new oS(r,s)}}async function Da(t){if(zr(t))for(const e of t.da)await e(!0)}async function $i(t){for(const e of t.da)await e(!1)}function qg(t,e){const n=he(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),au(n)?ou(n):Vs(n).O_()&&iu(n,e))}function su(t,e){const n=he(t),r=Vs(n);n.Ia.delete(e),r.O_()&&$g(n,e),n.Ia.size===0&&(r.O_()?r.L_():zr(n)&&n.Ra.set("Unknown"))}function iu(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vs(t).Y_(e)}function $g(t,e){t.Va.Ue(e),Vs(t).Z_(e)}function ou(t){t.Va=new tR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Vs(t).start(),t.Ra.ua()}function au(t){return zr(t)&&!Vs(t).x_()&&t.Ia.size>0}function zr(t){return he(t).Ea.size===0}function Hg(t){t.Va=void 0}async function cS(t){t.Ra.set("Online")}async function lS(t){t.Ia.forEach(((e,n)=>{iu(t,e)}))}async function uS(t,e){Hg(t),au(t)?(t.Ra.ha(e),ou(t)):t.Ra.set("Unknown")}async function hS(t,e,n){if(t.Ra.set("Online"),e instanceof Cg&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const c of i.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,o),s.Ia.delete(c),s.Va.removeTarget(c))})(t,e)}catch(r){Y(Br,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yo(t,r)}else if(e instanceof Ro?t.Va.Ze(e):e instanceof bg?t.Va.st(e):t.Va.tt(e),!n.isEqual(le.min()))try{const r=await Ug(t.localStore);n.compareTo(r)>=0&&await(function(i,o){const c=i.Va.Tt(o);return c.targetChanges.forEach(((l,h)=>{if(l.resumeToken.approximateByteSize()>0){const f=i.Ia.get(h);f&&i.Ia.set(h,f.withResumeToken(l.resumeToken,o))}})),c.targetMismatches.forEach(((l,h)=>{const f=i.Ia.get(l);if(!f)return;i.Ia.set(l,f.withResumeToken(rt.EMPTY_BYTE_STRING,f.snapshotVersion)),$g(i,l);const p=new Zn(f.target,l,h,f.sequenceNumber);iu(i,p)})),i.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){Y(Br,"Failed to raise snapshot:",r),await Yo(t,r)}}async function Yo(t,e,n){if(!Ps(e))throw e;t.Ea.add(1),await $i(t),t.Ra.set("Offline"),n||(n=()=>Ug(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Y(Br,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Da(t)}))}function Gg(t,e){return e().catch((n=>Yo(t,n,e)))}async function Oa(t){const e=he(t),n=pr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$l;for(;fS(e);)try{const s=await WR(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,dS(e,s)}catch(s){await Yo(e,s)}zg(e)&&Wg(e)}function fS(t){return zr(t)&&t.Ta.length<10}function dS(t,e){t.Ta.push(e);const n=pr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function zg(t){return zr(t)&&!pr(t).x_()&&t.Ta.length>0}function Wg(t){pr(t).start()}async function pS(t){pr(t).ra()}async function mS(t){const e=pr(t);for(const n of t.Ta)e.ea(n.mutations)}async function gS(t,e,n){const r=t.Ta.shift(),s=Xl.from(r,e,n);await Gg(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Oa(t)}async function _S(t,e){e&&pr(t).X_&&await(async function(r,s){if((function(o){return YA(o)&&o!==M.ABORTED})(s.code)){const i=r.Ta.shift();pr(r).B_(),await Gg(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Oa(r)}})(t,e),zg(t)&&Wg(t)}async function yd(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),Y(Br,"RemoteStore received new credentials");const r=zr(n);n.Ea.add(3),await $i(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Da(n)}async function yS(t,e){const n=he(t);e?(n.Ea.delete(2),await Da(n)):e||(n.Ea.add(2),await $i(n),n.Ra.set("Unknown"))}function Vs(t){return t.ma||(t.ma=(function(n,r,s){const i=he(n);return i.sa(),new nS(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:cS.bind(null,t),t_:lS.bind(null,t),r_:uS.bind(null,t),H_:hS.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),au(t)?ou(t):t.Ra.set("Unknown")):(await t.ma.stop(),Hg(t))}))),t.ma}function pr(t){return t.fa||(t.fa=(function(n,r,s){const i=he(n);return i.sa(),new rS(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:pS.bind(null,t),r_:_S.bind(null,t),ta:mS.bind(null,t),na:gS.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Oa(t)):(await t.fa.stop(),t.Ta.length>0&&(Y(Br,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class cu{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,c=new cu(e,n,o,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lu(t,e){if(Vn("AsyncQueue",`${e}: ${t}`),Ps(t))return new J(M.UNAVAILABLE,`${e}: ${t}`);throw t}class ls{static emptySet(e){return new ls(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=ti(),this.sortedSet=new Me(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ls)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ls;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Ed{constructor(){this.ga=new Me(te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ie(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Is{constructor(e,n,r,s,i,o,c,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((c=>{o.push({type:0,doc:c})})),new Is(e,n,ls.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class ES{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vS{constructor(){this.queries=vd(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=he(n),i=s.queries;s.queries=vd(),i.forEach(((o,c)=>{for(const l of c.Sa)l.onError(r)}))})(this,new J(M.ABORTED,"Firestore shutting down"))}}function vd(){return new Hr((t=>pg(t)),Sa)}async function Kg(t,e){const n=he(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new ES,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const c=lu(o,`Initialization of query '${ts(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&uu(n)}async function Qg(t,e){const n=he(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function TS(t,e){const n=he(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const c of o.Sa)c.Fa(s)&&(r=!0);o.wa=s}}r&&uu(n)}function IS(t,e,n){const r=he(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function uu(t){t.Ca.forEach((e=>{e.next()}))}var cl,Td;(Td=cl||(cl={})).Ma="default",Td.Cache="cache";class Jg{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Is(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Is.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cl.Cache}}class Xg{constructor(e){this.key=e}}class Yg{constructor(e){this.key=e}}class wS{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=_e(),this.mutatedKeys=_e(),this.eu=mg(e),this.tu=new ls(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Ed,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,c=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((f,p)=>{const m=s.get(f),v=ba(this.query,p)?p:null,P=!!m&&this.mutatedKeys.has(m.key),V=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let k=!1;m&&v?m.data.isEqual(v.data)?P!==V&&(r.track({type:3,doc:v}),k=!0):this.su(m,v)||(r.track({type:2,doc:v}),k=!0,(l&&this.eu(v,l)>0||h&&this.eu(v,h)<0)&&(c=!0)):!m&&v?(r.track({type:0,doc:v}),k=!0):m&&!v&&(r.track({type:1,doc:m}),k=!0,(l||h)&&(c=!0)),k&&(v?(o=o.add(v),i=V?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:c,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,p)=>(function(v,P){const V=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie(20277,{Rt:k})}};return V(v)-V(P)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,h=l!==this.Za;return this.Za=l,o.length!==0||h?{snapshot:new Is(this.query,e.tu,i,o,e.mutatedKeys,l===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ed,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=_e(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Yg(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Xg(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=_e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Is.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hu="SyncEngine";class AS{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RS{constructor(e){this.key=e,this.hu=!1}}class SS{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Hr((c=>pg(c)),Sa),this.Iu=new Map,this.Eu=new Set,this.du=new Me(te.comparator),this.Au=new Map,this.Ru=new eu,this.Vu={},this.mu=new Map,this.fu=Ts.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bS(t,e,n=!0){const r=s_(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await Zg(r,e,n,!0),s}async function CS(t,e){const n=s_(t);await Zg(n,e,!0,!1)}async function Zg(t,e,n,r){const s=await KR(t.localStore,an(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await PS(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&qg(t.remoteStore,s),c}async function PS(t,e,n,r,s){t.pu=(p,m,v)=>(async function(V,k,q,B){let H=k.view.ru(q);H.Cs&&(H=await dd(V.localStore,k.query,!1).then((({documents:R})=>k.view.ru(R,H))));const z=B&&B.targetChanges.get(k.targetId),se=B&&B.targetMismatches.get(k.targetId)!=null,ce=k.view.applyChanges(H,V.isPrimaryClient,z,se);return wd(V,k.targetId,ce.au),ce.snapshot})(t,p,m,v);const i=await dd(t.localStore,e,!0),o=new wS(e,i.Qs),c=o.ru(i.documents),l=qi.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=o.applyChanges(c,t.isPrimaryClient,l);wd(t,n,h.au);const f=new AS(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function NS(t,e,n){const r=he(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!Sa(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ol(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&su(r.remoteStore,s.targetId),ll(r,s.targetId)})).catch(Cs)):(ll(r,s.targetId),await ol(r.localStore,s.targetId,!0))}async function VS(t,e){const n=he(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),su(n.remoteStore,r.targetId))}async function DS(t,e,n){const r=US(t);try{const s=await(function(o,c){const l=he(o),h=ke.now(),f=c.reduce(((v,P)=>v.add(P.key)),_e());let p,m;return l.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let P=Dn(),V=_e();return l.Ns.getEntries(v,f).next((k=>{P=k,P.forEach(((q,B)=>{B.isValidDocument()||(V=V.add(q))}))})).next((()=>l.localDocuments.getOverlayedDocuments(v,P))).next((k=>{p=k;const q=[];for(const B of c){const H=WA(B,p.get(B.key).overlayedDocument);H!=null&&q.push(new Gr(B.key,H,og(H.value.mapValue),cn.exists(!0)))}return l.mutationQueue.addMutationBatch(v,h,q,c)})).next((k=>{m=k;const q=k.applyToLocalDocumentSet(p,V);return l.documentOverlayCache.saveOverlays(v,k.batchId,q)}))})).then((()=>({batchId:m.batchId,changes:_g(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,c,l){let h=o.Vu[o.currentUser.toKey()];h||(h=new Me(ge)),h=h.insert(c,l),o.Vu[o.currentUser.toKey()]=h})(r,s.batchId,n),await Hi(r,s.changes),await Oa(r.remoteStore)}catch(s){const i=lu(s,"Failed to persist write");n.reject(i)}}async function e_(t,e){const n=he(t);try{const r=await GR(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(Se(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Se(o.hu,14607):s.removedDocuments.size>0&&(Se(o.hu,42227),o.hu=!1))})),await Hi(n,r,e)}catch(r){await Cs(r)}}function Id(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const c=o.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(o,c){const l=he(o);l.onlineState=c;let h=!1;l.queries.forEach(((f,p)=>{for(const m of p.Sa)m.va(c)&&(h=!0)})),h&&uu(l)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OS(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Me(te.comparator);o=o.insert(i,ut.newNoDocument(i,le.min()));const c=_e().add(i),l=new Na(le.min(),new Map,new Me(ge),o,c);await e_(r,l),r.du=r.du.remove(i),r.Au.delete(e),fu(r)}else await ol(r.localStore,e,!1).then((()=>ll(r,e,n))).catch(Cs)}async function kS(t,e){const n=he(t),r=e.batch.batchId;try{const s=await HR(n.localStore,e);n_(n,r,null),t_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hi(n,s)}catch(s){await Cs(s)}}async function xS(t,e,n){const r=he(t);try{const s=await(function(o,c){const l=he(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let f;return l.mutationQueue.lookupMutationBatch(h,c).next((p=>(Se(p!==null,37113),f=p.keys(),l.mutationQueue.removeMutationBatch(h,p)))).next((()=>l.mutationQueue.performConsistencyCheck(h))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(h,f,c))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f))).next((()=>l.localDocuments.getDocuments(h,f)))}))})(r.localStore,e);n_(r,e,n),t_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hi(r,s)}catch(s){await Cs(s)}}function t_(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function n_(t,e,n){const r=he(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function ll(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||r_(t,r)}))}function r_(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(su(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),fu(t))}function wd(t,e,n){for(const r of n)r instanceof Xg?(t.Ru.addReference(r.key,e),MS(t,r)):r instanceof Yg?(Y(hu,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||r_(t,r.key)):ie(19791,{wu:r})}function MS(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Y(hu,"New document in limbo: "+n),t.Eu.add(r),fu(t))}function fu(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(De.fromString(e)),r=t.fu.next();t.Au.set(r,new RS(n)),t.du=t.du.insert(n,r),qg(t.remoteStore,new Zn(an(Kl(n.path)),r,"TargetPurposeLimboResolution",wa.ce))}}async function Hi(t,e,n){const r=he(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,l)=>{o.push(r.pu(l,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const f=h?!h.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(h){s.push(h);const f=nu.As(l.targetId,h);i.push(f)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(l,h){const f=he(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>L.forEach(h,(m=>L.forEach(m.Es,(v=>f.persistence.referenceDelegate.addReference(p,m.targetId,v))).next((()=>L.forEach(m.ds,(v=>f.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))))))}catch(p){if(!Ps(p))throw p;Y(ru,"Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const v=f.Ms.get(m),P=v.snapshotVersion,V=v.withLastLimboFreeSnapshotVersion(P);f.Ms=f.Ms.insert(m,V)}}})(r.localStore,i))}async function LS(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){Y(hu,"User change. New user:",e.toKey());const r=await Fg(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((c=>{c.forEach((l=>{l.reject(new J(M.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hi(n,r.Ls)}}function FS(t,e){const n=he(t),r=n.Au.get(e);if(r&&r.hu)return _e().add(r.key);{let s=_e();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const c=n.Tu.get(o);s=s.unionWith(c.view.nu)}return s}}function s_(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=e_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OS.bind(null,e),e.Pu.H_=TS.bind(null,e.eventManager),e.Pu.yu=IS.bind(null,e.eventManager),e}function US(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xS.bind(null,e),e}class Zo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Va(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $R(this.persistence,new BR,e.initialUser,this.serializer)}Cu(e){return new Lg(tu.mi,this.serializer)}Du(e){return new JR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zo.provider={build:()=>new Zo};class BS extends Zo{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Se(this.persistence.referenceDelegate instanceof Xo,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new RR(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wt.withCacheSize(this.cacheSizeBytes):wt.DEFAULT;return new Lg((r=>Xo.mi(r,n)),this.serializer)}}class ul{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Id(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=LS.bind(null,this.syncEngine),await yS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vS})()}createDatastore(e){const n=Va(e.databaseInfo.databaseId),r=(function(i){return new tS(i)})(e.databaseInfo);return(function(i,o,c,l){return new iS(i,o,c,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,o,c){return new aS(r,s,i,o,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>Id(this.syncEngine,n,0)),(function(){return gd.v()?new gd:new XR})())}createSyncEngine(e,n){return(function(s,i,o,c,l,h,f){const p=new SS(s,i,o,c,l,h);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=he(n);Y(Br,"RemoteStore shutting down."),r.Ea.add(5),await $i(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ul.provider={build:()=>new ul};class i_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const mr="FirestoreClient";class jS{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ct.UNAUTHENTICATED,this.clientId=ql.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{Y(mr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Y(mr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=lu(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ac(t,e){t.asyncQueue.verifyOperationInProgress(),Y(mr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await Fg(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Ad(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qS(t);Y(mr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>yd(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>yd(e.remoteStore,s))),t._onlineComponents=e}async function qS(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(mr,"Using user provided OfflineComponentProvider");try{await Ac(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===M.FAILED_PRECONDITION||s.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;_s("Error using user provided cache. Falling back to memory cache: "+n),await Ac(t,new Zo)}}else Y(mr,"Using default OfflineComponentProvider"),await Ac(t,new BS(void 0));return t._offlineComponents}async function o_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(mr,"Using user provided OnlineComponentProvider"),await Ad(t,t._uninitializedComponentsProvider._online)):(Y(mr,"Using default OnlineComponentProvider"),await Ad(t,new ul))),t._onlineComponents}function $S(t){return o_(t).then((e=>e.syncEngine))}async function hl(t){const e=await o_(t),n=e.eventManager;return n.onListen=bS.bind(null,e.syncEngine),n.onUnlisten=NS.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CS.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VS.bind(null,e.syncEngine),n}function HS(t,e,n={}){const r=new ir;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,c,l,h){const f=new i_({next:m=>{f.Nu(),o.enqueueAndForget((()=>Qg(i,p))),m.fromCache&&l.source==="server"?h.reject(new J(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new Jg(c,f,{includeMetadataChanges:!0,qa:!0});return Kg(i,p)})(await hl(t),t.asyncQueue,e,n,r))),r.promise}function a_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Rd=new Map;const c_="firestore.googleapis.com",Sd=!0;class bd{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new J(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=c_,this.ssl=Sd}else this.host=e.host,this.ssl=e.ssl??Sd;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Mg;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wR)throw new J(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a_(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new J(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new J(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new J(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ka{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bd(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Xw;switch(r.type){case"firstParty":return new tA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Rd.get(n);r&&(Y("ComponentProvider","Removing Datastore"),Rd.delete(n),r.terminate())})(this),Promise.resolve()}}function GS(t,e,n,r={}){t=or(t,ka);const s=Rs(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(Om(`https://${c}`),km("Firestore",!0)),i.host!==c_&&i.host!==c&&_s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:c,ssl:s,emulatorOptions:r};if(!Lr(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=ct.MOCK_USER;else{h=II(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new J(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ct(p)}t._authCredentials=new Yw(new Km(h,f))}}class Mn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mn(this.firestore,e,this._query)}}class We{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new We(this.firestore,e,this._key)}toJSON(){return{type:We._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Bi(n,We._jsonSchema))return new We(e,r||null,new te(De.fromString(n.referencePath)))}}We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:He("string",We._jsonSchemaVersion),referencePath:He("string")};class ar extends Mn{constructor(e,n,r){super(e,n,Kl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new We(this.firestore,null,new te(e))}withConverter(e){return new ar(this.firestore,e,this._path)}}function AP(t,e,...n){if(t=Et(t),Qm("collection","path",e),t instanceof ka){const r=De.fromString(e,...n);return Bf(r),new ar(t,null,r)}{if(!(t instanceof We||t instanceof ar))throw new J(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return Bf(r),new ar(t.firestore,null,r)}}function zS(t,e,...n){if(t=Et(t),arguments.length===1&&(e=ql.newId()),Qm("doc","path",e),t instanceof ka){const r=De.fromString(e,...n);return Uf(r),new We(t,null,new te(r))}{if(!(t instanceof We||t instanceof ar))throw new J(M.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return Uf(r),new We(t.firestore,t instanceof ar?t.converter:null,new te(r))}}const Cd="AsyncQueue";class Pd{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Bg(this,"async_queue_retry"),this._c=()=>{const r=wc();r&&Y(Cd,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=wc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=wc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ps(e))throw e;Y(Cd,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Vn("INTERNAL UNHANDLED ERROR: ",Nd(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=cu.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&ie(47125,{Pc:Nd(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Nd(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function Vd(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(t,["next","error","complete"])}class ws extends ka{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Pd,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pd(e),this._firestoreClient=void 0,await e}}}function WS(t,e){const n=typeof t=="object"?t:Fm(),r=typeof t=="string"?t:Ho,s=Bl(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=vI("firestore");i&&GS(s,...i)}return s}function du(t){if(t._terminated)throw new J(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||KS(t),t._firestoreClient}function KS(t){const e=t._freezeSettings(),n=(function(s,i,o,c){return new yA(s,i,o,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,a_(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new jS(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(t._componentsProvider))}class xt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xt(rt.fromBase64String(e))}catch(n){throw new J(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xt(rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bi(e,xt._jsonSchema))return xt.fromBase64String(e.bytes)}}xt._jsonSchemaVersion="firestore/bytes/1.0",xt._jsonSchema={type:He("string",xt._jsonSchemaVersion),bytes:He("string")};class pu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class l_{constructor(e){this._methodName=e}}class un{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:un._jsonSchemaVersion}}static fromJSON(e){if(Bi(e,un._jsonSchema))return new un(e.latitude,e.longitude)}}un._jsonSchemaVersion="firestore/geoPoint/1.0",un._jsonSchema={type:He("string",un._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};class hn{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bi(e,hn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new hn(e.vectorValues);throw new J(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hn._jsonSchemaVersion="firestore/vectorValue/1.0",hn._jsonSchema={type:He("string",hn._jsonSchemaVersion),vectorValues:He("object")};const QS=/^__.*__$/;class JS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ji(e,this.data,n,this.fieldTransforms)}}function u_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie(40011,{Ac:t})}}class mu{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mu({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ea(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(u_(this.Ac)&&QS.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class XS{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Va(e)}Cc(e,n,r,s=!1){return new mu({Ac:e,methodName:n,Dc:r,path:nt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h_(t){const e=t._freezeSettings(),n=Va(t._databaseId);return new XS(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YS(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);p_("Data must be an object, but it was:",o,r);const c=f_(r,o);let l,h;if(i.merge)l=new $t(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const p of i.mergeFields){const m=eb(e,p,n);if(!o.contains(m))throw new J(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);nb(f,m)||f.push(m)}l=new $t(f),h=o.fieldTransforms.filter((p=>l.covers(p.field)))}else l=null,h=o.fieldTransforms;return new JS(new kt(c),l,h)}function ZS(t,e,n,r=!1){return gu(n,t.Cc(r?4:3,e))}function gu(t,e){if(d_(t=Et(t)))return p_("Unsupported field value:",e,t),f_(t,e);if(t instanceof l_)return(function(r,s){if(!u_(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const c of r){let l=gu(c,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jA(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ke.fromDate(r);return{timestampValue:Jo(s.serializer,i)}}if(r instanceof ke){const i=new ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jo(s.serializer,i)}}if(r instanceof un)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xt)return{bytesValue:Pg(s.serializer,r._byteString)};if(r instanceof We){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Zl(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof hn)return(function(o,c){return{mapValue:{fields:{[sg]:{stringValue:ig},[Go]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return Ql(c.serializer,h)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Ia(r)}`)})(t,e)}function f_(t,e){const n={};return Ym(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$r(t,((r,s)=>{const i=gu(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function d_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ke||t instanceof un||t instanceof xt||t instanceof We||t instanceof l_||t instanceof hn)}function p_(t,e,n){if(!d_(n)||!Jm(n)){const r=Ia(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function eb(t,e,n){if((e=Et(e))instanceof pu)return e._internalPath;if(typeof e=="string")return m_(t,e);throw ea("Field path arguments must be of type string or ",t,!1,void 0,n)}const tb=new RegExp("[~\\*/\\[\\]]");function m_(t,e,n){if(e.search(tb)>=0)throw ea(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pu(...e.split("."))._internalPath}catch{throw ea(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ea(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new J(M.INVALID_ARGUMENT,c+t+l)}function nb(t,e){return t.some((n=>n.isEqual(e)))}class g_{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xa("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rb extends g_{data(){return super.data()}}function xa(t,e){return typeof e=="string"?m_(t,e):e instanceof pu?e._internalPath:e._delegate._internalPath}function __(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _u{}class yu extends _u{}function RP(t,e,...n){let r=[];e instanceof _u&&r.push(e),r=r.concat(n),(function(i){const o=i.filter((l=>l instanceof Eu)).length,c=i.filter((l=>l instanceof Ma)).length;if(o>1||o>0&&c>0)throw new J(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Ma extends yu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ma(e,n,r)}_apply(e){const n=this._parse(e);return y_(e._query,n),new Mn(e.firestore,e.converter,tl(e._query,n))}_parse(e){const n=h_(e.firestore);return(function(i,o,c,l,h,f,p){let m;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new J(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Od(p,f);const P=[];for(const V of p)P.push(Dd(l,i,V));m={arrayValue:{values:P}}}else m=Dd(l,i,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Od(p,f),m=ZS(c,o,p,f==="in"||f==="not-in");return $e.create(h,f,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function SP(t,e,n){const r=e,s=xa("where",t);return Ma._create(s,r,n)}class Eu extends _u{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Eu(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Xt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,i){let o=s;const c=i.getFlattenedFilters();for(const l of c)y_(o,l),o=tl(o,l)})(e._query,n),new Mn(e.firestore,e.converter,tl(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vu extends yu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new vu(e,n)}_apply(e){const n=(function(s,i,o){if(s.startAt!==null)throw new J(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new J(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vi(i,o)})(e._query,this._field,this._direction);return new Mn(e.firestore,e.converter,(function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ns(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function bP(t,e="asc"){const n=e,r=xa("orderBy",t);return vu._create(r,n)}class Tu extends yu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Tu(e,n,r)}_apply(e){return new Mn(e.firestore,e.converter,Wo(e._query,this._limit,this._limitType))}}function CP(t){return Tu._create("limit",t,"F")}function Dd(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new J(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dg(e)&&n.indexOf("/")!==-1)throw new J(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(De.fromString(n));if(!te.isDocumentKey(r))throw new J(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Kf(t,new te(r))}if(n instanceof We)return Kf(t,n._key);throw new J(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ia(n)}.`)}function Od(t,e){if(!Array.isArray(t)||t.length===0)throw new J(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function y_(t,e){const n=(function(s,i){for(const o of s)for(const c of o.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new J(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sb{convertValue(e,n="none"){switch(dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $r(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){const n=e.fields?.[Go].arrayValue?.values?.map((r=>Be(r.doubleValue)));return new hn(n)}convertGeoPoint(e){return new un(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ra(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ci(e));default:return null}}convertTimestamp(e){const n=hr(e);return new ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=De.fromString(e);Se(xg(r),9688,{name:e});const s=new Pi(r.get(1),r.get(3)),i=new te(r.popFirst(5));return s.isEqual(n)||Vn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}function ib(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class ri{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xr extends g_{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new So(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xa("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=xr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}xr._jsonSchemaVersion="firestore/documentSnapshot/1.0",xr._jsonSchema={type:He("string",xr._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};class So extends xr{data(e={}){return super.data(e)}}class Mr{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ri(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new So(this._firestore,this._userDataWriter,r.key,r,new ri(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((c=>{const l=new So(s._firestore,s._userDataWriter,c.doc.key,c.doc,new ri(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>i||c.type!==3)).map((c=>{const l=new So(s._firestore,s._userDataWriter,c.doc.key,c.doc,new ri(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,f=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:ob(c.type),doc:l,oldIndex:h,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ql.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ob(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie(61501,{type:t})}}Mr._jsonSchemaVersion="firestore/querySnapshot/1.0",Mr._jsonSchema={type:He("string",Mr._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};class Iu extends sb{constructor(e){super(),this.firestore=e}convertBytes(e){return new xt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,n)}}function PP(t){t=or(t,Mn);const e=or(t.firestore,ws),n=du(e),r=new Iu(e);return __(t._query),HS(n,t._query).then((s=>new Mr(e,r,t,s)))}function NP(t){return E_(or(t.firestore,ws),[new Jl(t._key,cn.none())])}function VP(t,e){const n=or(t.firestore,ws),r=zS(t),s=ib(t.converter,e);return E_(n,[YS(h_(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,cn.exists(!1))]).then((()=>r))}function DP(t,...e){t=Et(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Vd(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Vd(e[r])){const l=e[r];e[r]=l.next?.bind(l),e[r+1]=l.error?.bind(l),e[r+2]=l.complete?.bind(l)}let i,o,c;if(t instanceof We)o=or(t.firestore,ws),c=Kl(t._key.path),i={next:l=>{e[r]&&e[r](ab(o,t,l))},error:e[r+1],complete:e[r+2]};else{const l=or(t,Mn);o=or(l.firestore,ws),c=l._query;const h=new Iu(o);i={next:f=>{e[r]&&e[r](new Mr(o,h,l,f))},error:e[r+1],complete:e[r+2]},__(t._query)}return(function(h,f,p,m){const v=new i_(m),P=new Jg(f,v,p);return h.asyncQueue.enqueueAndForget((async()=>Kg(await hl(h),P))),()=>{v.Nu(),h.asyncQueue.enqueueAndForget((async()=>Qg(await hl(h),P)))}})(du(o),c,s,i)}function E_(t,e){return(function(r,s){const i=new ir;return r.asyncQueue.enqueueAndForget((async()=>DS(await $S(r),s,i))),i.promise})(du(t),e)}function ab(t,e,n){const r=n.docs.get(e._key),s=new Iu(t);return new xr(t,s,e._key,r,new ri(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){bs=s})(Ss),gs(new Fr("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),c=new ws(new Zw(r.getProvider("auth-internal")),new nA(o,r.getProvider("app-check-internal")),(function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new J(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pi(h.options.projectId,f)})(o,s),o);return i={useFetchStreams:n,...i},c._setSettings(i),c}),"PUBLIC").setMultipleInstances(!0)),rr(xf,Mf,e),rr(xf,Mf,"esm2020")})();function v_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cb=v_,T_=new Fi("auth","Firebase",v_());const ta=new Fl("@firebase/auth");function lb(t,...e){ta.logLevel<=me.WARN&&ta.warn(`Auth (${Ss}): ${t}`,...e)}function bo(t,...e){ta.logLevel<=me.ERROR&&ta.error(`Auth (${Ss}): ${t}`,...e)}function mn(t,...e){throw Au(t,...e)}function Wt(t,...e){return Au(t,...e)}function wu(t,e,n){const r={...cb(),[e]:n};return new Fi("auth","Firebase",r).create(e,{appName:t.name})}function cr(t){return wu(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function I_(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&mn(t,"argument-error"),wu(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Au(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return T_.create(t,...e)}function ae(t,e,...n){if(!t)throw Au(e,...n)}function Rn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bo(e),new Error(e)}function On(t,e){t||Rn(e)}function fl(){return typeof self<"u"&&self.location?.href||""}function ub(){return kd()==="http:"||kd()==="https:"}function kd(){return typeof self<"u"&&self.location?.protocol||null}function hb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ub()||CI()||"connection"in navigator)?navigator.onLine:!0}function fb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Gi{constructor(e,n){this.shortDelay=e,this.longDelay=n,On(n>e,"Short delay should be less than long delay!"),this.isMobile=RI()||PI()}get(){return hb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ru(t,e){On(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class w_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const db={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const pb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mb=new Gi(3e4,6e4);function Su(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ds(t,e,n,r,s={}){return A_(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const c=Ui({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:l,...i};return bI()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Rs(t.emulatorConfig.host)&&(h.credentials="include"),w_.fetch()(await R_(t,t.config.apiHost,n,c),h)})}async function A_(t,e,n){t._canInitEmulator=!1;const r={...db,...e};try{const s=new _b(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw po(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const c=i.ok?o.errorMessage:o.error.message,[l,h]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw po(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw po(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw po(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw wu(t,f,h);mn(t,f)}}catch(s){if(s instanceof xn)throw s;mn(t,"network-request-failed",{message:String(s)})}}async function gb(t,e,n,r,s={}){const i=await Ds(t,e,n,r,s);return"mfaPendingCredential"in i&&mn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function R_(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Ru(t.config,s):`${t.config.apiScheme}://${s}`;return pb.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class _b{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wt(this.auth,"network-request-failed")),mb.get())})}}function po(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Wt(t,e,r);return s.customData._tokenResponse=n,s}async function yb(t,e){return Ds(t,"POST","/v1/accounts:delete",e)}async function na(t,e){return Ds(t,"POST","/v1/accounts:lookup",e)}function _i(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Eb(t,e=!1){const n=Et(t),r=await n.getIdToken(e),s=bu(r);ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:_i(Rc(s.auth_time)),issuedAtTime:_i(Rc(s.iat)),expirationTime:_i(Rc(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function Rc(t){return Number(t)*1e3}function bu(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bo("JWT malformed, contained fewer than 3 sections"),null;try{const s=Pm(n);return s?JSON.parse(s):(bo("Failed to decode base64 JWT payload"),null)}catch(s){return bo("Caught error parsing JWT payload as JSON",s?.toString()),null}}function xd(t){const e=bu(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ki(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xn&&vb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function vb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class Tb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class dl{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_i(this.lastLoginAt),this.creationTime=_i(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ra(t){const e=t.auth,n=await t.getIdToken(),r=await ki(t,na(e,{idToken:n}));ae(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=s.providerUserInfo?.length?S_(s.providerUserInfo):[],o=wb(t.providerData,i),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!o?.length,h=c?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new dl(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function Ib(t){const e=Et(t);await ra(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wb(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function S_(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Ab(t,e){const n=await A_(t,{},async()=>{const r=Ui({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await R_(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:c,body:r};return t.emulatorConfig&&Rs(t.emulatorConfig.host)&&(l.credentials="include"),w_.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Rb(t,e){return Ds(t,"POST","/v2/accounts:revokeToken",Su(t,e))}class us{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xd(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=xd(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Ab(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new us;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ae(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ae(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new us,this.toJSON())}_performRefresh(){return Rn("not implemented")}}function Gn(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ht{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new Tb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dl(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ki(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Eb(this,e)}reload(){return Ib(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ht({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ra(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ot(this.auth.app))return Promise.reject(cr(this.auth));const e=await this.getIdToken();return await ki(this,yb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,c=n.tenantId??void 0,l=n._redirectEventId??void 0,h=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:v,providerData:P,stsTokenManager:V}=n;ae(p&&V,e,"internal-error");const k=us.fromJSON(this.name,V);ae(typeof p=="string",e,"internal-error"),Gn(r,e.name),Gn(s,e.name),ae(typeof m=="boolean",e,"internal-error"),ae(typeof v=="boolean",e,"internal-error"),Gn(i,e.name),Gn(o,e.name),Gn(c,e.name),Gn(l,e.name),Gn(h,e.name),Gn(f,e.name);const q=new Ht({uid:p,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:c,stsTokenManager:k,createdAt:h,lastLoginAt:f});return P&&Array.isArray(P)&&(q.providerData=P.map(B=>({...B}))),l&&(q._redirectEventId=l),q}static async _fromIdTokenResponse(e,n,r=!1){const s=new us;s.updateFromServerResponse(n);const i=new Ht({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ra(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ae(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?S_(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,c=new us;c.updateFromIdToken(r);const l=new Ht({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new dl(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(l,h),l}}const Md=new Map;function Sn(t){On(t instanceof Function,"Expected a class definition");let e=Md.get(t);return e?(On(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Md.set(t,e),e)}class b_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}b_.type="NONE";const Ld=b_;function Co(t,e,n){return`firebase:${t}:${e}:${n}`}class hs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Co(this.userKey,s.apiKey,i),this.fullPersistenceKey=Co("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await na(this.auth,{idToken:e}).catch(()=>{});return n?Ht._fromGetAccountInfoResponse(this.auth,n,e):null}return Ht._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new hs(Sn(Ld),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||Sn(Ld);const o=Co(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const f=await h._get(o);if(f){let p;if(typeof f=="string"){const m=await na(e,{idToken:f}).catch(()=>{});if(!m)break;p=await Ht._fromGetAccountInfoResponse(e,m,f)}else p=Ht._fromJSON(e,f);h!==i&&(c=p),i=h;break}}catch{}const l=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new hs(i,e,r):(i=l[0],c&&await i._set(o,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new hs(i,e,r))}}function Fd(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(V_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O_(e))return"Blackberry";if(k_(e))return"Webos";if(P_(e))return"Safari";if((e.includes("chrome/")||N_(e))&&!e.includes("edge/"))return"Chrome";if(D_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function C_(t=dt()){return/firefox\//i.test(t)}function P_(t=dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N_(t=dt()){return/crios\//i.test(t)}function V_(t=dt()){return/iemobile/i.test(t)}function D_(t=dt()){return/android/i.test(t)}function O_(t=dt()){return/blackberry/i.test(t)}function k_(t=dt()){return/webos/i.test(t)}function Cu(t=dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Sb(t=dt()){return Cu(t)&&!!window.navigator?.standalone}function bb(){return NI()&&document.documentMode===10}function x_(t=dt()){return Cu(t)||D_(t)||k_(t)||O_(t)||/windows phone/i.test(t)||V_(t)}function M_(t,e=[]){let n;switch(t){case"Browser":n=Fd(dt());break;case"Worker":n=`${Fd(dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ss}/${r}`}class Cb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,c)=>{try{const l=e(i);o(l)}catch(l){c(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Pb(t,e={}){return Ds(t,"GET","/v2/passwordPolicy",Su(t,e))}const Nb=6;class Vb{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Nb,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Db{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ud(this),this.idTokenSubscription=new Ud(this),this.beforeStateQueue=new Cb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Sn(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await hs.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await na(this,{idToken:e}),r=await Ht._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ot(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!i||i===o)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ra(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ot(this.app))return Promise.reject(cr(this));const n=e?Et(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ot(this.app)?Promise.reject(cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ot(this.app)?Promise.reject(cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Pb(this),n=new Vb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Rb(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Sn(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await hs.create(this,[Sn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(c,this,"internal-error"),c.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ot(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&lb(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Os(t){return Et(t)}class Ud{constructor(e){this.auth=e,this.observer=null,this.addObserver=FI(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ob(t){Pu=t}function kb(t){return Pu.loadJS(t)}function xb(){return Pu.gapiScript}function Mb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Lb(t,e){const n=Bl(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Lr(i,e??{}))return s;mn(s,"already-initialized")}return n.initialize({options:e})}function Fb(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Sn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ub(t,e,n){const r=Os(t);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=L_(e),{host:o,port:c}=Bb(e),l=c===null?"":`:${c}`,h={url:`${i}//${o}${l}/`},f=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(Lr(h,r.config.emulator)&&Lr(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Rs(o)?(Om(`${i}//${o}${l}`),km("Auth",!0)):jb()}function L_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Bb(t){const e=L_(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Bd(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Bd(o)}}}function Bd(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jb(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class F_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rn("not implemented")}_getIdTokenResponse(e){return Rn("not implemented")}_linkToIdToken(e,n){return Rn("not implemented")}_getReauthenticationResolver(e){return Rn("not implemented")}}async function fs(t,e){return gb(t,"POST","/v1/accounts:signInWithIdp",Su(t,e))}const qb="http://localhost";class jr extends F_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new jr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new jr(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return fs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fs(e,n)}buildRequest(){const e={requestUri:qb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ui(n)}return e}}class La{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zi extends La{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Jn extends zi{constructor(){super("facebook.com")}static credential(e){return jr._fromParams({providerId:Jn.PROVIDER_ID,signInMethod:Jn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jn.credentialFromTaggedObject(e)}static credentialFromError(e){return Jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jn.credential(e.oauthAccessToken)}catch{return null}}}Jn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jn.PROVIDER_ID="facebook.com";class An extends zi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return jr._fromParams({providerId:An.PROVIDER_ID,signInMethod:An.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return An.credentialFromTaggedObject(e)}static credentialFromError(e){return An.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return An.credential(n,r)}catch{return null}}}An.GOOGLE_SIGN_IN_METHOD="google.com";An.PROVIDER_ID="google.com";class Xn extends zi{constructor(){super("github.com")}static credential(e){return jr._fromParams({providerId:Xn.PROVIDER_ID,signInMethod:Xn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xn.credentialFromTaggedObject(e)}static credentialFromError(e){return Xn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xn.credential(e.oauthAccessToken)}catch{return null}}}Xn.GITHUB_SIGN_IN_METHOD="github.com";Xn.PROVIDER_ID="github.com";class Yn extends zi{constructor(){super("twitter.com")}static credential(e,n){return jr._fromParams({providerId:Yn.PROVIDER_ID,signInMethod:Yn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yn.credentialFromTaggedObject(e)}static credentialFromError(e){return Yn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Yn.credential(n,r)}catch{return null}}}Yn.TWITTER_SIGN_IN_METHOD="twitter.com";Yn.PROVIDER_ID="twitter.com";class As{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ht._fromIdTokenResponse(e,r,s),o=jd(r);return new As({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=jd(r);return new As({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function jd(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class sa extends xn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,sa.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new sa(e,n,r,s)}}function U_(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?sa._fromErrorAndOperation(t,i,e,r):i})}async function $b(t,e,n=!1){const r=await ki(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return As._forOperation(t,"link",r)}async function Hb(t,e,n=!1){const{auth:r}=t;if(Ot(r.app))return Promise.reject(cr(r));const s="reauthenticate";try{const i=await ki(t,U_(r,s,e,t),n);ae(i.idToken,r,"internal-error");const o=bu(i.idToken);ae(o,r,"internal-error");const{sub:c}=o;return ae(t.uid===c,r,"user-mismatch"),As._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&mn(r,"user-mismatch"),i}}async function Gb(t,e,n=!1){if(Ot(t.app))return Promise.reject(cr(t));const r="signIn",s=await U_(t,r,e),i=await As._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function zb(t,e,n,r){return Et(t).onIdTokenChanged(e,n,r)}function Wb(t,e,n){return Et(t).beforeAuthStateChanged(e,n)}function OP(t,e,n,r){return Et(t).onAuthStateChanged(e,n,r)}function kP(t){return Et(t).signOut()}const ia="__sak";class B_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ia,"1"),this.storage.removeItem(ia),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Kb=1e3,Qb=10;class j_ extends B_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=x_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);bb()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Qb):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Kb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}j_.type="LOCAL";const Jb=j_;class q_ extends B_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}q_.type="SESSION";const $_=q_;function Xb(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Fa{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Fa(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(o).map(async h=>h(n.origin,i)),l=await Xb(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fa.receivers=[];function Nu(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class Yb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((c,l)=>{const h=Nu("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const m=p;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(m.data.response);break;default:clearTimeout(f),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function fn(){return window}function Zb(t){fn().location.href=t}function H_(){return typeof fn().WorkerGlobalScope<"u"&&typeof fn().importScripts=="function"}async function eC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tC(){return navigator?.serviceWorker?.controller||null}function nC(){return H_()?self:null}const G_="firebaseLocalStorageDb",rC=1,oa="firebaseLocalStorage",z_="fbase_key";class Wi{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ua(t,e){return t.transaction([oa],e?"readwrite":"readonly").objectStore(oa)}function sC(){const t=indexedDB.deleteDatabase(G_);return new Wi(t).toPromise()}function pl(){const t=indexedDB.open(G_,rC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(oa,{keyPath:z_})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(oa)?e(r):(r.close(),await sC(),e(await pl()))})})}async function qd(t,e,n){const r=Ua(t,!0).put({[z_]:e,value:n});return new Wi(r).toPromise()}async function iC(t,e){const n=Ua(t,!1).get(e),r=await new Wi(n).toPromise();return r===void 0?null:r.value}function $d(t,e){const n=Ua(t,!0).delete(e);return new Wi(n).toPromise()}const oC=800,aC=3;class W_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pl(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>aC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fa._getInstance(nC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eC(),!this.activeServiceWorker)return;this.sender=new Yb(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pl();return await qd(e,ia,"1"),await $d(e,ia),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qd(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>iC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$d(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Ua(s,!1).getAll();return new Wi(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}W_.type="LOCAL";const cC=W_;new Gi(3e4,6e4);function Vu(t,e){return e?Sn(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Du extends F_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lC(t){return Gb(t.auth,new Du(t),t.bypassAuthState)}function uC(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),Hb(n,new Du(t),t.bypassAuthState)}async function hC(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),$b(n,new Du(t),t.bypassAuthState)}class K_{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:c}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(l))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lC;case"linkViaPopup":case"linkViaRedirect":return hC;case"reauthViaPopup":case"reauthViaRedirect":return uC;default:mn(this.auth,"internal-error")}}resolve(e){On(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){On(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fC=new Gi(2e3,1e4);async function dC(t,e,n){if(Ot(t.app))return Promise.reject(Wt(t,"operation-not-supported-in-this-environment"));const r=Os(t);I_(t,e,La);const s=Vu(r,n);return new Vr(r,"signInViaPopup",e,s).executeNotNull()}class Vr extends K_{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Vr.currentPopupAction&&Vr.currentPopupAction.cancel(),Vr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){On(this.filter.length===1,"Popup operations only handle one event");const e=Nu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fC.get())};e()}}Vr.currentPopupAction=null;const pC="pendingRedirect",Po=new Map;class mC extends K_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Po.get(this.auth._key());if(!e){try{const r=await gC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Po.set(this.auth._key(),e)}return this.bypassAuthState||Po.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gC(t,e){const n=J_(e),r=Q_(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function _C(t,e){return Q_(t)._set(J_(e),"true")}function yC(t,e){Po.set(t._key(),e)}function Q_(t){return Sn(t._redirectPersistence)}function J_(t){return Co(pC,t.config.apiKey,t.name)}function EC(t,e,n){return vC(t,e,n)}async function vC(t,e,n){if(Ot(t.app))return Promise.reject(cr(t));const r=Os(t);I_(t,e,La),await r._initializationPromise;const s=Vu(r,n);return await _C(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function TC(t,e){return await Os(t)._initializationPromise,X_(t,e,!1)}async function X_(t,e,n=!1){if(Ot(t.app))return Promise.reject(cr(t));const r=Os(t),s=Vu(r,e),o=await new mC(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}const IC=600*1e3;class wC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Y_(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Wt(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hd(e))}saveEventToCache(e){this.cachedEventUids.add(Hd(e)),this.lastProcessedEventTime=Date.now()}}function Hd(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Y_({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function AC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y_(t);default:return!1}}async function RC(t,e={}){return Ds(t,"GET","/v1/projects",e)}const SC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bC=/^https?/;async function CC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RC(t);for(const n of e)try{if(PC(n))return}catch{}mn(t,"unauthorized-domain")}function PC(t){const e=fl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!bC.test(n))return!1;if(SC.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const NC=new Gi(3e4,6e4);function Gd(){const t=fn().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VC(t){return new Promise((e,n)=>{function r(){Gd(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gd(),n(Wt(t,"network-request-failed"))},timeout:NC.get()})}if(fn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(fn().gapi?.load)r();else{const s=Mb("iframefcb");return fn()[s]=()=>{gapi.load?r():n(Wt(t,"network-request-failed"))},kb(`${xb()}?onload=${s}`).catch(i=>n(i))}}).catch(e=>{throw No=null,e})}let No=null;function DC(t){return No=No||VC(t),No}const OC=new Gi(5e3,15e3),kC="__/auth/iframe",xC="emulator/auth/iframe",MC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FC(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ru(e,xC):`https://${t.config.authDomain}/${kC}`,r={apiKey:e.apiKey,appName:t.name,v:Ss},s=LC.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ui(r).slice(1)}`}async function UC(t){const e=await DC(t),n=fn().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:FC(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MC,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Wt(t,"network-request-failed"),c=fn().setTimeout(()=>{i(o)},OC.get());function l(){fn().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{i(o)})}))}const BC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jC=500,qC=600,$C="_blank",HC="http://localhost";class zd{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GC(t,e,n,r=jC,s=qC){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l={...BC,width:r.toString(),height:s.toString(),top:i,left:o},h=dt().toLowerCase();n&&(c=N_(h)?$C:n),C_(h)&&(e=e||HC,l.scrollbars="yes");const f=Object.entries(l).reduce((m,[v,P])=>`${m}${v}=${P},`,"");if(Sb(h)&&c!=="_self")return zC(e||"",c),new zd(null);const p=window.open(e||"",c,f);ae(p,t,"popup-blocked");try{p.focus()}catch{}return new zd(p)}function zC(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const WC="__/auth/handler",KC="emulator/auth/handler",QC=encodeURIComponent("fac");async function Wd(t,e,n,r,s,i){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ss,eventId:s};if(e instanceof La){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",LI(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof zi){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const l=await t._getAppCheckToken(),h=l?`#${QC}=${encodeURIComponent(l)}`:"";return`${JC(t)}?${Ui(c).slice(1)}${h}`}function JC({config:t}){return t.emulator?Ru(t,KC):`https://${t.authDomain}/${WC}`}const Sc="webStorageSupport";class XC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$_,this._completeRedirectFn=X_,this._overrideRedirectResult=yC}async _openPopup(e,n,r,s){On(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await Wd(e,n,r,fl(),s);return GC(e,i,Nu())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Wd(e,n,r,fl(),s);return Zb(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(On(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await UC(e),r=new wC(e);return n.register("authEvent",s=>(ae(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sc,{type:Sc},s=>{const i=s?.[0]?.[Sc];i!==void 0&&n(!!i),mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return x_()||P_()||Cu()}}const YC=XC;var Kd="@firebase/auth",Qd="1.12.0";class ZC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function eP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tP(t){gs(new Fr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M_(t)},h=new Db(r,s,i,l);return Fb(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gs(new Fr("auth-internal",e=>{const n=Os(e.getProvider("auth").getImmediate());return(r=>new ZC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(Kd,Qd,eP(t)),rr(Kd,Qd,"esm2020")}const nP=300,rP=Dm("authIdTokenMaxAge")||nP;let Jd=null;const sP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rP)return;const s=n?.token;Jd!==s&&(Jd=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function iP(t=Fm()){const e=Bl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Lb(t,{popupRedirectResolver:YC,persistence:[cC,Jb,$_]}),r=Dm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=sP(i.toString());Wb(n,o,()=>o(n.currentUser)),zb(n,c=>o(c))}}const s=Nm("auth");return s&&Ub(n,`http://${s}`),n}function oP(){return document.getElementsByTagName("head")?.[0]??document}Ob({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Wt("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",oP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tP("Browser");const aP={apiKey:"AIzaSyAnH6OrDHBa-ljtrEpfAmwDzSXZdVqLBzw",authDomain:"taro-test-dc290.firebaseapp.com",projectId:"taro-test-dc290",storageBucket:"taro-test-dc290.firebasestorage.app",messagingSenderId:"561002476888",appId:"1:561002476888:web:8a51ece156741e965a212d",measurementId:"G-7LQTPF9BNL"},Z_=Lm(aP),xP=WS(Z_),bc=iP(Z_),Xd=new An,cP=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},lP={class:"login-container"},uP={__name:"LoginView",setup(t){const e=aI();Nl(async()=>{try{const r=await TC(bc);r&&(console.log(":",r.user.displayName),e.push("/Myhome/List"))}catch(r){console.error(":",r.code)}});const n=async()=>{const r=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);try{r?await EC(bc,Xd):(await dC(bc,Xd),e.push("/Myhome/List"))}catch(s){console.error(s)}};return(r,s)=>(Ol(),cv("div",lP,[s[4]||(s[4]=Tt("div",{class:"brand-section"},[Tt("div",{class:"brand-content"},[Tt("img",{src:hI,alt:"Logo",class:"main-logo"}),Tt("p",{class:"app-slogan"},"")])],-1)),Tt("div",{class:"auth-section"},[Tt("div",{class:"login-card"},[s[1]||(s[1]=Tt("h2",null," ",-1)),s[2]||(s[2]=Tt("p",null," Google ",-1)),Tt("button",{onClick:n,class:"google-login-btn"},[...s[0]||(s[0]=[Tt("img",{src:"https://cdn-icons-png.flaticon.com/512/2991/2991148.png",class:"google-icon"},null,-1),cm("  Google  ",-1)])]),s[3]||(s[3]=Tt("div",{class:"footer-links"},[Tt("span",null,"")],-1))])])]))}},hP=cP(uP,[["__scopeId","data-v-924b61fb"]]),fP=oI({history:UT("/"),routes:[{path:"/",name:"Login",component:hP},{path:"/Myhome",name:"Myhome",component:()=>Ys(()=>import("./MyhomeView-xSh0mGC1.js"),__vite__mapDeps([0,1,2])),children:[{path:"List",name:"List",component:()=>Ys(()=>import("./ListView-C5WjGSe-.js"),__vite__mapDeps([3,4]))},{path:"AddFavory",name:"AddFavory",component:()=>Ys(()=>import("./AddFavoryView-DS5VSpXQ.js"),__vite__mapDeps([5,1,6]))},{path:"category/:catName",name:"CategoryList",component:()=>Ys(()=>import("./ListView-C5WjGSe-.js"),__vite__mapDeps([3,4]))}]},{path:"/Home",name:"Home",component:()=>Ys(()=>import("./HomeView-DmKHyG6X.js"),__vite__mapDeps([7,8]))}]}),ey=Yv(cI);ey.use(fP);ey.mount("#app");export{_o as A,bP as B,NP as C,zS as D,vl as E,jt as F,dP as G,EP as H,vP as I,VP as J,Tl as K,bE as L,jp as M,xl as N,SE as O,qt as P,Rp as Q,Sm as R,go as S,yP as T,CP as U,PP as V,gP as W,cP as _,OP as a,Tt as b,cv as c,At as d,hI as e,_P as f,pP as g,mP as h,bc as i,AP as j,xP as k,SP as l,DP as m,Ol as n,Nl as o,cm as p,RP as q,rE as r,kP as s,xy as t,aI as u,om as v,pE as w,TP as x,kr as y,IP as z};
