import{_ as x,r as t,c as r,b as e,u as i,v as y,e as h,x as C,t as v,y as g,l as w,z as D,i as N,j as A,m as d,d as $}from"./index-DxFbSpjF.js";const B={class:"container"},I={class:"form-card"},M={class:"input-group"},S={class:"upload-section"},T={class:"upload-content"},j={class:"upload-icon"},z={class:"upload-text"},O={key:0,class:"preview-container"},P=["src"],Q={class:"row"},E={class:"input-group half"},L={class:"input-group half"},q={class:"input-group"},G={class:"rating-container"},H={class:"rating-display"},J={class:"stars"},K={class:"rating-number"},R={class:"input-group"},W=["disabled"],X={key:0},Y={key:1},Z="dn6r2yt4y",ee="Favory",se={__name:"addFavory",setup(V){const b=t(!1),n=t(""),l=t(""),_=t("æ¼«ç•«"),m=t("æœªå®Œçµ"),u=t(5),c=t(""),o=t(!1);t([]);const U=async p=>{const s=p.target.files[0];if(!s)return;o.value=!0;const a=new FormData;a.append("file",s),a.append("upload_preset",ee);try{const f=await(await fetch(`https://api.cloudinary.com/v1_1/${Z}/image/upload`,{method:"POST",body:a})).json();f.secure_url&&(l.value=f.secure_url)}catch{alert("åœ–ç‰‡å‚³é€å¤±æ•— Q_Q")}finally{o.value=!1}},F=async()=>{if(!n.value)return alert("è«‹è¼¸å…¥åç¨±ï¼");if(!l.value)return alert("è«‹æŒ‘é¸åœ–ç‰‡ï¼");if(!w.currentUser)return alert("ç™»å…¥å¾Œæ‰èƒ½æ”¶è—å–”ï¼");try{await D(N(A,"myFavoryList"),{name:n.value,image:l.value,category:_.value,status:m.value,rating:u.value,comment:c.value,uid:w.currentUser.uid,createdAt:new Date}),n.value="",l.value="",c.value="",b.value=!1}catch(p){console.error(p)}};return(p,s)=>(d(),r("div",B,[e("div",I,[e("div",M,[s[6]||(s[6]=e("label",{class:"label"},"ä½œå“åç¨±",-1)),i(e("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>n.value=a),class:"cute-input",placeholder:"è¼¸å…¥ä½ å–œæ­¡çš„ä½œå“..."},null,512),[[y,n.value]])]),e("div",S,[s[8]||(s[8]=e("label",{class:"label"},"å°é¢åœ–ç‰‡",-1)),e("label",{class:C(["cute-upload-btn",{uploading:o.value}])},[e("input",{type:"file",onChange:U,accept:"image/*"},null,32),e("div",T,[e("span",j,v(o.value?"ðŸª„":"ðŸ“·"),1),e("span",z,v(o.value?"é­”æ³•å‚³é€ä¸­...":"é»žæ“Šä¸Šå‚³åœ–ç‰‡"),1)])],2),l.value?(d(),r("div",O,[e("img",{src:l.value,class:"cute-preview"},null,8,P),e("button",{onClick:s[1]||(s[1]=a=>l.value=""),class:"remove-btn"},[...s[7]||(s[7]=[e("span",null,"Ã—",-1)])])])):h("",!0)]),e("div",Q,[e("div",E,[s[10]||(s[10]=e("label",{class:"label"},"åˆ†é¡ž",-1)),i(e("select",{"onUpdate:modelValue":s[2]||(s[2]=a=>_.value=a),class:"cute-select"},[...s[9]||(s[9]=[e("option",{value:"æ¼«ç•«"},"ðŸ“– æ¼«ç•«",-1),e("option",{value:"å‹•æ¼«"},"ðŸ“º å‹•æ¼«",-1)])],512),[[g,_.value]])]),e("div",L,[s[12]||(s[12]=e("label",{class:"label"},"ç‹€æ…‹",-1)),i(e("select",{"onUpdate:modelValue":s[3]||(s[3]=a=>m.value=a),class:"cute-select"},[...s[11]||(s[11]=[e("option",{value:"å®Œçµ"},"âœ… å®Œçµ",-1),e("option",{value:"æœªå®Œçµ"},"â³ æœªå®Œçµ",-1)])],512),[[g,m.value]])])]),e("div",q,[s[13]||(s[13]=e("label",{class:"label"},"æˆ‘çš„è©•åˆ†",-1)),e("div",G,[i(e("input",{type:"range","onUpdate:modelValue":s[4]||(s[4]=a=>u.value=a),min:"1",max:"5",class:"rating-slider"},null,512),[[y,u.value]]),e("div",H,[e("span",J,v("â­".repeat(u.value)),1),e("span",K,v(u.value)+"/5",1)])])]),e("div",R,[s[14]||(s[14]=e("label",{class:"label"},"å¿ƒå¾—ç­†è¨˜",-1)),i(e("textarea",{"onUpdate:modelValue":s[5]||(s[5]=a=>c.value=a),class:"cute-textarea",placeholder:"å¯«ä¸‹ä½ çš„æƒ³æ³•..."},null,512),[[y,c.value]])]),e("button",{onClick:F,class:"submit-btn",disabled:o.value},[o.value?(d(),r("span",Y,"â³ è™•ç†ä¸­...")):(d(),r("span",X,"ðŸ’ åŠ å…¥æ”¶è—"))],8,W)])]))}},ae=x(se,[["__scopeId","data-v-8fa4c32d"]]),te={class:"page"},le={__name:"AddFavoryView",setup(V){return(b,n)=>(d(),r("div",te,[$(ae)]))}},ne=x(le,[["__scopeId","data-v-44dcb855"]]);export{ne as default};
