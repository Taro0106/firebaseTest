const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AboutView-CAdJsVdD.js","assets/AboutView-BYKu7pI_.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function rl(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const St={},Cr=[],We=()=>{},rf=()=>!1,ao=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),sl=e=>e.startsWith("onUpdate:"),ue=Object.assign,il=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Fm=Object.prototype.hasOwnProperty,At=(e,t)=>Fm.call(e,t),it=Array.isArray,Pr=e=>Js(e)==="[object Map]",lo=e=>Js(e)==="[object Set]",Qc=e=>Js(e)==="[object Date]",ct=e=>typeof e=="function",qt=e=>typeof e=="string",tn=e=>typeof e=="symbol",Ct=e=>e!==null&&typeof e=="object",sf=e=>(Ct(e)||ct(e))&&ct(e.then)&&ct(e.catch),of=Object.prototype.toString,Js=e=>of.call(e),Um=e=>Js(e).slice(8,-1),af=e=>Js(e)==="[object Object]",ol=e=>qt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Is=rl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),co=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},Bm=/-\w/g,Ln=co(e=>e.replace(Bm,t=>t.slice(1).toUpperCase())),jm=/\B([A-Z])/g,Gn=co(e=>e.replace(jm,"-$1").toLowerCase()),lf=co(e=>e.charAt(0).toUpperCase()+e.slice(1)),Qo=co(e=>e?`on${lf(e)}`:""),Nn=(e,t)=>!Object.is(e,t),wi=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},cf=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},uo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Xc;const ho=()=>Xc||(Xc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function al(e){if(it(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=qt(r)?Gm(r):al(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(qt(e)||Ct(e))return e}const qm=/;(?![^(]*\))/g,$m=/:([^]+)/,Hm=/\/\*[^]*?\*\//g;function Gm(e){const t={};return e.replace(Hm,"").split(qm).forEach(n=>{if(n){const r=n.split($m);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function ll(e){let t="";if(qt(e))t=e;else if(it(e))for(let n=0;n<e.length;n++){const r=ll(e[n]);r&&(t+=r+" ")}else if(Ct(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const zm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Km=rl(zm);function uf(e){return!!e||e===""}function Wm(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=fo(e[r],t[r]);return n}function fo(e,t){if(e===t)return!0;let n=Qc(e),r=Qc(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=tn(e),r=tn(t),n||r)return e===t;if(n=it(e),r=it(t),n||r)return n&&r?Wm(e,t):!1;if(n=Ct(e),r=Ct(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const a in e){const l=e.hasOwnProperty(a),c=t.hasOwnProperty(a);if(l&&!c||!l&&c||!fo(e[a],t[a]))return!1}}return String(e)===String(t)}function Qm(e,t){return e.findIndex(n=>fo(n,t))}const hf=e=>!!(e&&e.__v_isRef===!0),Mi=e=>qt(e)?e:e==null?"":it(e)||Ct(e)&&(e.toString===of||!ct(e.toString))?hf(e)?Mi(e.value):JSON.stringify(e,ff,2):String(e),ff=(e,t)=>hf(t)?ff(e,t.value):Pr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[Xo(r,i)+" =>"]=s,n),{})}:lo(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Xo(n))}:tn(t)?Xo(t):Ct(t)&&!it(t)&&!af(t)?String(t):t,Xo=(e,t="")=>{var n;return tn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let ye;class Xm{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ye,!t&&ye&&(this.index=(ye.scopes||(ye.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ye;try{return ye=this,t()}finally{ye=n}}}on(){++this._on===1&&(this.prevScope=ye,ye=this)}off(){this._on>0&&--this._on===0&&(ye=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Ym(){return ye}let Pt;const Yo=new WeakSet;class df{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ye&&ye.active&&ye.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Yo.has(this)&&(Yo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||mf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Yc(this),gf(this);const t=Pt,n=Le;Pt=this,Le=!0;try{return this.fn()}finally{_f(this),Pt=t,Le=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)hl(t);this.deps=this.depsTail=void 0,Yc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Yo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ya(this)&&this.run()}get dirty(){return ya(this)}}let pf=0,As,ws;function mf(e,t=!1){if(e.flags|=8,t){e.next=ws,ws=e;return}e.next=As,As=e}function cl(){pf++}function ul(){if(--pf>0)return;if(ws){let t=ws;for(ws=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;As;){let t=As;for(As=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function gf(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function _f(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),hl(r),Jm(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function ya(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(yf(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function yf(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ms)||(e.globalVersion=Ms,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ya(e))))return;e.flags|=2;const t=e.dep,n=Pt,r=Le;Pt=e,Le=!0;try{gf(e);const s=e.fn(e._value);(t.version===0||Nn(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Pt=n,Le=r,_f(e),e.flags&=-3}}function hl(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)hl(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Jm(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Le=!0;const Ef=[];function dn(){Ef.push(Le),Le=!1}function pn(){const e=Ef.pop();Le=e===void 0?!0:e}function Yc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Pt;Pt=void 0;try{t()}finally{Pt=n}}}let Ms=0;class Zm{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class fl{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Pt||!Le||Pt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Pt)n=this.activeLink=new Zm(Pt,this),Pt.deps?(n.prevDep=Pt.depsTail,Pt.depsTail.nextDep=n,Pt.depsTail=n):Pt.deps=Pt.depsTail=n,vf(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Pt.depsTail,n.nextDep=void 0,Pt.depsTail.nextDep=n,Pt.depsTail=n,Pt.deps===n&&(Pt.deps=r)}return n}trigger(t){this.version++,Ms++,this.notify(t)}notify(t){cl();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ul()}}}function vf(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)vf(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Ea=new WeakMap,sr=Symbol(""),va=Symbol(""),ks=Symbol("");function ae(e,t,n){if(Le&&Pt){let r=Ea.get(e);r||Ea.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new fl),s.map=r,s.key=n),s.track()}}function ln(e,t,n,r,s,i){const a=Ea.get(e);if(!a){Ms++;return}const l=c=>{c&&c.trigger()};if(cl(),t==="clear")a.forEach(l);else{const c=it(e),h=c&&ol(n);if(c&&n==="length"){const d=Number(r);a.forEach((p,g)=>{(g==="length"||g===ks||!tn(g)&&g>=d)&&l(p)})}else switch((n!==void 0||a.has(void 0))&&l(a.get(n)),h&&l(a.get(ks)),t){case"add":c?h&&l(a.get("length")):(l(a.get(sr)),Pr(e)&&l(a.get(va)));break;case"delete":c||(l(a.get(sr)),Pr(e)&&l(a.get(va)));break;case"set":Pr(e)&&l(a.get(sr));break}}ul()}function Tr(e){const t=It(e);return t===e?t:(ae(t,"iterate",ks),Ve(e)?t:t.map(Fe))}function po(e){return ae(e=It(e),"iterate",ks),e}function Sn(e,t){return mn(e)?ir(e)?Lr(Fe(t)):Lr(t):Fe(t)}const tg={__proto__:null,[Symbol.iterator](){return Jo(this,Symbol.iterator,e=>Sn(this,e))},concat(...e){return Tr(this).concat(...e.map(t=>it(t)?Tr(t):t))},entries(){return Jo(this,"entries",e=>(e[1]=Sn(this,e[1]),e))},every(e,t){return sn(this,"every",e,t,void 0,arguments)},filter(e,t){return sn(this,"filter",e,t,n=>n.map(r=>Sn(this,r)),arguments)},find(e,t){return sn(this,"find",e,t,n=>Sn(this,n),arguments)},findIndex(e,t){return sn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return sn(this,"findLast",e,t,n=>Sn(this,n),arguments)},findLastIndex(e,t){return sn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return sn(this,"forEach",e,t,void 0,arguments)},includes(...e){return Zo(this,"includes",e)},indexOf(...e){return Zo(this,"indexOf",e)},join(e){return Tr(this).join(e)},lastIndexOf(...e){return Zo(this,"lastIndexOf",e)},map(e,t){return sn(this,"map",e,t,void 0,arguments)},pop(){return ps(this,"pop")},push(...e){return ps(this,"push",e)},reduce(e,...t){return Jc(this,"reduce",e,t)},reduceRight(e,...t){return Jc(this,"reduceRight",e,t)},shift(){return ps(this,"shift")},some(e,t){return sn(this,"some",e,t,void 0,arguments)},splice(...e){return ps(this,"splice",e)},toReversed(){return Tr(this).toReversed()},toSorted(e){return Tr(this).toSorted(e)},toSpliced(...e){return Tr(this).toSpliced(...e)},unshift(...e){return ps(this,"unshift",e)},values(){return Jo(this,"values",e=>Sn(this,e))}};function Jo(e,t,n){const r=po(e),s=r[t]();return r!==e&&!Ve(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const eg=Array.prototype;function sn(e,t,n,r,s,i){const a=po(e),l=a!==e&&!Ve(e),c=a[t];if(c!==eg[t]){const p=c.apply(e,i);return l?Fe(p):p}let h=n;a!==e&&(l?h=function(p,g){return n.call(this,Sn(e,p),g,e)}:n.length>2&&(h=function(p,g){return n.call(this,p,g,e)}));const d=c.call(a,h,r);return l&&s?s(d):d}function Jc(e,t,n,r){const s=po(e);let i=n;return s!==e&&(Ve(e)?n.length>3&&(i=function(a,l,c){return n.call(this,a,l,c,e)}):i=function(a,l,c){return n.call(this,a,Sn(e,l),c,e)}),s[t](i,...r)}function Zo(e,t,n){const r=It(e);ae(r,"iterate",ks);const s=r[t](...n);return(s===-1||s===!1)&&ml(n[0])?(n[0]=It(n[0]),r[t](...n)):s}function ps(e,t,n=[]){dn(),cl();const r=It(e)[t].apply(e,n);return ul(),pn(),r}const ng=rl("__proto__,__v_isRef,__isVue"),Tf=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(tn));function rg(e){tn(e)||(e=String(e));const t=It(this);return ae(t,"has",e),t.hasOwnProperty(e)}class If{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?dg:bf:i?Rf:wf).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=it(t);if(!s){let c;if(a&&(c=tg[n]))return c;if(n==="hasOwnProperty")return rg}const l=Reflect.get(t,n,ce(t)?t:r);if((tn(n)?Tf.has(n):ng(n))||(s||ae(t,"get",n),i))return l;if(ce(l)){const c=a&&ol(n)?l:l.value;return s&&Ct(c)?Ia(c):c}return Ct(l)?s?Ia(l):mo(l):l}}class Af extends If{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];const a=it(t)&&ol(n);if(!this._isShallow){const h=mn(i);if(!Ve(r)&&!mn(r)&&(i=It(i),r=It(r)),!a&&ce(i)&&!ce(r))return h||(i.value=r),!0}const l=a?Number(n)<t.length:At(t,n),c=Reflect.set(t,n,r,ce(t)?t:s);return t===It(s)&&(l?Nn(r,i)&&ln(t,"set",n,r):ln(t,"add",n,r)),c}deleteProperty(t,n){const r=At(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&ln(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!tn(n)||!Tf.has(n))&&ae(t,"has",n),r}ownKeys(t){return ae(t,"iterate",it(t)?"length":sr),Reflect.ownKeys(t)}}class sg extends If{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const ig=new Af,og=new sg,ag=new Af(!0);const Ta=e=>e,gi=e=>Reflect.getPrototypeOf(e);function lg(e,t,n){return function(...r){const s=this.__v_raw,i=It(s),a=Pr(i),l=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,h=s[e](...r),d=n?Ta:t?Lr:Fe;return!t&&ae(i,"iterate",c?va:sr),{next(){const{value:p,done:g}=h.next();return g?{value:p,done:g}:{value:l?[d(p[0]),d(p[1])]:d(p),done:g}},[Symbol.iterator](){return this}}}}function _i(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function cg(e,t){const n={get(s){const i=this.__v_raw,a=It(i),l=It(s);e||(Nn(s,l)&&ae(a,"get",s),ae(a,"get",l));const{has:c}=gi(a),h=t?Ta:e?Lr:Fe;if(c.call(a,s))return h(i.get(s));if(c.call(a,l))return h(i.get(l));i!==a&&i.get(s)},get size(){const s=this.__v_raw;return!e&&ae(It(s),"iterate",sr),s.size},has(s){const i=this.__v_raw,a=It(i),l=It(s);return e||(Nn(s,l)&&ae(a,"has",s),ae(a,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const a=this,l=a.__v_raw,c=It(l),h=t?Ta:e?Lr:Fe;return!e&&ae(c,"iterate",sr),l.forEach((d,p)=>s.call(i,h(d),h(p),a))}};return ue(n,e?{add:_i("add"),set:_i("set"),delete:_i("delete"),clear:_i("clear")}:{add(s){!t&&!Ve(s)&&!mn(s)&&(s=It(s));const i=It(this);return gi(i).has.call(i,s)||(i.add(s),ln(i,"add",s,s)),this},set(s,i){!t&&!Ve(i)&&!mn(i)&&(i=It(i));const a=It(this),{has:l,get:c}=gi(a);let h=l.call(a,s);h||(s=It(s),h=l.call(a,s));const d=c.call(a,s);return a.set(s,i),h?Nn(i,d)&&ln(a,"set",s,i):ln(a,"add",s,i),this},delete(s){const i=It(this),{has:a,get:l}=gi(i);let c=a.call(i,s);c||(s=It(s),c=a.call(i,s)),l&&l.call(i,s);const h=i.delete(s);return c&&ln(i,"delete",s,void 0),h},clear(){const s=It(this),i=s.size!==0,a=s.clear();return i&&ln(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=lg(s,e,t)}),n}function dl(e,t){const n=cg(e,t);return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(At(n,s)&&s in r?n:r,s,i)}const ug={get:dl(!1,!1)},hg={get:dl(!1,!0)},fg={get:dl(!0,!1)};const wf=new WeakMap,Rf=new WeakMap,bf=new WeakMap,dg=new WeakMap;function pg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function mg(e){return e.__v_skip||!Object.isExtensible(e)?0:pg(Um(e))}function mo(e){return mn(e)?e:pl(e,!1,ig,ug,wf)}function Sf(e){return pl(e,!1,ag,hg,Rf)}function Ia(e){return pl(e,!0,og,fg,bf)}function pl(e,t,n,r,s){if(!Ct(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=mg(e);if(i===0)return e;const a=s.get(e);if(a)return a;const l=new Proxy(e,i===2?r:n);return s.set(e,l),l}function ir(e){return mn(e)?ir(e.__v_raw):!!(e&&e.__v_isReactive)}function mn(e){return!!(e&&e.__v_isReadonly)}function Ve(e){return!!(e&&e.__v_isShallow)}function ml(e){return e?!!e.__v_raw:!1}function It(e){const t=e&&e.__v_raw;return t?It(t):e}function gg(e){return!At(e,"__v_skip")&&Object.isExtensible(e)&&cf(e,"__v_skip",!0),e}const Fe=e=>Ct(e)?mo(e):e,Lr=e=>Ct(e)?Ia(e):e;function ce(e){return e?e.__v_isRef===!0:!1}function Ls(e){return Cf(e,!1)}function _g(e){return Cf(e,!0)}function Cf(e,t){return ce(e)?e:new yg(e,t)}class yg{constructor(t,n){this.dep=new fl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:It(t),this._value=n?t:Fe(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Ve(t)||mn(t);t=r?t:It(t),Nn(t,n)&&(this._rawValue=t,this._value=r?t:Fe(t),this.dep.trigger())}}function un(e){return ce(e)?e.value:e}const Eg={get:(e,t,n)=>t==="__v_raw"?e:un(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return ce(s)&&!ce(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function Pf(e){return ir(e)?e:new Proxy(e,Eg)}class vg{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new fl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ms-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Pt!==this)return mf(this,!0),!0}get value(){const t=this.dep.track();return yf(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Tg(e,t,n=!1){let r,s;return ct(e)?r=e:(r=e.get,s=e.set),new vg(r,s,n)}const yi={},ki=new WeakMap;let Zn;function Ig(e,t=!1,n=Zn){if(n){let r=ki.get(n);r||ki.set(n,r=[]),r.push(e)}}function Ag(e,t,n=St){const{immediate:r,deep:s,once:i,scheduler:a,augmentJob:l,call:c}=n,h=W=>s?W:Ve(W)||s===!1||s===0?cn(W,1):cn(W);let d,p,g,v,V=!1,x=!1;if(ce(e)?(p=()=>e.value,V=Ve(e)):ir(e)?(p=()=>h(e),V=!0):it(e)?(x=!0,V=e.some(W=>ir(W)||Ve(W)),p=()=>e.map(W=>{if(ce(W))return W.value;if(ir(W))return h(W);if(ct(W))return c?c(W,2):W()})):ct(e)?t?p=c?()=>c(e,2):e:p=()=>{if(g){dn();try{g()}finally{pn()}}const W=Zn;Zn=d;try{return c?c(e,3,[v]):e(v)}finally{Zn=W}}:p=We,t&&s){const W=p,lt=s===!0?1/0:s;p=()=>cn(W(),lt)}const L=Ym(),$=()=>{d.stop(),L&&L.active&&il(L.effects,d)};if(i&&t){const W=t;t=(...lt)=>{W(...lt),$()}}let q=x?new Array(e.length).fill(yi):yi;const H=W=>{if(!(!(d.flags&1)||!d.dirty&&!W))if(t){const lt=d.run();if(s||V||(x?lt.some((ft,A)=>Nn(ft,q[A])):Nn(lt,q))){g&&g();const ft=Zn;Zn=d;try{const A=[lt,q===yi?void 0:x&&q[0]===yi?[]:q,v];q=lt,c?c(t,3,A):t(...A)}finally{Zn=ft}}}else d.run()};return l&&l(H),d=new df(p),d.scheduler=a?()=>a(H,!1):H,v=W=>Ig(W,!1,d),g=d.onStop=()=>{const W=ki.get(d);if(W){if(c)c(W,4);else for(const lt of W)lt();ki.delete(d)}},t?r?H(!0):q=d.run():a?a(H.bind(null,!0),!0):d.run(),$.pause=d.pause.bind(d),$.resume=d.resume.bind(d),$.stop=$,$}function cn(e,t=1/0,n){if(t<=0||!Ct(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,ce(e))cn(e.value,t,n);else if(it(e))for(let r=0;r<e.length;r++)cn(e[r],t,n);else if(lo(e)||Pr(e))e.forEach(r=>{cn(r,t,n)});else if(af(e)){for(const r in e)cn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&cn(e[r],t,n)}return e}function Zs(e,t,n,r){try{return r?e(...r):e()}catch(s){go(s,t,n)}}function en(e,t,n,r){if(ct(e)){const s=Zs(e,t,n,r);return s&&sf(s)&&s.catch(i=>{go(i,t,n)}),s}if(it(e)){const s=[];for(let i=0;i<e.length;i++)s.push(en(e[i],t,n,r));return s}}function go(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||St;if(t){let l=t.parent;const c=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const d=l.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,c,h)===!1)return}l=l.parent}if(i){dn(),Zs(i,null,10,[e,c,h]),pn();return}}wg(e,n,s,r,a)}function wg(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const pe=[];let Ge=-1;const Vr=[];let Cn=null,Ir=0;const Vf=Promise.resolve();let Li=null;function gl(e){const t=Li||Vf;return e?t.then(this?e.bind(this):e):t}function Rg(e){let t=Ge+1,n=pe.length;for(;t<n;){const r=t+n>>>1,s=pe[r],i=Fs(s);i<e||i===e&&s.flags&2?t=r+1:n=r}return t}function _l(e){if(!(e.flags&1)){const t=Fs(e),n=pe[pe.length-1];!n||!(e.flags&2)&&t>=Fs(n)?pe.push(e):pe.splice(Rg(t),0,e),e.flags|=1,Df()}}function Df(){Li||(Li=Vf.then(xf))}function bg(e){it(e)?Vr.push(...e):Cn&&e.id===-1?Cn.splice(Ir+1,0,e):e.flags&1||(Vr.push(e),e.flags|=1),Df()}function Zc(e,t,n=Ge+1){for(;n<pe.length;n++){const r=pe[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;pe.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Nf(e){if(Vr.length){const t=[...new Set(Vr)].sort((n,r)=>Fs(n)-Fs(r));if(Vr.length=0,Cn){Cn.push(...t);return}for(Cn=t,Ir=0;Ir<Cn.length;Ir++){const n=Cn[Ir];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Cn=null,Ir=0}}const Fs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function xf(e){try{for(Ge=0;Ge<pe.length;Ge++){const t=pe[Ge];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Zs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ge<pe.length;Ge++){const t=pe[Ge];t&&(t.flags&=-2)}Ge=-1,pe.length=0,Nf(),Li=null,(pe.length||Vr.length)&&xf()}}let Pe=null,Of=null;function Fi(e){const t=Pe;return Pe=e,Of=e&&e.type.__scopeId||null,t}function Aa(e,t=Pe,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&ji(-1);const i=Fi(t);let a;try{a=e(...s)}finally{Fi(i),r._d&&ji(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Sg(e,t){if(Pe===null)return e;const n=vo(Pe),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,a,l,c=St]=t[s];i&&(ct(i)&&(i={mounted:i,updated:i}),i.deep&&cn(a),r.push({dir:i,instance:n,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function Yn(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let a=0;a<s.length;a++){const l=s[a];i&&(l.oldValue=i[a].value);let c=l.dir[r];c&&(dn(),en(c,n,8,[e.el,l,e,t]),pn())}}function Ri(e,t){if(me){let n=me.provides;const r=me.parent&&me.parent.provides;r===n&&(n=me.provides=Object.create(r)),n[e]=t}}function hn(e,t,n=!1){const r=R_();if(r||Dr){let s=Dr?Dr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&ct(t)?t.call(r&&r.proxy):t}}const Cg=Symbol.for("v-scx"),Pg=()=>hn(Cg);function bi(e,t,n){return Mf(e,t,n)}function Mf(e,t,n=St){const{immediate:r,deep:s,flush:i,once:a}=n,l=ue({},n),c=t&&r||!t&&i!=="post";let h;if(Bs){if(i==="sync"){const v=Pg();h=v.__watcherHandles||(v.__watcherHandles=[])}else if(!c){const v=()=>{};return v.stop=We,v.resume=We,v.pause=We,v}}const d=me;l.call=(v,V,x)=>en(v,d,V,x);let p=!1;i==="post"?l.scheduler=v=>{we(v,d&&d.suspense)}:i!=="sync"&&(p=!0,l.scheduler=(v,V)=>{V?v():_l(v)}),l.augmentJob=v=>{t&&(v.flags|=4),p&&(v.flags|=2,d&&(v.id=d.uid,v.i=d))};const g=Ag(e,t,l);return Bs&&(h?h.push(g):c&&g()),g}function Vg(e,t,n){const r=this.proxy,s=qt(e)?e.includes(".")?kf(r,e):()=>r[e]:e.bind(r,r);let i;ct(t)?i=t:(i=t.handler,n=t);const a=ti(this),l=Mf(s,i.bind(r),n);return a(),l}function kf(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Dg=Symbol("_vte"),Ng=e=>e.__isTeleport,xg=Symbol("_leaveCb");function yl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,yl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Lf(e,t){return ct(e)?ue({name:e.name},t,{setup:e}):e}function Ff(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Ui=new WeakMap;function Rs(e,t,n,r,s=!1){if(it(e)){e.forEach((V,x)=>Rs(V,t&&(it(t)?t[x]:t),n,r,s));return}if(bs(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Rs(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?vo(r.component):r.el,a=s?null:i,{i:l,r:c}=e,h=t&&t.r,d=l.refs===St?l.refs={}:l.refs,p=l.setupState,g=It(p),v=p===St?rf:V=>At(g,V);if(h!=null&&h!==c){if(tu(t),qt(h))d[h]=null,v(h)&&(p[h]=null);else if(ce(h)){h.value=null;const V=t;V.k&&(d[V.k]=null)}}if(ct(c))Zs(c,l,12,[a,d]);else{const V=qt(c),x=ce(c);if(V||x){const L=()=>{if(e.f){const $=V?v(c)?p[c]:d[c]:c.value;if(s)it($)&&il($,i);else if(it($))$.includes(i)||$.push(i);else if(V)d[c]=[i],v(c)&&(p[c]=d[c]);else{const q=[i];c.value=q,e.k&&(d[e.k]=q)}}else V?(d[c]=a,v(c)&&(p[c]=a)):x&&(c.value=a,e.k&&(d[e.k]=a))};if(a){const $=()=>{L(),Ui.delete(e)};$.id=-1,Ui.set(e,$),we($,n)}else tu(e),L()}}}function tu(e){const t=Ui.get(e);t&&(t.flags|=8,Ui.delete(e))}ho().requestIdleCallback;ho().cancelIdleCallback;const bs=e=>!!e.type.__asyncLoader,Uf=e=>e.type.__isKeepAlive;function Og(e,t){Bf(e,"a",t)}function Mg(e,t){Bf(e,"da",t)}function Bf(e,t,n=me){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(_o(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Uf(s.parent.vnode)&&kg(r,t,n,s),s=s.parent}}function kg(e,t,n,r){const s=_o(t,e,r,!0);qf(()=>{il(r[t],s)},n)}function _o(e,t,n=me,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...a)=>{dn();const l=ti(n),c=en(t,n,e,a);return l(),pn(),c});return r?s.unshift(i):s.push(i),i}}const En=e=>(t,n=me)=>{(!Bs||e==="sp")&&_o(e,(...r)=>t(...r),n)},Lg=En("bm"),jf=En("m"),Fg=En("bu"),Ug=En("u"),Bg=En("bum"),qf=En("um"),jg=En("sp"),qg=En("rtg"),$g=En("rtc");function Hg(e,t=me){_o("ec",e,t)}const Gg=Symbol.for("v-ndc");function $f(e,t,n,r){let s;const i=n,a=it(e);if(a||qt(e)){const l=a&&ir(e);let c=!1,h=!1;l&&(c=!Ve(e),h=mn(e),e=po(e)),s=new Array(e.length);for(let d=0,p=e.length;d<p;d++)s[d]=t(c?h?Lr(Fe(e[d])):Fe(e[d]):e[d],d,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let l=0;l<e;l++)s[l]=t(l+1,l,void 0,i)}else if(Ct(e))if(e[Symbol.iterator])s=Array.from(e,(l,c)=>t(l,c,void 0,i));else{const l=Object.keys(e);s=new Array(l.length);for(let c=0,h=l.length;c<h;c++){const d=l[c];s[c]=t(e[d],d,c,i)}}else s=[];return s}const wa=e=>e?ud(e)?vo(e):wa(e.parent):null,Ss=ue(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>wa(e.parent),$root:e=>wa(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Gf(e),$forceUpdate:e=>e.f||(e.f=()=>{_l(e.update)}),$nextTick:e=>e.n||(e.n=gl.bind(e.proxy)),$watch:e=>Vg.bind(e)}),ta=(e,t)=>e!==St&&!e.__isScriptSetup&&At(e,t),zg={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:a,type:l,appContext:c}=e;if(t[0]!=="$"){const g=a[t];if(g!==void 0)switch(g){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(ta(r,t))return a[t]=1,r[t];if(s!==St&&At(s,t))return a[t]=2,s[t];if(At(i,t))return a[t]=3,i[t];if(n!==St&&At(n,t))return a[t]=4,n[t];Ra&&(a[t]=0)}}const h=Ss[t];let d,p;if(h)return t==="$attrs"&&ae(e.attrs,"get",""),h(e);if((d=l.__cssModules)&&(d=d[t]))return d;if(n!==St&&At(n,t))return a[t]=4,n[t];if(p=c.config.globalProperties,At(p,t))return p[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return ta(s,t)?(s[t]=n,!0):r!==St&&At(r,t)?(r[t]=n,!0):At(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,props:i,type:a}},l){let c;return!!(n[l]||e!==St&&l[0]!=="$"&&At(e,l)||ta(t,l)||At(i,l)||At(r,l)||At(Ss,l)||At(s.config.globalProperties,l)||(c=a.__cssModules)&&c[l])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:At(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function eu(e){return it(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ra=!0;function Kg(e){const t=Gf(e),n=e.proxy,r=e.ctx;Ra=!1,t.beforeCreate&&nu(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:a,watch:l,provide:c,inject:h,created:d,beforeMount:p,mounted:g,beforeUpdate:v,updated:V,activated:x,deactivated:L,beforeDestroy:$,beforeUnmount:q,destroyed:H,unmounted:W,render:lt,renderTracked:ft,renderTriggered:A,errorCaptured:y,serverPrefetch:I,expose:R,inheritAttrs:w,components:S,directives:E,filters:Lt}=t;if(h&&Wg(h,r,null),a)for(const vt in a){const gt=a[vt];ct(gt)&&(r[vt]=gt.bind(n))}if(s){const vt=s.call(n,n);Ct(vt)&&(e.data=mo(vt))}if(Ra=!0,i)for(const vt in i){const gt=i[vt],_e=ct(gt)?gt.bind(n,n):ct(gt.get)?gt.get.bind(n,n):We,je=!ct(gt)&&ct(gt.set)?gt.set.bind(n):We,ve=Oe({get:_e,set:je});Object.defineProperty(r,vt,{enumerable:!0,configurable:!0,get:()=>ve.value,set:Xt=>ve.value=Xt})}if(l)for(const vt in l)Hf(l[vt],r,n,vt);if(c){const vt=ct(c)?c.call(n):c;Reflect.ownKeys(vt).forEach(gt=>{Ri(gt,vt[gt])})}d&&nu(d,e,"c");function Ft(vt,gt){it(gt)?gt.forEach(_e=>vt(_e.bind(n))):gt&&vt(gt.bind(n))}if(Ft(Lg,p),Ft(jf,g),Ft(Fg,v),Ft(Ug,V),Ft(Og,x),Ft(Mg,L),Ft(Hg,y),Ft($g,ft),Ft(qg,A),Ft(Bg,q),Ft(qf,W),Ft(jg,I),it(R))if(R.length){const vt=e.exposed||(e.exposed={});R.forEach(gt=>{Object.defineProperty(vt,gt,{get:()=>n[gt],set:_e=>n[gt]=_e,enumerable:!0})})}else e.exposed||(e.exposed={});lt&&e.render===We&&(e.render=lt),w!=null&&(e.inheritAttrs=w),S&&(e.components=S),E&&(e.directives=E),I&&Ff(e)}function Wg(e,t,n=We){it(e)&&(e=ba(e));for(const r in e){const s=e[r];let i;Ct(s)?"default"in s?i=hn(s.from||r,s.default,!0):i=hn(s.from||r):i=hn(s),ce(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[r]=i}}function nu(e,t,n){en(it(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Hf(e,t,n,r){let s=r.includes(".")?kf(n,r):()=>n[r];if(qt(e)){const i=t[e];ct(i)&&bi(s,i)}else if(ct(e))bi(s,e.bind(n));else if(Ct(e))if(it(e))e.forEach(i=>Hf(i,t,n,r));else{const i=ct(e.handler)?e.handler.bind(n):t[e.handler];ct(i)&&bi(s,i,e)}}function Gf(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,l=i.get(t);let c;return l?c=l:!s.length&&!n&&!r?c=t:(c={},s.length&&s.forEach(h=>Bi(c,h,a,!0)),Bi(c,t,a)),Ct(t)&&i.set(t,c),c}function Bi(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Bi(e,i,n,!0),s&&s.forEach(a=>Bi(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const l=Qg[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const Qg={data:ru,props:su,emits:su,methods:_s,computed:_s,beforeCreate:fe,created:fe,beforeMount:fe,mounted:fe,beforeUpdate:fe,updated:fe,beforeDestroy:fe,beforeUnmount:fe,destroyed:fe,unmounted:fe,activated:fe,deactivated:fe,errorCaptured:fe,serverPrefetch:fe,components:_s,directives:_s,watch:Yg,provide:ru,inject:Xg};function ru(e,t){return t?e?function(){return ue(ct(e)?e.call(this,this):e,ct(t)?t.call(this,this):t)}:t:e}function Xg(e,t){return _s(ba(e),ba(t))}function ba(e){if(it(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function fe(e,t){return e?[...new Set([].concat(e,t))]:t}function _s(e,t){return e?ue(Object.create(null),e,t):t}function su(e,t){return e?it(e)&&it(t)?[...new Set([...e,...t])]:ue(Object.create(null),eu(e),eu(t??{})):t}function Yg(e,t){if(!e)return t;if(!t)return e;const n=ue(Object.create(null),e);for(const r in t)n[r]=fe(e[r],t[r]);return n}function zf(){return{app:null,config:{isNativeTag:rf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Jg=0;function Zg(e,t){return function(r,s=null){ct(r)||(r=ue({},r)),s!=null&&!Ct(s)&&(s=null);const i=zf(),a=new WeakSet,l=[];let c=!1;const h=i.app={_uid:Jg++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:D_,get config(){return i.config},set config(d){},use(d,...p){return a.has(d)||(d&&ct(d.install)?(a.add(d),d.install(h,...p)):ct(d)&&(a.add(d),d(h,...p))),h},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),h},component(d,p){return p?(i.components[d]=p,h):i.components[d]},directive(d,p){return p?(i.directives[d]=p,h):i.directives[d]},mount(d,p,g){if(!c){const v=h._ceVNode||te(r,s);return v.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),e(v,d,g),c=!0,h._container=d,d.__vue_app__=h,vo(v.component)}},onUnmount(d){l.push(d)},unmount(){c&&(en(l,h._instance,16),e(null,h._container),delete h._container.__vue_app__)},provide(d,p){return i.provides[d]=p,h},runWithContext(d){const p=Dr;Dr=h;try{return d()}finally{Dr=p}}};return h}}let Dr=null;const t_=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ln(t)}Modifiers`]||e[`${Gn(t)}Modifiers`];function e_(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||St;let s=n;const i=t.startsWith("update:"),a=i&&t_(r,t.slice(7));a&&(a.trim&&(s=n.map(d=>qt(d)?d.trim():d)),a.number&&(s=n.map(uo)));let l,c=r[l=Qo(t)]||r[l=Qo(Ln(t))];!c&&i&&(c=r[l=Qo(Gn(t))]),c&&en(c,e,6,s);const h=r[l+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,en(h,e,6,s)}}const n_=new WeakMap;function Kf(e,t,n=!1){const r=n?n_:t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let a={},l=!1;if(!ct(e)){const c=h=>{const d=Kf(h,t,!0);d&&(l=!0,ue(a,d))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!l?(Ct(e)&&r.set(e,null),null):(it(i)?i.forEach(c=>a[c]=null):ue(a,i),Ct(e)&&r.set(e,a),a)}function yo(e,t){return!e||!ao(t)?!1:(t=t.slice(2).replace(/Once$/,""),At(e,t[0].toLowerCase()+t.slice(1))||At(e,Gn(t))||At(e,t))}function iu(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:a,attrs:l,emit:c,render:h,renderCache:d,props:p,data:g,setupState:v,ctx:V,inheritAttrs:x}=e,L=Fi(e);let $,q;try{if(n.shapeFlag&4){const W=s||r,lt=W;$=Ke(h.call(lt,W,d,p,v,g,V)),q=l}else{const W=t;$=Ke(W.length>1?W(p,{attrs:l,slots:a,emit:c}):W(p,null)),q=t.props?l:r_(l)}}catch(W){Cs.length=0,go(W,e,1),$=te(Fn)}let H=$;if(q&&x!==!1){const W=Object.keys(q),{shapeFlag:lt}=H;W.length&&lt&7&&(i&&W.some(sl)&&(q=s_(q,i)),H=Fr(H,q,!1,!0))}return n.dirs&&(H=Fr(H,null,!1,!0),H.dirs=H.dirs?H.dirs.concat(n.dirs):n.dirs),n.transition&&yl(H,n.transition),$=H,Fi(L),$}const r_=e=>{let t;for(const n in e)(n==="class"||n==="style"||ao(n))&&((t||(t={}))[n]=e[n]);return t},s_=(e,t)=>{const n={};for(const r in e)(!sl(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function i_(e,t,n){const{props:r,children:s,component:i}=e,{props:a,children:l,patchFlag:c}=t,h=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?ou(r,a,h):!!a;if(c&8){const d=t.dynamicProps;for(let p=0;p<d.length;p++){const g=d[p];if(a[g]!==r[g]&&!yo(h,g))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?ou(r,a,h):!0:!!a;return!1}function ou(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!yo(n,i))return!0}return!1}function o_({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Wf={},Qf=()=>Object.create(Wf),Xf=e=>Object.getPrototypeOf(e)===Wf;function a_(e,t,n,r=!1){const s={},i=Qf();e.propsDefaults=Object.create(null),Yf(e,t,s,i);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);n?e.props=r?s:Sf(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function l_(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:a}}=e,l=It(s),[c]=e.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let p=0;p<d.length;p++){let g=d[p];if(yo(e.emitsOptions,g))continue;const v=t[g];if(c)if(At(i,g))v!==i[g]&&(i[g]=v,h=!0);else{const V=Ln(g);s[V]=Sa(c,l,V,v,e,!1)}else v!==i[g]&&(i[g]=v,h=!0)}}}else{Yf(e,t,s,i)&&(h=!0);let d;for(const p in l)(!t||!At(t,p)&&((d=Gn(p))===p||!At(t,d)))&&(c?n&&(n[p]!==void 0||n[d]!==void 0)&&(s[p]=Sa(c,l,p,void 0,e,!0)):delete s[p]);if(i!==l)for(const p in i)(!t||!At(t,p))&&(delete i[p],h=!0)}h&&ln(e.attrs,"set","")}function Yf(e,t,n,r){const[s,i]=e.propsOptions;let a=!1,l;if(t)for(let c in t){if(Is(c))continue;const h=t[c];let d;s&&At(s,d=Ln(c))?!i||!i.includes(d)?n[d]=h:(l||(l={}))[d]=h:yo(e.emitsOptions,c)||(!(c in r)||h!==r[c])&&(r[c]=h,a=!0)}if(i){const c=It(n),h=l||St;for(let d=0;d<i.length;d++){const p=i[d];n[p]=Sa(s,c,p,h[p],e,!At(h,p))}}return a}function Sa(e,t,n,r,s,i){const a=e[n];if(a!=null){const l=At(a,"default");if(l&&r===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&ct(c)){const{propsDefaults:h}=s;if(n in h)r=h[n];else{const d=ti(s);r=h[n]=c.call(null,t),d()}}else r=c;s.ce&&s.ce._setProp(n,r)}a[0]&&(i&&!l?r=!1:a[1]&&(r===""||r===Gn(n))&&(r=!0))}return r}const c_=new WeakMap;function Jf(e,t,n=!1){const r=n?c_:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,a={},l=[];let c=!1;if(!ct(e)){const d=p=>{c=!0;const[g,v]=Jf(p,t,!0);ue(a,g),v&&l.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!i&&!c)return Ct(e)&&r.set(e,Cr),Cr;if(it(i))for(let d=0;d<i.length;d++){const p=Ln(i[d]);au(p)&&(a[p]=St)}else if(i)for(const d in i){const p=Ln(d);if(au(p)){const g=i[d],v=a[p]=it(g)||ct(g)?{type:g}:ue({},g),V=v.type;let x=!1,L=!0;if(it(V))for(let $=0;$<V.length;++$){const q=V[$],H=ct(q)&&q.name;if(H==="Boolean"){x=!0;break}else H==="String"&&(L=!1)}else x=ct(V)&&V.name==="Boolean";v[0]=x,v[1]=L,(x||At(v,"default"))&&l.push(p)}}const h=[a,l];return Ct(e)&&r.set(e,h),h}function au(e){return e[0]!=="$"&&!Is(e)}const El=e=>e==="_"||e==="_ctx"||e==="$stable",vl=e=>it(e)?e.map(Ke):[Ke(e)],u_=(e,t,n)=>{if(t._n)return t;const r=Aa((...s)=>vl(t(...s)),n);return r._c=!1,r},Zf=(e,t,n)=>{const r=e._ctx;for(const s in e){if(El(s))continue;const i=e[s];if(ct(i))t[s]=u_(s,i,r);else if(i!=null){const a=vl(i);t[s]=()=>a}}},td=(e,t)=>{const n=vl(t);e.slots.default=()=>n},ed=(e,t,n)=>{for(const r in t)(n||!El(r))&&(e[r]=t[r])},h_=(e,t,n)=>{const r=e.slots=Qf();if(e.vnode.shapeFlag&32){const s=t._;s?(ed(r,t,n),n&&cf(r,"_",s,!0)):Zf(t,r)}else t&&td(e,t)},f_=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,a=St;if(r.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:ed(s,t,n):(i=!t.$stable,Zf(t,s)),a=t}else t&&(td(e,t),a={default:1});if(i)for(const l in s)!El(l)&&a[l]==null&&delete s[l]},we=__;function d_(e){return p_(e)}function p_(e,t){const n=ho();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:a,createText:l,createComment:c,setText:h,setElementText:d,parentNode:p,nextSibling:g,setScopeId:v=We,insertStaticContent:V}=e,x=(_,T,b,D=null,F=null,N=null,z=void 0,j=null,B=!!T.dynamicChildren)=>{if(_===T)return;_&&!ms(_,T)&&(D=O(_),Xt(_,F,N,!0),_=null),T.patchFlag===-2&&(B=!1,T.dynamicChildren=null);const{type:U,ref:nt,shapeFlag:Q}=T;switch(U){case Eo:L(_,T,b,D);break;case Fn:$(_,T,b,D);break;case na:_==null&&q(T,b,D,z);break;case Re:S(_,T,b,D,F,N,z,j,B);break;default:Q&1?lt(_,T,b,D,F,N,z,j,B):Q&6?E(_,T,b,D,F,N,z,j,B):(Q&64||Q&128)&&U.process(_,T,b,D,F,N,z,j,B,Z)}nt!=null&&F?Rs(nt,_&&_.ref,N,T||_,!T):nt==null&&_&&_.ref!=null&&Rs(_.ref,null,N,_,!0)},L=(_,T,b,D)=>{if(_==null)r(T.el=l(T.children),b,D);else{const F=T.el=_.el;T.children!==_.children&&h(F,T.children)}},$=(_,T,b,D)=>{_==null?r(T.el=c(T.children||""),b,D):T.el=_.el},q=(_,T,b,D)=>{[_.el,_.anchor]=V(_.children,T,b,D,_.el,_.anchor)},H=({el:_,anchor:T},b,D)=>{let F;for(;_&&_!==T;)F=g(_),r(_,b,D),_=F;r(T,b,D)},W=({el:_,anchor:T})=>{let b;for(;_&&_!==T;)b=g(_),s(_),_=b;s(T)},lt=(_,T,b,D,F,N,z,j,B)=>{if(T.type==="svg"?z="svg":T.type==="math"&&(z="mathml"),_==null)ft(T,b,D,F,N,z,j,B);else{const U=_.el&&_.el._isVueCE?_.el:null;try{U&&U._beginPatch(),I(_,T,F,N,z,j,B)}finally{U&&U._endPatch()}}},ft=(_,T,b,D,F,N,z,j)=>{let B,U;const{props:nt,shapeFlag:Q,transition:tt,dirs:rt}=_;if(B=_.el=a(_.type,N,nt&&nt.is,nt),Q&8?d(B,_.children):Q&16&&y(_.children,B,null,D,F,ea(_,N),z,j),rt&&Yn(_,null,D,"created"),A(B,_,_.scopeId,z,D),nt){for(const Rt in nt)Rt!=="value"&&!Is(Rt)&&i(B,Rt,null,nt[Rt],N,D);"value"in nt&&i(B,"value",null,nt.value,N),(U=nt.onVnodeBeforeMount)&&He(U,D,_)}rt&&Yn(_,null,D,"beforeMount");const ht=m_(F,tt);ht&&tt.beforeEnter(B),r(B,T,b),((U=nt&&nt.onVnodeMounted)||ht||rt)&&we(()=>{U&&He(U,D,_),ht&&tt.enter(B),rt&&Yn(_,null,D,"mounted")},F)},A=(_,T,b,D,F)=>{if(b&&v(_,b),D)for(let N=0;N<D.length;N++)v(_,D[N]);if(F){let N=F.subTree;if(T===N||id(N.type)&&(N.ssContent===T||N.ssFallback===T)){const z=F.vnode;A(_,z,z.scopeId,z.slotScopeIds,F.parent)}}},y=(_,T,b,D,F,N,z,j,B=0)=>{for(let U=B;U<_.length;U++){const nt=_[U]=j?Pn(_[U]):Ke(_[U]);x(null,nt,T,b,D,F,N,z,j)}},I=(_,T,b,D,F,N,z)=>{const j=T.el=_.el;let{patchFlag:B,dynamicChildren:U,dirs:nt}=T;B|=_.patchFlag&16;const Q=_.props||St,tt=T.props||St;let rt;if(b&&Jn(b,!1),(rt=tt.onVnodeBeforeUpdate)&&He(rt,b,T,_),nt&&Yn(T,_,b,"beforeUpdate"),b&&Jn(b,!0),(Q.innerHTML&&tt.innerHTML==null||Q.textContent&&tt.textContent==null)&&d(j,""),U?R(_.dynamicChildren,U,j,b,D,ea(T,F),N):z||gt(_,T,j,null,b,D,ea(T,F),N,!1),B>0){if(B&16)w(j,Q,tt,b,F);else if(B&2&&Q.class!==tt.class&&i(j,"class",null,tt.class,F),B&4&&i(j,"style",Q.style,tt.style,F),B&8){const ht=T.dynamicProps;for(let Rt=0;Rt<ht.length;Rt++){const Et=ht[Rt],re=Q[Et],se=tt[Et];(se!==re||Et==="value")&&i(j,Et,re,se,F,b)}}B&1&&_.children!==T.children&&d(j,T.children)}else!z&&U==null&&w(j,Q,tt,b,F);((rt=tt.onVnodeUpdated)||nt)&&we(()=>{rt&&He(rt,b,T,_),nt&&Yn(T,_,b,"updated")},D)},R=(_,T,b,D,F,N,z)=>{for(let j=0;j<T.length;j++){const B=_[j],U=T[j],nt=B.el&&(B.type===Re||!ms(B,U)||B.shapeFlag&198)?p(B.el):b;x(B,U,nt,null,D,F,N,z,!0)}},w=(_,T,b,D,F)=>{if(T!==b){if(T!==St)for(const N in T)!Is(N)&&!(N in b)&&i(_,N,T[N],null,F,D);for(const N in b){if(Is(N))continue;const z=b[N],j=T[N];z!==j&&N!=="value"&&i(_,N,j,z,F,D)}"value"in b&&i(_,"value",T.value,b.value,F)}},S=(_,T,b,D,F,N,z,j,B)=>{const U=T.el=_?_.el:l(""),nt=T.anchor=_?_.anchor:l("");let{patchFlag:Q,dynamicChildren:tt,slotScopeIds:rt}=T;rt&&(j=j?j.concat(rt):rt),_==null?(r(U,b,D),r(nt,b,D),y(T.children||[],b,nt,F,N,z,j,B)):Q>0&&Q&64&&tt&&_.dynamicChildren&&_.dynamicChildren.length===tt.length?(R(_.dynamicChildren,tt,b,F,N,z,j),(T.key!=null||F&&T===F.subTree)&&nd(_,T,!0)):gt(_,T,b,nt,F,N,z,j,B)},E=(_,T,b,D,F,N,z,j,B)=>{T.slotScopeIds=j,_==null?T.shapeFlag&512?F.ctx.activate(T,b,D,z,B):Lt(T,b,D,F,N,z,B):ge(_,T,B)},Lt=(_,T,b,D,F,N,z)=>{const j=_.component=w_(_,D,F);if(Uf(_)&&(j.ctx.renderer=Z),b_(j,!1,z),j.asyncDep){if(F&&F.registerDep(j,Ft,z),!_.el){const B=j.subTree=te(Fn);$(null,B,T,b),_.placeholder=B.el}}else Ft(j,_,T,b,F,N,z)},ge=(_,T,b)=>{const D=T.component=_.component;if(i_(_,T,b))if(D.asyncDep&&!D.asyncResolved){vt(D,T,b);return}else D.next=T,D.update();else T.el=_.el,D.vnode=T},Ft=(_,T,b,D,F,N,z)=>{const j=()=>{if(_.isMounted){let{next:Q,bu:tt,u:rt,parent:ht,vnode:Rt}=_;{const Ie=rd(_);if(Ie){Q&&(Q.el=Rt.el,vt(_,Q,z)),Ie.asyncDep.then(()=>{_.isUnmounted||j()});return}}let Et=Q,re;Jn(_,!1),Q?(Q.el=Rt.el,vt(_,Q,z)):Q=Rt,tt&&wi(tt),(re=Q.props&&Q.props.onVnodeBeforeUpdate)&&He(re,ht,Q,Rt),Jn(_,!0);const se=iu(_),Te=_.subTree;_.subTree=se,x(Te,se,p(Te.el),O(Te),_,F,N),Q.el=se.el,Et===null&&o_(_,se.el),rt&&we(rt,F),(re=Q.props&&Q.props.onVnodeUpdated)&&we(()=>He(re,ht,Q,Rt),F)}else{let Q;const{el:tt,props:rt}=T,{bm:ht,m:Rt,parent:Et,root:re,type:se}=_,Te=bs(T);Jn(_,!1),ht&&wi(ht),!Te&&(Q=rt&&rt.onVnodeBeforeMount)&&He(Q,Et,T),Jn(_,!0);{re.ce&&re.ce._def.shadowRoot!==!1&&re.ce._injectChildStyle(se);const Ie=_.subTree=iu(_);x(null,Ie,b,D,_,F,N),T.el=Ie.el}if(Rt&&we(Rt,F),!Te&&(Q=rt&&rt.onVnodeMounted)){const Ie=T;we(()=>He(Q,Et,Ie),F)}(T.shapeFlag&256||Et&&bs(Et.vnode)&&Et.vnode.shapeFlag&256)&&_.a&&we(_.a,F),_.isMounted=!0,T=b=D=null}};_.scope.on();const B=_.effect=new df(j);_.scope.off();const U=_.update=B.run.bind(B),nt=_.job=B.runIfDirty.bind(B);nt.i=_,nt.id=_.uid,B.scheduler=()=>_l(nt),Jn(_,!0),U()},vt=(_,T,b)=>{T.component=_;const D=_.vnode.props;_.vnode=T,_.next=null,l_(_,T.props,D,b),f_(_,T.children,b),dn(),Zc(_),pn()},gt=(_,T,b,D,F,N,z,j,B=!1)=>{const U=_&&_.children,nt=_?_.shapeFlag:0,Q=T.children,{patchFlag:tt,shapeFlag:rt}=T;if(tt>0){if(tt&128){je(U,Q,b,D,F,N,z,j,B);return}else if(tt&256){_e(U,Q,b,D,F,N,z,j,B);return}}rt&8?(nt&16&&ne(U,F,N),Q!==U&&d(b,Q)):nt&16?rt&16?je(U,Q,b,D,F,N,z,j,B):ne(U,F,N,!0):(nt&8&&d(b,""),rt&16&&y(Q,b,D,F,N,z,j,B))},_e=(_,T,b,D,F,N,z,j,B)=>{_=_||Cr,T=T||Cr;const U=_.length,nt=T.length,Q=Math.min(U,nt);let tt;for(tt=0;tt<Q;tt++){const rt=T[tt]=B?Pn(T[tt]):Ke(T[tt]);x(_[tt],rt,b,null,F,N,z,j,B)}U>nt?ne(_,F,N,!0,!1,Q):y(T,b,D,F,N,z,j,B,Q)},je=(_,T,b,D,F,N,z,j,B)=>{let U=0;const nt=T.length;let Q=_.length-1,tt=nt-1;for(;U<=Q&&U<=tt;){const rt=_[U],ht=T[U]=B?Pn(T[U]):Ke(T[U]);if(ms(rt,ht))x(rt,ht,b,null,F,N,z,j,B);else break;U++}for(;U<=Q&&U<=tt;){const rt=_[Q],ht=T[tt]=B?Pn(T[tt]):Ke(T[tt]);if(ms(rt,ht))x(rt,ht,b,null,F,N,z,j,B);else break;Q--,tt--}if(U>Q){if(U<=tt){const rt=tt+1,ht=rt<nt?T[rt].el:D;for(;U<=tt;)x(null,T[U]=B?Pn(T[U]):Ke(T[U]),b,ht,F,N,z,j,B),U++}}else if(U>tt)for(;U<=Q;)Xt(_[U],F,N,!0),U++;else{const rt=U,ht=U,Rt=new Map;for(U=ht;U<=tt;U++){const Yt=T[U]=B?Pn(T[U]):Ke(T[U]);Yt.key!=null&&Rt.set(Yt.key,U)}let Et,re=0;const se=tt-ht+1;let Te=!1,Ie=0;const xe=new Array(se);for(U=0;U<se;U++)xe[U]=0;for(U=rt;U<=Q;U++){const Yt=_[U];if(re>=se){Xt(Yt,F,N,!0);continue}let Kt;if(Yt.key!=null)Kt=Rt.get(Yt.key);else for(Et=ht;Et<=tt;Et++)if(xe[Et-ht]===0&&ms(Yt,T[Et])){Kt=Et;break}Kt===void 0?Xt(Yt,F,N,!0):(xe[Kt-ht]=U+1,Kt>=Ie?Ie=Kt:Te=!0,x(Yt,T[Kt],b,null,F,N,z,j,B),re++)}const _r=Te?g_(xe):Cr;for(Et=_r.length-1,U=se-1;U>=0;U--){const Yt=ht+U,Kt=T[Yt],Zr=T[Yt+1],zn=Yt+1<nt?Zr.el||sd(Zr):D;xe[U]===0?x(null,Kt,b,zn,F,N,z,j,B):Te&&(Et<0||U!==_r[Et]?ve(Kt,b,zn,2):Et--)}}},ve=(_,T,b,D,F=null)=>{const{el:N,type:z,transition:j,children:B,shapeFlag:U}=_;if(U&6){ve(_.component.subTree,T,b,D);return}if(U&128){_.suspense.move(T,b,D);return}if(U&64){z.move(_,T,b,Z);return}if(z===Re){r(N,T,b);for(let Q=0;Q<B.length;Q++)ve(B[Q],T,b,D);r(_.anchor,T,b);return}if(z===na){H(_,T,b);return}if(D!==2&&U&1&&j)if(D===0)j.beforeEnter(N),r(N,T,b),we(()=>j.enter(N),F);else{const{leave:Q,delayLeave:tt,afterLeave:rt}=j,ht=()=>{_.ctx.isUnmounted?s(N):r(N,T,b)},Rt=()=>{N._isLeaving&&N[xg](!0),Q(N,()=>{ht(),rt&&rt()})};tt?tt(N,ht,Rt):Rt()}else r(N,T,b)},Xt=(_,T,b,D=!1,F=!1)=>{const{type:N,props:z,ref:j,children:B,dynamicChildren:U,shapeFlag:nt,patchFlag:Q,dirs:tt,cacheIndex:rt}=_;if(Q===-2&&(F=!1),j!=null&&(dn(),Rs(j,null,b,_,!0),pn()),rt!=null&&(T.renderCache[rt]=void 0),nt&256){T.ctx.deactivate(_);return}const ht=nt&1&&tt,Rt=!bs(_);let Et;if(Rt&&(Et=z&&z.onVnodeBeforeUnmount)&&He(Et,T,_),nt&6)Ne(_.component,b,D);else{if(nt&128){_.suspense.unmount(b,D);return}ht&&Yn(_,null,T,"beforeUnmount"),nt&64?_.type.remove(_,T,b,Z,D):U&&!U.hasOnce&&(N!==Re||Q>0&&Q&64)?ne(U,T,b,!1,!0):(N===Re&&Q&384||!F&&nt&16)&&ne(B,T,b),D&&rn(_)}(Rt&&(Et=z&&z.onVnodeUnmounted)||ht)&&we(()=>{Et&&He(Et,T,_),ht&&Yn(_,null,T,"unmounted")},b)},rn=_=>{const{type:T,el:b,anchor:D,transition:F}=_;if(T===Re){De(b,D);return}if(T===na){W(_);return}const N=()=>{s(b),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(_.shapeFlag&1&&F&&!F.persisted){const{leave:z,delayLeave:j}=F,B=()=>z(b,N);j?j(_.el,N,B):B()}else N()},De=(_,T)=>{let b;for(;_!==T;)b=g(_),s(_),_=b;s(T)},Ne=(_,T,b)=>{const{bum:D,scope:F,job:N,subTree:z,um:j,m:B,a:U}=_;lu(B),lu(U),D&&wi(D),F.stop(),N&&(N.flags|=8,Xt(z,_,T,b)),j&&we(j,T),we(()=>{_.isUnmounted=!0},T)},ne=(_,T,b,D=!1,F=!1,N=0)=>{for(let z=N;z<_.length;z++)Xt(_[z],T,b,D,F)},O=_=>{if(_.shapeFlag&6)return O(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const T=g(_.anchor||_.el),b=T&&T[Dg];return b?g(b):T};let Y=!1;const K=(_,T,b)=>{let D;_==null?T._vnode&&(Xt(T._vnode,null,null,!0),D=T._vnode.component):x(T._vnode||null,_,T,null,null,null,b),T._vnode=_,Y||(Y=!0,Zc(D),Nf(),Y=!1)},Z={p:x,um:Xt,m:ve,r:rn,mt:Lt,mc:y,pc:gt,pbc:R,n:O,o:e};return{render:K,hydrate:void 0,createApp:Zg(K)}}function ea({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Jn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function m_(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function nd(e,t,n=!1){const r=e.children,s=t.children;if(it(r)&&it(s))for(let i=0;i<r.length;i++){const a=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=Pn(s[i]),l.el=a.el),!n&&l.patchFlag!==-2&&nd(a,l)),l.type===Eo&&(l.patchFlag!==-1?l.el=a.el:l.__elIndex=i+(e.type===Re?1:0)),l.type===Fn&&!l.el&&(l.el=a.el)}}function g_(e){const t=e.slice(),n=[0];let r,s,i,a,l;const c=e.length;for(r=0;r<c;r++){const h=e[r];if(h!==0){if(s=n[n.length-1],e[s]<h){t[r]=s,n.push(r);continue}for(i=0,a=n.length-1;i<a;)l=i+a>>1,e[n[l]]<h?i=l+1:a=l;h<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}function rd(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:rd(t)}function lu(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function sd(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?sd(t.subTree):null}const id=e=>e.__isSuspense;function __(e,t){t&&t.pendingBranch?it(e)?t.effects.push(...e):t.effects.push(e):bg(e)}const Re=Symbol.for("v-fgt"),Eo=Symbol.for("v-txt"),Fn=Symbol.for("v-cmt"),na=Symbol.for("v-stc"),Cs=[];let be=null;function fn(e=!1){Cs.push(be=e?null:[])}function y_(){Cs.pop(),be=Cs[Cs.length-1]||null}let Us=1;function ji(e,t=!1){Us+=e,e<0&&be&&t&&(be.hasOnce=!0)}function od(e){return e.dynamicChildren=Us>0?be||Cr:null,y_(),Us>0&&be&&be.push(e),e}function or(e,t,n,r,s,i){return od(Me(e,t,n,r,s,i,!0))}function ad(e,t,n,r,s){return od(te(e,t,n,r,s,!0))}function qi(e){return e?e.__v_isVNode===!0:!1}function ms(e,t){return e.type===t.type&&e.key===t.key}const ld=({key:e})=>e??null,Si=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?qt(e)||ce(e)||ct(e)?{i:Pe,r:e,k:t,f:!!n}:e:null);function Me(e,t=null,n=null,r=0,s=null,i=e===Re?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ld(t),ref:t&&Si(t),scopeId:Of,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Pe};return l?(Tl(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=qt(n)?8:16),Us>0&&!a&&be&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&be.push(c),c}const te=E_;function E_(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===Gg)&&(e=Fn),qi(e)){const l=Fr(e,t,!0);return n&&Tl(l,n),Us>0&&!i&&be&&(l.shapeFlag&6?be[be.indexOf(e)]=l:be.push(l)),l.patchFlag=-2,l}if(V_(e)&&(e=e.__vccOpts),t){t=v_(t);let{class:l,style:c}=t;l&&!qt(l)&&(t.class=ll(l)),Ct(c)&&(ml(c)&&!it(c)&&(c=ue({},c)),t.style=al(c))}const a=qt(e)?1:id(e)?128:Ng(e)?64:Ct(e)?4:ct(e)?2:0;return Me(e,t,n,r,s,a,i,!0)}function v_(e){return e?ml(e)||Xf(e)?ue({},e):e:null}function Fr(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:a,children:l,transition:c}=e,h=t?T_(s||{},t):s,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&ld(h),ref:t&&t.ref?n&&i?it(i)?i.concat(Si(t)):[i,Si(t)]:Si(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Re?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Fr(e.ssContent),ssFallback:e.ssFallback&&Fr(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&yl(d,c.clone(d)),d}function cd(e=" ",t=0){return te(Eo,null,e,t)}function xw(e="",t=!1){return t?(fn(),ad(Fn,null,e)):te(Fn,null,e)}function Ke(e){return e==null||typeof e=="boolean"?te(Fn):it(e)?te(Re,null,e.slice()):qi(e)?Pn(e):te(Eo,null,String(e))}function Pn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Fr(e)}function Tl(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(it(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Tl(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!Xf(t)?t._ctx=Pe:s===3&&Pe&&(Pe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ct(t)?(t={default:t,_ctx:Pe},n=32):(t=String(t),r&64?(n=16,t=[cd(t)]):n=8);e.children=t,e.shapeFlag|=n}function T_(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=ll([t.class,r.class]));else if(s==="style")t.style=al([t.style,r.style]);else if(ao(s)){const i=t[s],a=r[s];a&&i!==a&&!(it(i)&&i.includes(a))&&(t[s]=i?[].concat(i,a):a)}else s!==""&&(t[s]=r[s])}return t}function He(e,t,n,r=null){en(e,t,7,[n,r])}const I_=zf();let A_=0;function w_(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||I_,i={uid:A_++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Xm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Jf(r,s),emitsOptions:Kf(r,s),emit:null,emitted:null,propsDefaults:St,inheritAttrs:r.inheritAttrs,ctx:St,data:St,props:St,attrs:St,slots:St,refs:St,setupState:St,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=e_.bind(null,i),e.ce&&e.ce(i),i}let me=null;const R_=()=>me||Pe;let $i,Ca;{const e=ho(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(a=>a(i)):s[0](i)}};$i=t("__VUE_INSTANCE_SETTERS__",n=>me=n),Ca=t("__VUE_SSR_SETTERS__",n=>Bs=n)}const ti=e=>{const t=me;return $i(e),e.scope.on(),()=>{e.scope.off(),$i(t)}},cu=()=>{me&&me.scope.off(),$i(null)};function ud(e){return e.vnode.shapeFlag&4}let Bs=!1;function b_(e,t=!1,n=!1){t&&Ca(t);const{props:r,children:s}=e.vnode,i=ud(e);a_(e,r,i,t),h_(e,s,n||t);const a=i?S_(e,t):void 0;return t&&Ca(!1),a}function S_(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,zg);const{setup:r}=n;if(r){dn();const s=e.setupContext=r.length>1?P_(e):null,i=ti(e),a=Zs(r,e,0,[e.props,s]),l=sf(a);if(pn(),i(),(l||e.sp)&&!bs(e)&&Ff(e),l){if(a.then(cu,cu),t)return a.then(c=>{uu(e,c)}).catch(c=>{go(c,e,0)});e.asyncDep=a}else uu(e,a)}else hd(e)}function uu(e,t,n){ct(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ct(t)&&(e.setupState=Pf(t)),hd(e)}function hd(e,t,n){const r=e.type;e.render||(e.render=r.render||We);{const s=ti(e);dn();try{Kg(e)}finally{pn(),s()}}}const C_={get(e,t){return ae(e,"get",""),e[t]}};function P_(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,C_),slots:e.slots,emit:e.emit,expose:t}}function vo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Pf(gg(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ss)return Ss[n](e)},has(t,n){return n in t||n in Ss}})):e.proxy}function V_(e){return ct(e)&&"__vccOpts"in e}const Oe=(e,t)=>Tg(e,t,Bs);function fd(e,t,n){try{ji(-1);const r=arguments.length;return r===2?Ct(t)&&!it(t)?qi(t)?te(e,null,[t]):te(e,t):te(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&qi(n)&&(n=[n]),te(e,t,n))}finally{ji(1)}}const D_="3.5.26";let Pa;const hu=typeof window<"u"&&window.trustedTypes;if(hu)try{Pa=hu.createPolicy("vue",{createHTML:e=>e})}catch{}const dd=Pa?e=>Pa.createHTML(e):e=>e,N_="http://www.w3.org/2000/svg",x_="http://www.w3.org/1998/Math/MathML",an=typeof document<"u"?document:null,fu=an&&an.createElement("template"),O_={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?an.createElementNS(N_,e):t==="mathml"?an.createElementNS(x_,e):n?an.createElement(e,{is:n}):an.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>an.createTextNode(e),createComment:e=>an.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>an.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const a=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{fu.innerHTML=dd(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const l=fu.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},M_=Symbol("_vtc");function k_(e,t,n){const r=e[M_];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const du=Symbol("_vod"),L_=Symbol("_vsh"),F_=Symbol(""),U_=/(?:^|;)\s*display\s*:/;function B_(e,t,n){const r=e.style,s=qt(n);let i=!1;if(n&&!s){if(t)if(qt(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&Ci(r,l,"")}else for(const a in t)n[a]==null&&Ci(r,a,"");for(const a in n)a==="display"&&(i=!0),Ci(r,a,n[a])}else if(s){if(t!==n){const a=r[F_];a&&(n+=";"+a),r.cssText=n,i=U_.test(n)}}else t&&e.removeAttribute("style");du in e&&(e[du]=i?r.display:"",e[L_]&&(r.display="none"))}const pu=/\s*!important$/;function Ci(e,t,n){if(it(n))n.forEach(r=>Ci(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=j_(e,t);pu.test(n)?e.setProperty(Gn(r),n.replace(pu,""),"important"):e[r]=n}}const mu=["Webkit","Moz","ms"],ra={};function j_(e,t){const n=ra[t];if(n)return n;let r=Ln(t);if(r!=="filter"&&r in e)return ra[t]=r;r=lf(r);for(let s=0;s<mu.length;s++){const i=mu[s]+r;if(i in e)return ra[t]=i}return t}const gu="http://www.w3.org/1999/xlink";function _u(e,t,n,r,s,i=Km(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(gu,t.slice(6,t.length)):e.setAttributeNS(gu,t,n):n==null||i&&!uf(n)?e.removeAttribute(t):e.setAttribute(t,i?"":tn(n)?String(n):n)}function yu(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?dd(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=uf(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(s||t)}function er(e,t,n,r){e.addEventListener(t,n,r)}function q_(e,t,n,r){e.removeEventListener(t,n,r)}const Eu=Symbol("_vei");function $_(e,t,n,r,s=null){const i=e[Eu]||(e[Eu]={}),a=i[t];if(r&&a)a.value=r;else{const[l,c]=H_(t);if(r){const h=i[t]=K_(r,s);er(e,l,h,c)}else a&&(q_(e,l,a,c),i[t]=void 0)}}const vu=/(?:Once|Passive|Capture)$/;function H_(e){let t;if(vu.test(e)){t={};let r;for(;r=e.match(vu);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Gn(e.slice(2)),t]}let sa=0;const G_=Promise.resolve(),z_=()=>sa||(G_.then(()=>sa=0),sa=Date.now());function K_(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;en(W_(r,n.value),t,5,[r])};return n.value=e,n.attached=z_(),n}function W_(e,t){if(it(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Tu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Q_=(e,t,n,r,s,i)=>{const a=s==="svg";t==="class"?k_(e,r,a):t==="style"?B_(e,n,r):ao(t)?sl(t)||$_(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):X_(e,t,r,a))?(yu(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&_u(e,t,r,a,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!qt(r))?yu(e,Ln(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),_u(e,t,r,a))};function X_(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Tu(t)&&ct(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Tu(t)&&qt(n)?!1:t in e}const Hi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return it(t)?n=>wi(t,n):t};function Y_(e){e.target.composing=!0}function Iu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Nr=Symbol("_assign");function Au(e,t,n){return t&&(e=e.trim()),n&&(e=uo(e)),e}const J_={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[Nr]=Hi(s);const i=r||s.props&&s.props.type==="number";er(e,t?"change":"input",a=>{a.target.composing||e[Nr](Au(e.value,n,i))}),(n||i)&&er(e,"change",()=>{e.value=Au(e.value,n,i)}),t||(er(e,"compositionstart",Y_),er(e,"compositionend",Iu),er(e,"change",Iu))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},a){if(e[Nr]=Hi(a),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?uo(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===c)||(e.value=c))}},Ow={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const s=lo(t);er(e,"change",()=>{const i=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?uo(Gi(a)):Gi(a));e[Nr](e.multiple?s?new Set(i):i:i[0]),e._assigning=!0,gl(()=>{e._assigning=!1})}),e[Nr]=Hi(r)},mounted(e,{value:t}){wu(e,t)},beforeUpdate(e,t,n){e[Nr]=Hi(n)},updated(e,{value:t}){e._assigning||wu(e,t)}};function wu(e,t){const n=e.multiple,r=it(t);if(!(n&&!r&&!lo(t))){for(let s=0,i=e.options.length;s<i;s++){const a=e.options[s],l=Gi(a);if(n)if(r){const c=typeof l;c==="string"||c==="number"?a.selected=t.some(h=>String(h)===String(l)):a.selected=Qm(t,l)>-1}else a.selected=t.has(l);else if(fo(Gi(a),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Gi(e){return"_value"in e?e._value:e.value}const Z_={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ty=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=(s=>{if(!("key"in s))return;const i=Gn(s.key);if(t.some(a=>a===i||Z_[a]===i))return e(s)}))},ey=ue({patchProp:Q_},O_);let Ru;function ny(){return Ru||(Ru=d_(ey))}const ry=((...e)=>{const t=ny().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=iy(r);if(!s)return;const i=t._component;!ct(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,sy(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t});function sy(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function iy(e){return qt(e)?document.querySelector(e):e}const Ar=typeof document<"u";function pd(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function oy(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&pd(e.default)}const Tt=Object.assign;function ia(e,t){const n={};for(const r in t){const s=t[r];n[r]=Ue(s)?s.map(e):e(s)}return n}const Ps=()=>{},Ue=Array.isArray;function bu(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}const md=/#/g,ay=/&/g,ly=/\//g,cy=/=/g,uy=/\?/g,gd=/\+/g,hy=/%5B/g,fy=/%5D/g,_d=/%5E/g,dy=/%60/g,yd=/%7B/g,py=/%7C/g,Ed=/%7D/g,my=/%20/g;function Il(e){return e==null?"":encodeURI(""+e).replace(py,"|").replace(hy,"[").replace(fy,"]")}function gy(e){return Il(e).replace(yd,"{").replace(Ed,"}").replace(_d,"^")}function Va(e){return Il(e).replace(gd,"%2B").replace(my,"+").replace(md,"%23").replace(ay,"%26").replace(dy,"`").replace(yd,"{").replace(Ed,"}").replace(_d,"^")}function _y(e){return Va(e).replace(cy,"%3D")}function yy(e){return Il(e).replace(md,"%23").replace(uy,"%3F")}function Ey(e){return yy(e).replace(ly,"%2F")}function js(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const vy=/\/$/,Ty=e=>e.replace(vy,"");function oa(e,t,n="/"){let r,s={},i="",a="";const l=t.indexOf("#");let c=t.indexOf("?");return c=l>=0&&c>l?-1:c,c>=0&&(r=t.slice(0,c),i=t.slice(c,l>0?l:t.length),s=e(i.slice(1))),l>=0&&(r=r||t.slice(0,l),a=t.slice(l,t.length)),r=Ry(r??t,n),{fullPath:r+i+a,path:r,query:s,hash:js(a)}}function Iy(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Su(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Ay(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Ur(t.matched[r],n.matched[s])&&vd(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ur(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function vd(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!wy(e[n],t[n]))return!1;return!0}function wy(e,t){return Ue(e)?Cu(e,t):Ue(t)?Cu(t,e):e?.valueOf()===t?.valueOf()}function Cu(e,t){return Ue(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Ry(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,a,l;for(a=0;a<r.length;a++)if(l=r[a],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(a).join("/")}const bn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Da=(function(e){return e.pop="pop",e.push="push",e})({}),aa=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function by(e){if(!e)if(Ar){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Ty(e)}const Sy=/^[^#]+#/;function Cy(e,t){return e.replace(Sy,"#")+t}function Py(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const To=()=>({left:window.scrollX,top:window.scrollY});function Vy(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=Py(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Pu(e,t){return(history.state?history.state.position-t:-1)+e}const Na=new Map;function Dy(e,t){Na.set(e,t)}function Ny(e){const t=Na.get(e);return Na.delete(e),t}function xy(e){return typeof e=="string"||e&&typeof e=="object"}function Td(e){return typeof e=="string"||typeof e=="symbol"}let Mt=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const Id=Symbol("");Mt.MATCHER_NOT_FOUND+"",Mt.NAVIGATION_GUARD_REDIRECT+"",Mt.NAVIGATION_ABORTED+"",Mt.NAVIGATION_CANCELLED+"",Mt.NAVIGATION_DUPLICATED+"";function Br(e,t){return Tt(new Error,{type:e,[Id]:!0},t)}function on(e,t){return e instanceof Error&&Id in e&&(t==null||!!(e.type&t))}const Oy=["params","query","hash"];function My(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of Oy)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function ky(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const s=n[r].replace(gd," "),i=s.indexOf("="),a=js(i<0?s:s.slice(0,i)),l=i<0?null:js(s.slice(i+1));if(a in t){let c=t[a];Ue(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Vu(e){let t="";for(let n in e){const r=e[n];if(n=_y(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ue(r)?r.map(s=>s&&Va(s)):[r&&Va(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function Ly(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Ue(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const Fy=Symbol(""),Du=Symbol(""),Al=Symbol(""),Ad=Symbol(""),xa=Symbol("");function gs(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Vn(e,t,n,r,s,i=a=>a()){const a=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((l,c)=>{const h=g=>{g===!1?c(Br(Mt.NAVIGATION_ABORTED,{from:n,to:t})):g instanceof Error?c(g):xy(g)?c(Br(Mt.NAVIGATION_GUARD_REDIRECT,{from:t,to:g})):(a&&r.enterCallbacks[s]===a&&typeof g=="function"&&a.push(g),l())},d=i(()=>e.call(r&&r.instances[s],t,n,h));let p=Promise.resolve(d);e.length<3&&(p=p.then(h)),p.catch(g=>c(g))})}function la(e,t,n,r,s=i=>i()){const i=[];for(const a of e)for(const l in a.components){let c=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(pd(c)){const h=(c.__vccOpts||c)[t];h&&i.push(Vn(h,n,r,a,l,s))}else{let h=c();i.push(()=>h.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const p=oy(d)?d.default:d;a.mods[l]=d,a.components[l]=p;const g=(p.__vccOpts||p)[t];return g&&Vn(g,n,r,a,l,s)()}))}}return i}function Uy(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const l=t.matched[a];l&&(e.matched.find(h=>Ur(h,l))?r.push(l):n.push(l));const c=e.matched[a];c&&(t.matched.find(h=>Ur(h,c))||s.push(c))}return[n,r,s]}let By=()=>location.protocol+"//"+location.host;function wd(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Su(l,"")}return Su(n,e)+r+s}function jy(e,t,n,r){let s=[],i=[],a=null;const l=({state:g})=>{const v=wd(e,location),V=n.value,x=t.value;let L=0;if(g){if(n.value=v,t.value=g,a&&a===V){a=null;return}L=x?g.position-x.position:0}else r(v);s.forEach($=>{$(n.value,V,{delta:L,type:Da.pop,direction:L?L>0?aa.forward:aa.back:aa.unknown})})};function c(){a=n.value}function h(g){s.push(g);const v=()=>{const V=s.indexOf(g);V>-1&&s.splice(V,1)};return i.push(v),v}function d(){if(document.visibilityState==="hidden"){const{history:g}=window;if(!g.state)return;g.replaceState(Tt({},g.state,{scroll:To()}),"")}}function p(){for(const g of i)g();i=[],window.removeEventListener("popstate",l),window.removeEventListener("pagehide",d),document.removeEventListener("visibilitychange",d)}return window.addEventListener("popstate",l),window.addEventListener("pagehide",d),document.addEventListener("visibilitychange",d),{pauseListeners:c,listen:h,destroy:p}}function Nu(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?To():null}}function qy(e){const{history:t,location:n}=window,r={value:wd(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,h,d){const p=e.indexOf("#"),g=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+c:By()+e+c;try{t[d?"replaceState":"pushState"](h,"",g),s.value=h}catch(v){console.error(v),n[d?"replace":"assign"](g)}}function a(c,h){i(c,Tt({},t.state,Nu(s.value.back,c,s.value.forward,!0),h,{position:s.value.position}),!0),r.value=c}function l(c,h){const d=Tt({},s.value,t.state,{forward:c,scroll:To()});i(d.current,d,!0),i(c,Tt({},Nu(r.value,c,null),{position:d.position+1},h),!1),r.value=c}return{location:r,state:s,push:l,replace:a}}function $y(e){e=by(e);const t=qy(e),n=jy(e,t.state,t.location,t.replace);function r(i,a=!0){a||n.pauseListeners(),history.go(i)}const s=Tt({location:"",base:e,go:r,createHref:Cy.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function Hy(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),$y(e)}let nr=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var Ht=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(Ht||{});const Gy={type:nr.Static,value:""},zy=/[a-zA-Z0-9_]/;function Ky(e){if(!e)return[[]];if(e==="/")return[[Gy]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${h}": ${v}`)}let n=Ht.Static,r=n;const s=[];let i;function a(){i&&s.push(i),i=[]}let l=0,c,h="",d="";function p(){h&&(n===Ht.Static?i.push({type:nr.Static,value:h}):n===Ht.Param||n===Ht.ParamRegExp||n===Ht.ParamRegExpEnd?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),i.push({type:nr.Param,value:h,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),h="")}function g(){h+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==Ht.ParamRegExp){r=n,n=Ht.EscapeNext;continue}switch(n){case Ht.Static:c==="/"?(h&&p(),a()):c===":"?(p(),n=Ht.Param):g();break;case Ht.EscapeNext:g(),n=r;break;case Ht.Param:c==="("?n=Ht.ParamRegExp:zy.test(c)?g():(p(),n=Ht.Static,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case Ht.ParamRegExp:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:n=Ht.ParamRegExpEnd:d+=c;break;case Ht.ParamRegExpEnd:p(),n=Ht.Static,c!=="*"&&c!=="?"&&c!=="+"&&l--,d="";break;default:t("Unknown state");break}}return n===Ht.ParamRegExp&&t(`Unfinished custom RegExp for param "${h}"`),p(),a(),s}const xu="[^/]+?",Wy={sensitive:!1,strict:!1,start:!0,end:!0};var de=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(de||{});const Qy=/[.+*?^${}()[\]/\\]/g;function Xy(e,t){const n=Tt({},Wy,t),r=[];let s=n.start?"^":"";const i=[];for(const h of e){const d=h.length?[]:[de.Root];n.strict&&!h.length&&(s+="/");for(let p=0;p<h.length;p++){const g=h[p];let v=de.Segment+(n.sensitive?de.BonusCaseSensitive:0);if(g.type===nr.Static)p||(s+="/"),s+=g.value.replace(Qy,"\\$&"),v+=de.Static;else if(g.type===nr.Param){const{value:V,repeatable:x,optional:L,regexp:$}=g;i.push({name:V,repeatable:x,optional:L});const q=$||xu;if(q!==xu){v+=de.BonusCustomRegExp;try{`${q}`}catch(W){throw new Error(`Invalid custom RegExp for param "${V}" (${q}): `+W.message)}}let H=x?`((?:${q})(?:/(?:${q}))*)`:`(${q})`;p||(H=L&&h.length<2?`(?:/${H})`:"/"+H),L&&(H+="?"),s+=H,v+=de.Dynamic,L&&(v+=de.BonusOptional),x&&(v+=de.BonusRepeatable),q===".*"&&(v+=de.BonusWildcard)}d.push(v)}r.push(d)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=de.BonusStrict}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function l(h){const d=h.match(a),p={};if(!d)return null;for(let g=1;g<d.length;g++){const v=d[g]||"",V=i[g-1];p[V.name]=v&&V.repeatable?v.split("/"):v}return p}function c(h){let d="",p=!1;for(const g of e){(!p||!d.endsWith("/"))&&(d+="/"),p=!1;for(const v of g)if(v.type===nr.Static)d+=v.value;else if(v.type===nr.Param){const{value:V,repeatable:x,optional:L}=v,$=V in h?h[V]:"";if(Ue($)&&!x)throw new Error(`Provided param "${V}" is an array but it is not repeatable (* or + modifiers)`);const q=Ue($)?$.join("/"):$;if(!q)if(L)g.length<2&&(d.endsWith("/")?d=d.slice(0,-1):p=!0);else throw new Error(`Missing required param "${V}"`);d+=q}}return d||"/"}return{re:a,score:r,keys:i,parse:l,stringify:c}}function Yy(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===de.Static+de.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===de.Static+de.Segment?1:-1:0}function Rd(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=Yy(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Ou(r))return 1;if(Ou(s))return-1}return s.length-r.length}function Ou(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Jy={strict:!1,end:!0,sensitive:!1};function Zy(e,t,n){const r=Xy(Ky(e.path),n),s=Tt(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function tE(e,t){const n=[],r=new Map;t=bu(Jy,t);function s(p){return r.get(p)}function i(p,g,v){const V=!v,x=ku(p);x.aliasOf=v&&v.record;const L=bu(t,p),$=[x];if("alias"in p){const W=typeof p.alias=="string"?[p.alias]:p.alias;for(const lt of W)$.push(ku(Tt({},x,{components:v?v.record.components:x.components,path:lt,aliasOf:v?v.record:x})))}let q,H;for(const W of $){const{path:lt}=W;if(g&&lt[0]!=="/"){const ft=g.record.path,A=ft[ft.length-1]==="/"?"":"/";W.path=g.record.path+(lt&&A+lt)}if(q=Zy(W,g,L),v?v.alias.push(q):(H=H||q,H!==q&&H.alias.push(q),V&&p.name&&!Lu(q)&&a(p.name)),bd(q)&&c(q),x.children){const ft=x.children;for(let A=0;A<ft.length;A++)i(ft[A],q,v&&v.children[A])}v=v||q}return H?()=>{a(H)}:Ps}function a(p){if(Td(p)){const g=r.get(p);g&&(r.delete(p),n.splice(n.indexOf(g),1),g.children.forEach(a),g.alias.forEach(a))}else{const g=n.indexOf(p);g>-1&&(n.splice(g,1),p.record.name&&r.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function c(p){const g=rE(p,n);n.splice(g,0,p),p.record.name&&!Lu(p)&&r.set(p.record.name,p)}function h(p,g){let v,V={},x,L;if("name"in p&&p.name){if(v=r.get(p.name),!v)throw Br(Mt.MATCHER_NOT_FOUND,{location:p});L=v.record.name,V=Tt(Mu(g.params,v.keys.filter(H=>!H.optional).concat(v.parent?v.parent.keys.filter(H=>H.optional):[]).map(H=>H.name)),p.params&&Mu(p.params,v.keys.map(H=>H.name))),x=v.stringify(V)}else if(p.path!=null)x=p.path,v=n.find(H=>H.re.test(x)),v&&(V=v.parse(x),L=v.record.name);else{if(v=g.name?r.get(g.name):n.find(H=>H.re.test(g.path)),!v)throw Br(Mt.MATCHER_NOT_FOUND,{location:p,currentLocation:g});L=v.record.name,V=Tt({},g.params,p.params),x=v.stringify(V)}const $=[];let q=v;for(;q;)$.unshift(q.record),q=q.parent;return{name:L,path:x,params:V,matched:$,meta:nE($)}}e.forEach(p=>i(p));function d(){n.length=0,r.clear()}return{addRoute:i,resolve:h,removeRoute:a,clearRoutes:d,getRoutes:l,getRecordMatcher:s}}function Mu(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function ku(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:eE(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function eE(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Lu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function nE(e){return e.reduce((t,n)=>Tt(t,n.meta),{})}function rE(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;Rd(e,t[i])<0?r=i:n=i+1}const s=sE(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function sE(e){let t=e;for(;t=t.parent;)if(bd(t)&&Rd(e,t)===0)return t}function bd({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Fu(e){const t=hn(Al),n=hn(Ad),r=Oe(()=>{const c=un(e.to);return t.resolve(c)}),s=Oe(()=>{const{matched:c}=r.value,{length:h}=c,d=c[h-1],p=n.matched;if(!d||!p.length)return-1;const g=p.findIndex(Ur.bind(null,d));if(g>-1)return g;const v=Uu(c[h-2]);return h>1&&Uu(d)===v&&p[p.length-1].path!==v?p.findIndex(Ur.bind(null,c[h-2])):g}),i=Oe(()=>s.value>-1&&lE(n.params,r.value.params)),a=Oe(()=>s.value>-1&&s.value===n.matched.length-1&&vd(n.params,r.value.params));function l(c={}){if(aE(c)){const h=t[un(e.replace)?"replace":"push"](un(e.to)).catch(Ps);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:r,href:Oe(()=>r.value.href),isActive:i,isExactActive:a,navigate:l}}function iE(e){return e.length===1?e[0]:e}const oE=Lf({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Fu,setup(e,{slots:t}){const n=mo(Fu(e)),{options:r}=hn(Al),s=Oe(()=>({[Bu(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Bu(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&iE(t.default(n));return e.custom?i:fd("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Oa=oE;function aE(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function lE(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Ue(s)||s.length!==r.length||r.some((i,a)=>i.valueOf()!==s[a].valueOf()))return!1}return!0}function Uu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Bu=(e,t,n)=>e??t??n,cE=Lf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=hn(xa),s=Oe(()=>e.route||r.value),i=hn(Du,0),a=Oe(()=>{let h=un(i);const{matched:d}=s.value;let p;for(;(p=d[h])&&!p.components;)h++;return h}),l=Oe(()=>s.value.matched[a.value]);Ri(Du,Oe(()=>a.value+1)),Ri(Fy,l),Ri(xa,s);const c=Ls();return bi(()=>[c.value,l.value,e.name],([h,d,p],[g,v,V])=>{d&&(d.instances[p]=h,v&&v!==d&&h&&h===g&&(d.leaveGuards.size||(d.leaveGuards=v.leaveGuards),d.updateGuards.size||(d.updateGuards=v.updateGuards))),h&&d&&(!v||!Ur(d,v)||!g)&&(d.enterCallbacks[p]||[]).forEach(x=>x(h))},{flush:"post"}),()=>{const h=s.value,d=e.name,p=l.value,g=p&&p.components[d];if(!g)return ju(n.default,{Component:g,route:h});const v=p.props[d],V=v?v===!0?h.params:typeof v=="function"?v(h):v:null,L=fd(g,Tt({},V,t,{onVnodeUnmounted:$=>{$.component.isUnmounted&&(p.instances[d]=null)},ref:c}));return ju(n.default,{Component:L,route:h})||L}}});function ju(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Sd=cE;function uE(e){const t=tE(e.routes,e),n=e.parseQuery||ky,r=e.stringifyQuery||Vu,s=e.history,i=gs(),a=gs(),l=gs(),c=_g(bn);let h=bn;Ar&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=ia.bind(null,O=>""+O),p=ia.bind(null,Ey),g=ia.bind(null,js);function v(O,Y){let K,Z;return Td(O)?(K=t.getRecordMatcher(O),Z=Y):Z=O,t.addRoute(Z,K)}function V(O){const Y=t.getRecordMatcher(O);Y&&t.removeRoute(Y)}function x(){return t.getRoutes().map(O=>O.record)}function L(O){return!!t.getRecordMatcher(O)}function $(O,Y){if(Y=Tt({},Y||c.value),typeof O=="string"){const b=oa(n,O,Y.path),D=t.resolve({path:b.path},Y),F=s.createHref(b.fullPath);return Tt(b,D,{params:g(D.params),hash:js(b.hash),redirectedFrom:void 0,href:F})}let K;if(O.path!=null)K=Tt({},O,{path:oa(n,O.path,Y.path).path});else{const b=Tt({},O.params);for(const D in b)b[D]==null&&delete b[D];K=Tt({},O,{params:p(b)}),Y.params=p(Y.params)}const Z=t.resolve(K,Y),dt=O.hash||"";Z.params=d(g(Z.params));const _=Iy(r,Tt({},O,{hash:gy(dt),path:Z.path})),T=s.createHref(_);return Tt({fullPath:_,hash:dt,query:r===Vu?Ly(O.query):O.query||{}},Z,{redirectedFrom:void 0,href:T})}function q(O){return typeof O=="string"?oa(n,O,c.value.path):Tt({},O)}function H(O,Y){if(h!==O)return Br(Mt.NAVIGATION_CANCELLED,{from:Y,to:O})}function W(O){return A(O)}function lt(O){return W(Tt(q(O),{replace:!0}))}function ft(O,Y){const K=O.matched[O.matched.length-1];if(K&&K.redirect){const{redirect:Z}=K;let dt=typeof Z=="function"?Z(O,Y):Z;return typeof dt=="string"&&(dt=dt.includes("?")||dt.includes("#")?dt=q(dt):{path:dt},dt.params={}),Tt({query:O.query,hash:O.hash,params:dt.path!=null?{}:O.params},dt)}}function A(O,Y){const K=h=$(O),Z=c.value,dt=O.state,_=O.force,T=O.replace===!0,b=ft(K,Z);if(b)return A(Tt(q(b),{state:typeof b=="object"?Tt({},dt,b.state):dt,force:_,replace:T}),Y||K);const D=K;D.redirectedFrom=Y;let F;return!_&&Ay(r,Z,K)&&(F=Br(Mt.NAVIGATION_DUPLICATED,{to:D,from:Z}),ve(Z,Z,!0,!1)),(F?Promise.resolve(F):R(D,Z)).catch(N=>on(N)?on(N,Mt.NAVIGATION_GUARD_REDIRECT)?N:je(N):gt(N,D,Z)).then(N=>{if(N){if(on(N,Mt.NAVIGATION_GUARD_REDIRECT))return A(Tt({replace:T},q(N.to),{state:typeof N.to=="object"?Tt({},dt,N.to.state):dt,force:_}),Y||D)}else N=S(D,Z,!0,T,dt);return w(D,Z,N),N})}function y(O,Y){const K=H(O,Y);return K?Promise.reject(K):Promise.resolve()}function I(O){const Y=De.values().next().value;return Y&&typeof Y.runWithContext=="function"?Y.runWithContext(O):O()}function R(O,Y){let K;const[Z,dt,_]=Uy(O,Y);K=la(Z.reverse(),"beforeRouteLeave",O,Y);for(const b of Z)b.leaveGuards.forEach(D=>{K.push(Vn(D,O,Y))});const T=y.bind(null,O,Y);return K.push(T),ne(K).then(()=>{K=[];for(const b of i.list())K.push(Vn(b,O,Y));return K.push(T),ne(K)}).then(()=>{K=la(dt,"beforeRouteUpdate",O,Y);for(const b of dt)b.updateGuards.forEach(D=>{K.push(Vn(D,O,Y))});return K.push(T),ne(K)}).then(()=>{K=[];for(const b of _)if(b.beforeEnter)if(Ue(b.beforeEnter))for(const D of b.beforeEnter)K.push(Vn(D,O,Y));else K.push(Vn(b.beforeEnter,O,Y));return K.push(T),ne(K)}).then(()=>(O.matched.forEach(b=>b.enterCallbacks={}),K=la(_,"beforeRouteEnter",O,Y,I),K.push(T),ne(K))).then(()=>{K=[];for(const b of a.list())K.push(Vn(b,O,Y));return K.push(T),ne(K)}).catch(b=>on(b,Mt.NAVIGATION_CANCELLED)?b:Promise.reject(b))}function w(O,Y,K){l.list().forEach(Z=>I(()=>Z(O,Y,K)))}function S(O,Y,K,Z,dt){const _=H(O,Y);if(_)return _;const T=Y===bn,b=Ar?history.state:{};K&&(Z||T?s.replace(O.fullPath,Tt({scroll:T&&b&&b.scroll},dt)):s.push(O.fullPath,dt)),c.value=O,ve(O,Y,K,T),je()}let E;function Lt(){E||(E=s.listen((O,Y,K)=>{if(!Ne.listening)return;const Z=$(O),dt=ft(Z,Ne.currentRoute.value);if(dt){A(Tt(dt,{replace:!0,force:!0}),Z).catch(Ps);return}h=Z;const _=c.value;Ar&&Dy(Pu(_.fullPath,K.delta),To()),R(Z,_).catch(T=>on(T,Mt.NAVIGATION_ABORTED|Mt.NAVIGATION_CANCELLED)?T:on(T,Mt.NAVIGATION_GUARD_REDIRECT)?(A(Tt(q(T.to),{force:!0}),Z).then(b=>{on(b,Mt.NAVIGATION_ABORTED|Mt.NAVIGATION_DUPLICATED)&&!K.delta&&K.type===Da.pop&&s.go(-1,!1)}).catch(Ps),Promise.reject()):(K.delta&&s.go(-K.delta,!1),gt(T,Z,_))).then(T=>{T=T||S(Z,_,!1),T&&(K.delta&&!on(T,Mt.NAVIGATION_CANCELLED)?s.go(-K.delta,!1):K.type===Da.pop&&on(T,Mt.NAVIGATION_ABORTED|Mt.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),w(Z,_,T)}).catch(Ps)}))}let ge=gs(),Ft=gs(),vt;function gt(O,Y,K){je(O);const Z=Ft.list();return Z.length?Z.forEach(dt=>dt(O,Y,K)):console.error(O),Promise.reject(O)}function _e(){return vt&&c.value!==bn?Promise.resolve():new Promise((O,Y)=>{ge.add([O,Y])})}function je(O){return vt||(vt=!O,Lt(),ge.list().forEach(([Y,K])=>O?K(O):Y()),ge.reset()),O}function ve(O,Y,K,Z){const{scrollBehavior:dt}=e;if(!Ar||!dt)return Promise.resolve();const _=!K&&Ny(Pu(O.fullPath,0))||(Z||!K)&&history.state&&history.state.scroll||null;return gl().then(()=>dt(O,Y,_)).then(T=>T&&Vy(T)).catch(T=>gt(T,O,Y))}const Xt=O=>s.go(O);let rn;const De=new Set,Ne={currentRoute:c,listening:!0,addRoute:v,removeRoute:V,clearRoutes:t.clearRoutes,hasRoute:L,getRoutes:x,resolve:$,options:e,push:W,replace:lt,go:Xt,back:()=>Xt(-1),forward:()=>Xt(1),beforeEach:i.add,beforeResolve:a.add,afterEach:l.add,onError:Ft.add,isReady:_e,install(O){O.component("RouterLink",Oa),O.component("RouterView",Sd),O.config.globalProperties.$router=Ne,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>un(c)}),Ar&&!rn&&c.value===bn&&(rn=!0,W(s.location).catch(Z=>{}));const Y={};for(const Z in bn)Object.defineProperty(Y,Z,{get:()=>c.value[Z],enumerable:!0});O.provide(Al,Ne),O.provide(Ad,Sf(Y)),O.provide(xa,c);const K=O.unmount;De.add(O),O.unmount=function(){De.delete(O),De.size<1&&(h=bn,E&&E(),E=null,c.value=bn,rn=!1,vt=!1),K()}}};function ne(O){return O.reduce((Y,K)=>Y.then(()=>I(K)),Promise.resolve())}return Ne}const hE="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20261.76%20226.69'%3e%3cpath%20d='M161.096.001l-30.225%2052.351L100.647.001H-.005l130.877%20226.688L261.749.001z'%20fill='%2341b883'/%3e%3cpath%20d='M161.096.001l-30.225%2052.351L100.647.001H52.346l78.526%20136.01L209.398.001z'%20fill='%2334495e'/%3e%3c/svg%3e",fE=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},dE={class:"navbar"},pE={class:"container"},mE={class:"brand-name"},gE={class:"nav-menu"},_E={__name:"Navbar",setup(e){const t=Ls(" firebase"),n=Ls([{name:"",path:"/"},{name:"",path:"/about"}]);return(r,s)=>(fn(),or("nav",dE,[Me("div",pE,[te(un(Oa),{to:"/",class:"brand-group"},{default:Aa(()=>[s[0]||(s[0]=Me("img",{src:hE,alt:"Logo",class:"logo-img"},null,-1)),Me("span",mE,Mi(t.value),1)]),_:1}),Me("ul",gE,[(fn(!0),or(Re,null,$f(n.value,i=>(fn(),or("li",{key:i.name},[te(un(Oa),{to:i.path,class:"nav-item"},{default:Aa(()=>[cd(Mi(i.name),1)]),_:2},1032,["to"])]))),128))])])]))}},yE=fE(_E,[["__scopeId","data-v-21463ef2"]]),EE={class:"content"},vE={__name:"App",setup(e){return(t,n)=>(fn(),or(Re,null,[te(yE),Me("main",EE,[te(un(Sd))])],64))}},TE="modulepreload",IE=function(e){return"/firebaseTest/"+e},qu={},AE=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");s=c(n.map(h=>{if(h=IE(h),h in qu)return;qu[h]=!0;const d=h.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":TE,d||(g.as="script"),g.crossOrigin="",g.href=h,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((v,V)=>{g.addEventListener("load",v),g.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},wE=()=>{};var $u={};const Cd=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},RE=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],a=e[n++],l=e[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return t.join("")},Pd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],a=s+1<e.length,l=a?e[s+1]:0,c=s+2<e.length,h=c?e[s+2]:0,d=i>>2,p=(i&3)<<4|l>>4;let g=(l&15)<<2|h>>6,v=h&63;c||(v=64,a||(g=64)),r.push(n[d],n[p],n[g],n[v])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Cd(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):RE(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],l=s<e.length?n[e.charAt(s)]:0;++s;const h=s<e.length?n[e.charAt(s)]:64;++s;const p=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||l==null||h==null||p==null)throw new bE;const g=i<<2|l>>4;if(r.push(g),h!==64){const v=l<<4&240|h>>2;if(r.push(v),p!==64){const V=h<<6&192|p;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class bE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SE=function(e){const t=Cd(e);return Pd.encodeByteArray(t,!0)},zi=function(e){return SE(e).replace(/\./g,"")},CE=function(e){try{return Pd.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function PE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const VE=()=>PE().__FIREBASE_DEFAULTS__,DE=()=>{if(typeof process>"u"||typeof $u>"u")return;const e=$u.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},NE=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&CE(e[1]);return t&&JSON.parse(t)},wl=()=>{try{return wE()||VE()||DE()||NE()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},xE=e=>wl()?.emulatorHosts?.[e],OE=e=>{const t=xE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Vd=()=>wl()?.config;class ME{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function Rl(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kE(e){return(await fetch(e,{credentials:"include"})).ok}function LE(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[zi(JSON.stringify(n)),zi(JSON.stringify(a)),""].join(".")}const Vs={};function FE(){const e={prod:[],emulator:[]};for(const t of Object.keys(Vs))Vs[t]?e.emulator.push(t):e.prod.push(t);return e}function UE(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Hu=!1;function BE(e,t){if(typeof window>"u"||typeof document>"u"||!Rl(window.location.host)||Vs[e]===t||Vs[e]||Hu)return;Vs[e]=t;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=FE().prod.length>0;function a(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Hu=!0,a()},g}function d(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=UE(r),v=n("text"),V=document.getElementById(v)||document.createElement("span"),x=n("learnmore"),L=document.getElementById(x)||document.createElement("a"),$=n("preprendIcon"),q=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const H=g.element;l(H),d(L,x);const W=h();c(q,$),H.append(q,V,L,W),document.body.appendChild(H)}i?(V.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function jE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qE(){const e=wl()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $E(){return!qE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HE(){try{return typeof indexedDB=="object"}catch{return!1}}function GE(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(n){t(n)}})}const zE="FirebaseError";class Kr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=zE,Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dd.prototype.create)}}class Dd{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],a=i?KE(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Kr(s,l,r)}}function KE(e,t){return e.replace(WE,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const WE=/\{\$([^}]+)}/g;function Ki(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],a=t[s];if(Gu(i)&&Gu(a)){if(!Ki(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Gu(e){return e!==null&&typeof e=="object"}function cr(e){return e&&e._delegate?e._delegate:e}class qs{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const tr="[DEFAULT]";class QE{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new ME;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(YE(t))try{this.getOrInitializeService({instanceIdentifier:tr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=tr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=tr){return this.instances.has(t)}getOptions(t=tr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(t),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&t(i,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XE(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=tr){return this.component?this.component.multipleInstances?t:tr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XE(e){return e===tr?void 0:e}function YE(e){return e.instantiationMode==="EAGER"}class JE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new QE(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var yt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(yt||(yt={}));const ZE={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},tv=yt.INFO,ev={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},nv=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=ev[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Nd{constructor(t){this.name=t,this._logLevel=tv,this._logHandler=nv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in yt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ZE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...t),this._logHandler(this,yt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...t),this._logHandler(this,yt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...t),this._logHandler(this,yt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...t),this._logHandler(this,yt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...t),this._logHandler(this,yt.ERROR,...t)}}const rv=(e,t)=>t.some(n=>e instanceof n);let zu,Ku;function sv(){return zu||(zu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iv(){return Ku||(Ku=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xd=new WeakMap,Ma=new WeakMap,Od=new WeakMap,ca=new WeakMap,bl=new WeakMap;function ov(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{n(xn(e.result)),s()},a=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&xd.set(n,e)}).catch(()=>{}),bl.set(t,e),t}function av(e){if(Ma.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Ma.set(e,t)}let ka={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ma.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Od.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function lv(e){ka=e(ka)}function cv(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(ua(this),t,...n);return Od.set(r,t.sort?t.sort():[t]),xn(r)}:iv().includes(e)?function(...t){return e.apply(ua(this),t),xn(xd.get(this))}:function(...t){return xn(e.apply(ua(this),t))}}function uv(e){return typeof e=="function"?cv(e):(e instanceof IDBTransaction&&av(e),rv(e,sv())?new Proxy(e,ka):e)}function xn(e){if(e instanceof IDBRequest)return ov(e);if(ca.has(e))return ca.get(e);const t=uv(e);return t!==e&&(ca.set(e,t),bl.set(t,e)),t}const ua=e=>bl.get(e);function hv(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),l=xn(a);return r&&a.addEventListener("upgradeneeded",c=>{r(xn(a.result),c.oldVersion,c.newVersion,xn(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const fv=["get","getKey","getAll","getAllKeys","count"],dv=["put","add","delete","clear"],ha=new Map;function Wu(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ha.get(t))return ha.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=dv.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||fv.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&c.done]))[0]};return ha.set(t,i),i}lv(e=>({...e,get:(t,n,r)=>Wu(t,n)||e.get(t,n,r),has:(t,n)=>!!Wu(t,n)||e.has(t,n)}));class pv{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mv(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mv(e){return e.getComponent()?.type==="VERSION"}const La="@firebase/app",Qu="0.14.6";const gn=new Nd("@firebase/app"),gv="@firebase/app-compat",_v="@firebase/analytics-compat",yv="@firebase/analytics",Ev="@firebase/app-check-compat",vv="@firebase/app-check",Tv="@firebase/auth",Iv="@firebase/auth-compat",Av="@firebase/database",wv="@firebase/data-connect",Rv="@firebase/database-compat",bv="@firebase/functions",Sv="@firebase/functions-compat",Cv="@firebase/installations",Pv="@firebase/installations-compat",Vv="@firebase/messaging",Dv="@firebase/messaging-compat",Nv="@firebase/performance",xv="@firebase/performance-compat",Ov="@firebase/remote-config",Mv="@firebase/remote-config-compat",kv="@firebase/storage",Lv="@firebase/storage-compat",Fv="@firebase/firestore",Uv="@firebase/ai",Bv="@firebase/firestore-compat",jv="firebase",qv="12.6.0";const Fa="[DEFAULT]",$v={[La]:"fire-core",[gv]:"fire-core-compat",[yv]:"fire-analytics",[_v]:"fire-analytics-compat",[vv]:"fire-app-check",[Ev]:"fire-app-check-compat",[Tv]:"fire-auth",[Iv]:"fire-auth-compat",[Av]:"fire-rtdb",[wv]:"fire-data-connect",[Rv]:"fire-rtdb-compat",[bv]:"fire-fn",[Sv]:"fire-fn-compat",[Cv]:"fire-iid",[Pv]:"fire-iid-compat",[Vv]:"fire-fcm",[Dv]:"fire-fcm-compat",[Nv]:"fire-perf",[xv]:"fire-perf-compat",[Ov]:"fire-rc",[Mv]:"fire-rc-compat",[kv]:"fire-gcs",[Lv]:"fire-gcs-compat",[Fv]:"fire-fst",[Bv]:"fire-fst-compat",[Uv]:"fire-vertex","fire-js":"fire-js",[jv]:"fire-js-all"};const Wi=new Map,Hv=new Map,Ua=new Map;function Xu(e,t){try{e.container.addComponent(t)}catch(n){gn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Qi(e){const t=e.name;if(Ua.has(t))return gn.debug(`There were multiple attempts to register component ${t}.`),!1;Ua.set(t,e);for(const n of Wi.values())Xu(n,e);for(const n of Hv.values())Xu(n,e);return!0}function Gv(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function zv(e){return e==null?!1:e.settings!==void 0}const Kv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},On=new Dd("app","Firebase",Kv);class Wv{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}}const Qv=qv;function Md(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:Fa,automaticDataCollectionEnabled:!0,...t},s=r.name;if(typeof s!="string"||!s)throw On.create("bad-app-name",{appName:String(s)});if(n||(n=Vd()),!n)throw On.create("no-options");const i=Wi.get(s);if(i){if(Ki(n,i.options)&&Ki(r,i.config))return i;throw On.create("duplicate-app",{appName:s})}const a=new JE(s);for(const c of Ua.values())a.addComponent(c);const l=new Wv(n,r,a);return Wi.set(s,l),l}function Xv(e=Fa){const t=Wi.get(e);if(!t&&e===Fa&&Vd())return Md();if(!t)throw On.create("no-app",{appName:e});return t}function xr(e,t,n){let r=$v[e]??e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gn.warn(a.join(" "));return}Qi(new qs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Yv="firebase-heartbeat-database",Jv=1,$s="firebase-heartbeat-store";let fa=null;function kd(){return fa||(fa=hv(Yv,Jv,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore($s)}catch(n){console.warn(n)}}}}).catch(e=>{throw On.create("idb-open",{originalErrorMessage:e.message})})),fa}async function Zv(e){try{const n=(await kd()).transaction($s),r=await n.objectStore($s).get(Ld(e));return await n.done,r}catch(t){if(t instanceof Kr)gn.warn(t.message);else{const n=On.create("idb-get",{originalErrorMessage:t?.message});gn.warn(n.message)}}}async function Yu(e,t){try{const r=(await kd()).transaction($s,"readwrite");await r.objectStore($s).put(t,Ld(e)),await r.done}catch(n){if(n instanceof Kr)gn.warn(n.message);else{const r=On.create("idb-set",{originalErrorMessage:n?.message});gn.warn(r.message)}}}function Ld(e){return`${e.name}!${e.options.appId}`}const tT=1024,eT=30;class nT{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ju();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>eT){const s=iT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){gn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ju(),{heartbeatsToSend:n,unsentEntries:r}=rT(this._heartbeatsCache.heartbeats),s=zi(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return gn.warn(t),""}}}function Ju(){return new Date().toISOString().substring(0,10)}function rT(e,t=tT){const n=[];let r=e.slice();for(const s of e){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Zu(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Zu(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HE()?GE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Zv(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yu(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yu(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Zu(e){return zi(JSON.stringify({version:2,heartbeats:e})).length}function iT(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function oT(e){Qi(new qs("platform-logger",t=>new pv(t),"PRIVATE")),Qi(new qs("heartbeat",t=>new nT(t),"PRIVATE")),xr(La,Qu,e),xr(La,Qu,"esm2020"),xr("fire-js","")}oT("");var aT="firebase",lT="12.7.0";xr(aT,lT,"app");var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Mn,Fd;(function(){var e;function t(A,y){function I(){}I.prototype=y.prototype,A.F=y.prototype,A.prototype=new I,A.prototype.constructor=A,A.D=function(R,w,S){for(var E=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)E[Lt-2]=arguments[Lt];return y.prototype[w].apply(R,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,y,I){I||(I=0);const R=Array(16);if(typeof y=="string")for(var w=0;w<16;++w)R[w]=y.charCodeAt(I++)|y.charCodeAt(I++)<<8|y.charCodeAt(I++)<<16|y.charCodeAt(I++)<<24;else for(w=0;w<16;++w)R[w]=y[I++]|y[I++]<<8|y[I++]<<16|y[I++]<<24;y=A.g[0],I=A.g[1],w=A.g[2];let S=A.g[3],E;E=y+(S^I&(w^S))+R[0]+3614090360&4294967295,y=I+(E<<7&4294967295|E>>>25),E=S+(w^y&(I^w))+R[1]+3905402710&4294967295,S=y+(E<<12&4294967295|E>>>20),E=w+(I^S&(y^I))+R[2]+606105819&4294967295,w=S+(E<<17&4294967295|E>>>15),E=I+(y^w&(S^y))+R[3]+3250441966&4294967295,I=w+(E<<22&4294967295|E>>>10),E=y+(S^I&(w^S))+R[4]+4118548399&4294967295,y=I+(E<<7&4294967295|E>>>25),E=S+(w^y&(I^w))+R[5]+1200080426&4294967295,S=y+(E<<12&4294967295|E>>>20),E=w+(I^S&(y^I))+R[6]+2821735955&4294967295,w=S+(E<<17&4294967295|E>>>15),E=I+(y^w&(S^y))+R[7]+4249261313&4294967295,I=w+(E<<22&4294967295|E>>>10),E=y+(S^I&(w^S))+R[8]+1770035416&4294967295,y=I+(E<<7&4294967295|E>>>25),E=S+(w^y&(I^w))+R[9]+2336552879&4294967295,S=y+(E<<12&4294967295|E>>>20),E=w+(I^S&(y^I))+R[10]+4294925233&4294967295,w=S+(E<<17&4294967295|E>>>15),E=I+(y^w&(S^y))+R[11]+2304563134&4294967295,I=w+(E<<22&4294967295|E>>>10),E=y+(S^I&(w^S))+R[12]+1804603682&4294967295,y=I+(E<<7&4294967295|E>>>25),E=S+(w^y&(I^w))+R[13]+4254626195&4294967295,S=y+(E<<12&4294967295|E>>>20),E=w+(I^S&(y^I))+R[14]+2792965006&4294967295,w=S+(E<<17&4294967295|E>>>15),E=I+(y^w&(S^y))+R[15]+1236535329&4294967295,I=w+(E<<22&4294967295|E>>>10),E=y+(w^S&(I^w))+R[1]+4129170786&4294967295,y=I+(E<<5&4294967295|E>>>27),E=S+(I^w&(y^I))+R[6]+3225465664&4294967295,S=y+(E<<9&4294967295|E>>>23),E=w+(y^I&(S^y))+R[11]+643717713&4294967295,w=S+(E<<14&4294967295|E>>>18),E=I+(S^y&(w^S))+R[0]+3921069994&4294967295,I=w+(E<<20&4294967295|E>>>12),E=y+(w^S&(I^w))+R[5]+3593408605&4294967295,y=I+(E<<5&4294967295|E>>>27),E=S+(I^w&(y^I))+R[10]+38016083&4294967295,S=y+(E<<9&4294967295|E>>>23),E=w+(y^I&(S^y))+R[15]+3634488961&4294967295,w=S+(E<<14&4294967295|E>>>18),E=I+(S^y&(w^S))+R[4]+3889429448&4294967295,I=w+(E<<20&4294967295|E>>>12),E=y+(w^S&(I^w))+R[9]+568446438&4294967295,y=I+(E<<5&4294967295|E>>>27),E=S+(I^w&(y^I))+R[14]+3275163606&4294967295,S=y+(E<<9&4294967295|E>>>23),E=w+(y^I&(S^y))+R[3]+4107603335&4294967295,w=S+(E<<14&4294967295|E>>>18),E=I+(S^y&(w^S))+R[8]+1163531501&4294967295,I=w+(E<<20&4294967295|E>>>12),E=y+(w^S&(I^w))+R[13]+2850285829&4294967295,y=I+(E<<5&4294967295|E>>>27),E=S+(I^w&(y^I))+R[2]+4243563512&4294967295,S=y+(E<<9&4294967295|E>>>23),E=w+(y^I&(S^y))+R[7]+1735328473&4294967295,w=S+(E<<14&4294967295|E>>>18),E=I+(S^y&(w^S))+R[12]+2368359562&4294967295,I=w+(E<<20&4294967295|E>>>12),E=y+(I^w^S)+R[5]+4294588738&4294967295,y=I+(E<<4&4294967295|E>>>28),E=S+(y^I^w)+R[8]+2272392833&4294967295,S=y+(E<<11&4294967295|E>>>21),E=w+(S^y^I)+R[11]+1839030562&4294967295,w=S+(E<<16&4294967295|E>>>16),E=I+(w^S^y)+R[14]+4259657740&4294967295,I=w+(E<<23&4294967295|E>>>9),E=y+(I^w^S)+R[1]+2763975236&4294967295,y=I+(E<<4&4294967295|E>>>28),E=S+(y^I^w)+R[4]+1272893353&4294967295,S=y+(E<<11&4294967295|E>>>21),E=w+(S^y^I)+R[7]+4139469664&4294967295,w=S+(E<<16&4294967295|E>>>16),E=I+(w^S^y)+R[10]+3200236656&4294967295,I=w+(E<<23&4294967295|E>>>9),E=y+(I^w^S)+R[13]+681279174&4294967295,y=I+(E<<4&4294967295|E>>>28),E=S+(y^I^w)+R[0]+3936430074&4294967295,S=y+(E<<11&4294967295|E>>>21),E=w+(S^y^I)+R[3]+3572445317&4294967295,w=S+(E<<16&4294967295|E>>>16),E=I+(w^S^y)+R[6]+76029189&4294967295,I=w+(E<<23&4294967295|E>>>9),E=y+(I^w^S)+R[9]+3654602809&4294967295,y=I+(E<<4&4294967295|E>>>28),E=S+(y^I^w)+R[12]+3873151461&4294967295,S=y+(E<<11&4294967295|E>>>21),E=w+(S^y^I)+R[15]+530742520&4294967295,w=S+(E<<16&4294967295|E>>>16),E=I+(w^S^y)+R[2]+3299628645&4294967295,I=w+(E<<23&4294967295|E>>>9),E=y+(w^(I|~S))+R[0]+4096336452&4294967295,y=I+(E<<6&4294967295|E>>>26),E=S+(I^(y|~w))+R[7]+1126891415&4294967295,S=y+(E<<10&4294967295|E>>>22),E=w+(y^(S|~I))+R[14]+2878612391&4294967295,w=S+(E<<15&4294967295|E>>>17),E=I+(S^(w|~y))+R[5]+4237533241&4294967295,I=w+(E<<21&4294967295|E>>>11),E=y+(w^(I|~S))+R[12]+1700485571&4294967295,y=I+(E<<6&4294967295|E>>>26),E=S+(I^(y|~w))+R[3]+2399980690&4294967295,S=y+(E<<10&4294967295|E>>>22),E=w+(y^(S|~I))+R[10]+4293915773&4294967295,w=S+(E<<15&4294967295|E>>>17),E=I+(S^(w|~y))+R[1]+2240044497&4294967295,I=w+(E<<21&4294967295|E>>>11),E=y+(w^(I|~S))+R[8]+1873313359&4294967295,y=I+(E<<6&4294967295|E>>>26),E=S+(I^(y|~w))+R[15]+4264355552&4294967295,S=y+(E<<10&4294967295|E>>>22),E=w+(y^(S|~I))+R[6]+2734768916&4294967295,w=S+(E<<15&4294967295|E>>>17),E=I+(S^(w|~y))+R[13]+1309151649&4294967295,I=w+(E<<21&4294967295|E>>>11),E=y+(w^(I|~S))+R[4]+4149444226&4294967295,y=I+(E<<6&4294967295|E>>>26),E=S+(I^(y|~w))+R[11]+3174756917&4294967295,S=y+(E<<10&4294967295|E>>>22),E=w+(y^(S|~I))+R[2]+718787259&4294967295,w=S+(E<<15&4294967295|E>>>17),E=I+(S^(w|~y))+R[9]+3951481745&4294967295,A.g[0]=A.g[0]+y&4294967295,A.g[1]=A.g[1]+(w+(E<<21&4294967295|E>>>11))&4294967295,A.g[2]=A.g[2]+w&4294967295,A.g[3]=A.g[3]+S&4294967295}r.prototype.v=function(A,y){y===void 0&&(y=A.length);const I=y-this.blockSize,R=this.C;let w=this.h,S=0;for(;S<y;){if(w==0)for(;S<=I;)s(this,A,S),S+=this.blockSize;if(typeof A=="string"){for(;S<y;)if(R[w++]=A.charCodeAt(S++),w==this.blockSize){s(this,R),w=0;break}}else for(;S<y;)if(R[w++]=A[S++],w==this.blockSize){s(this,R),w=0;break}}this.h=w,this.o+=y},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var y=1;y<A.length-8;++y)A[y]=0;y=this.o*8;for(var I=A.length-8;I<A.length;++I)A[I]=y&255,y/=256;for(this.v(A),A=Array(16),y=0,I=0;I<4;++I)for(let R=0;R<32;R+=8)A[y++]=this.g[I]>>>R&255;return A};function i(A,y){var I=l;return Object.prototype.hasOwnProperty.call(I,A)?I[A]:I[A]=y(A)}function a(A,y){this.h=y;const I=[];let R=!0;for(let w=A.length-1;w>=0;w--){const S=A[w]|0;R&&S==y||(I[w]=S,R=!1)}this.g=I}var l={};function c(A){return-128<=A&&A<128?i(A,function(y){return new a([y|0],y<0?-1:0)}):new a([A|0],A<0?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return p;if(A<0)return L(h(-A));const y=[];let I=1;for(let R=0;A>=I;R++)y[R]=A/I|0,I*=4294967296;return new a(y,0)}function d(A,y){if(A.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(A.charAt(0)=="-")return L(d(A.substring(1),y));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=h(Math.pow(y,8));let R=p;for(let S=0;S<A.length;S+=8){var w=Math.min(8,A.length-S);const E=parseInt(A.substring(S,S+w),y);w<8?(w=h(Math.pow(y,w)),R=R.j(w).add(h(E))):(R=R.j(I),R=R.add(h(E)))}return R}var p=c(0),g=c(1),v=c(16777216);e=a.prototype,e.m=function(){if(x(this))return-L(this).m();let A=0,y=1;for(let I=0;I<this.g.length;I++){const R=this.i(I);A+=(R>=0?R:4294967296+R)*y,y*=4294967296}return A},e.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(V(this))return"0";if(x(this))return"-"+L(this).toString(A);const y=h(Math.pow(A,6));var I=this;let R="";for(;;){const w=W(I,y).g;I=$(I,w.j(y));let S=((I.g.length>0?I.g[0]:I.h)>>>0).toString(A);if(I=w,V(I))return S+R;for(;S.length<6;)S="0"+S;R=S+R}},e.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function V(A){if(A.h!=0)return!1;for(let y=0;y<A.g.length;y++)if(A.g[y]!=0)return!1;return!0}function x(A){return A.h==-1}e.l=function(A){return A=$(this,A),x(A)?-1:V(A)?0:1};function L(A){const y=A.g.length,I=[];for(let R=0;R<y;R++)I[R]=~A.g[R];return new a(I,~A.h).add(g)}e.abs=function(){return x(this)?L(this):this},e.add=function(A){const y=Math.max(this.g.length,A.g.length),I=[];let R=0;for(let w=0;w<=y;w++){let S=R+(this.i(w)&65535)+(A.i(w)&65535),E=(S>>>16)+(this.i(w)>>>16)+(A.i(w)>>>16);R=E>>>16,S&=65535,E&=65535,I[w]=E<<16|S}return new a(I,I[I.length-1]&-2147483648?-1:0)};function $(A,y){return A.add(L(y))}e.j=function(A){if(V(this)||V(A))return p;if(x(this))return x(A)?L(this).j(L(A)):L(L(this).j(A));if(x(A))return L(this.j(L(A)));if(this.l(v)<0&&A.l(v)<0)return h(this.m()*A.m());const y=this.g.length+A.g.length,I=[];for(var R=0;R<2*y;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(let w=0;w<A.g.length;w++){const S=this.i(R)>>>16,E=this.i(R)&65535,Lt=A.i(w)>>>16,ge=A.i(w)&65535;I[2*R+2*w]+=E*ge,q(I,2*R+2*w),I[2*R+2*w+1]+=S*ge,q(I,2*R+2*w+1),I[2*R+2*w+1]+=E*Lt,q(I,2*R+2*w+1),I[2*R+2*w+2]+=S*Lt,q(I,2*R+2*w+2)}for(A=0;A<y;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=y;A<2*y;A++)I[A]=0;return new a(I,0)};function q(A,y){for(;(A[y]&65535)!=A[y];)A[y+1]+=A[y]>>>16,A[y]&=65535,y++}function H(A,y){this.g=A,this.h=y}function W(A,y){if(V(y))throw Error("division by zero");if(V(A))return new H(p,p);if(x(A))return y=W(L(A),y),new H(L(y.g),L(y.h));if(x(y))return y=W(A,L(y)),new H(L(y.g),y.h);if(A.g.length>30){if(x(A)||x(y))throw Error("slowDivide_ only works with positive integers.");for(var I=g,R=y;R.l(A)<=0;)I=lt(I),R=lt(R);var w=ft(I,1),S=ft(R,1);for(R=ft(R,2),I=ft(I,2);!V(R);){var E=S.add(R);E.l(A)<=0&&(w=w.add(I),S=E),R=ft(R,1),I=ft(I,1)}return y=$(A,w.j(y)),new H(w,y)}for(w=p;A.l(y)>=0;){for(I=Math.max(1,Math.floor(A.m()/y.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),S=h(I),E=S.j(y);x(E)||E.l(A)>0;)I-=R,S=h(I),E=S.j(y);V(S)&&(S=g),w=w.add(S),A=$(A,E)}return new H(w,A)}e.B=function(A){return W(this,A).h},e.and=function(A){const y=Math.max(this.g.length,A.g.length),I=[];for(let R=0;R<y;R++)I[R]=this.i(R)&A.i(R);return new a(I,this.h&A.h)},e.or=function(A){const y=Math.max(this.g.length,A.g.length),I=[];for(let R=0;R<y;R++)I[R]=this.i(R)|A.i(R);return new a(I,this.h|A.h)},e.xor=function(A){const y=Math.max(this.g.length,A.g.length),I=[];for(let R=0;R<y;R++)I[R]=this.i(R)^A.i(R);return new a(I,this.h^A.h)};function lt(A){const y=A.g.length+1,I=[];for(let R=0;R<y;R++)I[R]=A.i(R)<<1|A.i(R-1)>>>31;return new a(I,A.h)}function ft(A,y){const I=y>>5;y%=32;const R=A.g.length-I,w=[];for(let S=0;S<R;S++)w[S]=y>0?A.i(S+I)>>>y|A.i(S+I+1)<<32-y:A.i(S+I);return new a(w,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Fd=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Mn=a}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});var Ei=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ud,ys,Bd,Pi,Ba,jd,qd,$d;(function(){var e,t=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ei=="object"&&Ei];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function s(o,u){if(u)t:{var f=r;o=o.split(".");for(var m=0;m<o.length-1;m++){var C=o[m];if(!(C in f))break t;f=f[C]}o=o[o.length-1],m=f[o],u=u(m),u!=m&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}s("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(o){return o||function(u){var f=[],m;for(m in u)Object.prototype.hasOwnProperty.call(u,m)&&f.push([m,u[m]]);return f}});var i=i||{},a=this||self;function l(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function c(o,u,f){return o.call.apply(o.bind,arguments)}function h(o,u,f){return h=c,h.apply(null,arguments)}function d(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),o.apply(this,m)}}function p(o,u){function f(){}f.prototype=u.prototype,o.Z=u.prototype,o.prototype=new f,o.prototype.constructor=o,o.Ob=function(m,C,P){for(var G=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)G[ut-2]=arguments[ut];return u.prototype[C].apply(m,G)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function v(o){const u=o.length;if(u>0){const f=Array(u);for(let m=0;m<u;m++)f[m]=o[m];return f}return[]}function V(o,u){for(let m=1;m<arguments.length;m++){const C=arguments[m];var f=typeof C;if(f=f!="object"?f:C?Array.isArray(C)?"array":f:"null",f=="array"||f=="object"&&typeof C.length=="number"){f=o.length||0;const P=C.length||0;o.length=f+P;for(let G=0;G<P;G++)o[f+G]=C[G]}else o.push(C)}}class x{constructor(u,f){this.i=u,this.j=f,this.h=0,this.g=null}get(){let u;return this.h>0?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function L(o){a.setTimeout(()=>{throw o},0)}function $(){var o=A;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class q{constructor(){this.h=this.g=null}add(u,f){const m=H.get();m.set(u,f),this.h?this.h.next=m:this.g=m,this.h=m}}var H=new x(()=>new W,o=>o.reset());class W{constructor(){this.next=this.g=this.h=null}set(u,f){this.h=u,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,ft=!1,A=new q,y=()=>{const o=Promise.resolve(void 0);lt=()=>{o.then(I)}};function I(){for(var o;o=$();){try{o.h.call(o.g)}catch(f){L(f)}var u=H;u.j(o),u.h<100&&(u.h++,o.next=u.g,u.g=o)}ft=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var S=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};a.addEventListener("test",f,u),a.removeEventListener("test",f,u)}catch{}return o})();function E(o){return/^[\s\xa0]*$/.test(o)}function Lt(o,u){w.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,u)}p(Lt,w),Lt.prototype.init=function(o,u){const f=this.type=o.type,m=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget,u||(f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement)),this.relatedTarget=u,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&Lt.Z.h.call(this)},Lt.prototype.h=function(){Lt.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),Ft=0;function vt(o,u,f,m,C){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!m,this.ha=C,this.key=++Ft,this.da=this.fa=!1}function gt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function _e(o,u,f){for(const m in o)u.call(f,o[m],m,o)}function je(o,u){for(const f in o)u.call(void 0,o[f],f,o)}function ve(o){const u={};for(const f in o)u[f]=o[f];return u}const Xt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rn(o,u){let f,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(f in m)o[f]=m[f];for(let P=0;P<Xt.length;P++)f=Xt[P],Object.prototype.hasOwnProperty.call(m,f)&&(o[f]=m[f])}}function De(o){this.src=o,this.g={},this.h=0}De.prototype.add=function(o,u,f,m,C){const P=o.toString();o=this.g[P],o||(o=this.g[P]=[],this.h++);const G=ne(o,u,m,C);return G>-1?(u=o[G],f||(u.fa=!1)):(u=new vt(u,this.src,P,!!m,C),u.fa=f,o.push(u)),u};function Ne(o,u){const f=u.type;if(f in o.g){var m=o.g[f],C=Array.prototype.indexOf.call(m,u,void 0),P;(P=C>=0)&&Array.prototype.splice.call(m,C,1),P&&(gt(u),o.g[f].length==0&&(delete o.g[f],o.h--))}}function ne(o,u,f,m){for(let C=0;C<o.length;++C){const P=o[C];if(!P.da&&P.listener==u&&P.capture==!!f&&P.ha==m)return C}return-1}var O="closure_lm_"+(Math.random()*1e6|0),Y={};function K(o,u,f,m,C){if(Array.isArray(u)){for(let P=0;P<u.length;P++)K(o,u[P],f,m,C);return null}return f=z(f),o&&o[ge]?o.J(u,f,l(m)?!!m.capture:!1,C):Z(o,u,f,!1,m,C)}function Z(o,u,f,m,C,P){if(!u)throw Error("Invalid event type");const G=l(C)?!!C.capture:!!C;let ut=F(o);if(ut||(o[O]=ut=new De(o)),f=ut.add(u,f,m,G,P),f.proxy)return f;if(m=dt(),f.proxy=m,m.src=o,m.listener=f,o.addEventListener)S||(C=G),C===void 0&&(C=!1),o.addEventListener(u.toString(),m,C);else if(o.attachEvent)o.attachEvent(b(u.toString()),m);else if(o.addListener&&o.removeListener)o.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function dt(){function o(f){return u.call(o.src,o.listener,f)}const u=D;return o}function _(o,u,f,m,C){if(Array.isArray(u))for(var P=0;P<u.length;P++)_(o,u[P],f,m,C);else m=l(m)?!!m.capture:!!m,f=z(f),o&&o[ge]?(o=o.i,P=String(u).toString(),P in o.g&&(u=o.g[P],f=ne(u,f,m,C),f>-1&&(gt(u[f]),Array.prototype.splice.call(u,f,1),u.length==0&&(delete o.g[P],o.h--)))):o&&(o=F(o))&&(u=o.g[u.toString()],o=-1,u&&(o=ne(u,f,m,C)),(f=o>-1?u[o]:null)&&T(f))}function T(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[ge])Ne(u.i,o);else{var f=o.type,m=o.proxy;u.removeEventListener?u.removeEventListener(f,m,o.capture):u.detachEvent?u.detachEvent(b(f),m):u.addListener&&u.removeListener&&u.removeListener(m),(f=F(u))?(Ne(f,o),f.h==0&&(f.src=null,u[O]=null)):gt(o)}}}function b(o){return o in Y?Y[o]:Y[o]="on"+o}function D(o,u){if(o.da)o=!0;else{u=new Lt(u,this);const f=o.listener,m=o.ha||o.src;o.fa&&T(o),o=f.call(m,u)}return o}function F(o){return o=o[O],o instanceof De?o:null}var N="__closure_events_fn_"+(Math.random()*1e9>>>0);function z(o){return typeof o=="function"?o:(o[N]||(o[N]=function(u){return o.handleEvent(u)}),o[N])}function j(){R.call(this),this.i=new De(this),this.M=this,this.G=null}p(j,R),j.prototype[ge]=!0,j.prototype.removeEventListener=function(o,u,f,m){_(this,o,u,f,m)};function B(o,u){var f,m=o.G;if(m)for(f=[];m;m=m.G)f.push(m);if(o=o.M,m=u.type||u,typeof u=="string")u=new w(u,o);else if(u instanceof w)u.target=u.target||o;else{var C=u;u=new w(m,o),rn(u,C)}C=!0;let P,G;if(f)for(G=f.length-1;G>=0;G--)P=u.g=f[G],C=U(P,m,!0,u)&&C;if(P=u.g=o,C=U(P,m,!0,u)&&C,C=U(P,m,!1,u)&&C,f)for(G=0;G<f.length;G++)P=u.g=f[G],C=U(P,m,!1,u)&&C}j.prototype.N=function(){if(j.Z.N.call(this),this.i){var o=this.i;for(const u in o.g){const f=o.g[u];for(let m=0;m<f.length;m++)gt(f[m]);delete o.g[u],o.h--}}this.G=null},j.prototype.J=function(o,u,f,m){return this.i.add(String(o),u,!1,f,m)},j.prototype.K=function(o,u,f,m){return this.i.add(String(o),u,!0,f,m)};function U(o,u,f,m){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();let C=!0;for(let P=0;P<u.length;++P){const G=u[P];if(G&&!G.da&&G.capture==f){const ut=G.listener,$t=G.ha||G.src;G.fa&&Ne(o.i,G),C=ut.call($t,m)!==!1&&C}}return C&&!m.defaultPrevented}function nt(o,u){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=h(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(u)>2147483647?-1:a.setTimeout(o,u||0)}function Q(o){o.g=nt(()=>{o.g=null,o.i&&(o.i=!1,Q(o))},o.l);const u=o.h;o.h=null,o.m.apply(null,u)}class tt extends R{constructor(u,f){super(),this.m=u,this.l=f,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Q(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rt(o){R.call(this),this.h=o,this.g={}}p(rt,R);var ht=[];function Rt(o){_e(o.g,function(u,f){this.g.hasOwnProperty(f)&&T(u)},o),o.g={}}rt.prototype.N=function(){rt.Z.N.call(this),Rt(this)},rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Et=a.JSON.stringify,re=a.JSON.parse,se=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function Te(){}function Ie(){}var xe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _r(){w.call(this,"d")}p(_r,w);function Yt(){w.call(this,"c")}p(Yt,w);var Kt={},Zr=null;function zn(){return Zr=Zr||new j}Kt.Ia="serverreachability";function ac(o){w.call(this,Kt.Ia,o)}p(ac,w);function ts(o){const u=zn();B(u,new ac(u))}Kt.STAT_EVENT="statevent";function lc(o,u){w.call(this,Kt.STAT_EVENT,o),this.stat=u}p(lc,w);function he(o){const u=zn();B(u,new lc(u,o))}Kt.Ja="timingevent";function cc(o,u){w.call(this,Kt.Ja,o),this.size=u}p(cc,w);function es(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},u)}function ns(){this.g=!0}ns.prototype.ua=function(){this.g=!1};function gm(o,u,f,m,C,P){o.info(function(){if(o.g)if(P){var G="",ut=P.split("&");for(let bt=0;bt<ut.length;bt++){var $t=ut[bt].split("=");if($t.length>1){const Wt=$t[0];$t=$t[1];const $e=Wt.split("_");G=$e.length>=2&&$e[1]=="type"?G+(Wt+"="+$t+"&"):G+(Wt+"=redacted&")}}}else G=null;else G=P;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+u+`
`+f+`
`+G})}function _m(o,u,f,m,C,P,G){o.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+u+`
`+f+`
`+P+" "+G})}function yr(o,u,f,m){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+Em(o,f)+(m?" "+m:"")})}function ym(o,u){o.info(function(){return"TIMEOUT: "+u})}ns.prototype.info=function(){};function Em(o,u){if(!o.g)return u;if(!u)return null;try{const P=JSON.parse(u);if(P){for(o=0;o<P.length;o++)if(Array.isArray(P[o])){var f=P[o];if(!(f.length<2)){var m=f[1];if(Array.isArray(m)&&!(m.length<1)){var C=m[0];if(C!="noop"&&C!="stop"&&C!="close")for(let G=1;G<m.length;G++)m[G]=""}}}}return Et(P)}catch{return u}}var oi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},uc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hc;function Mo(){}p(Mo,Te),Mo.prototype.g=function(){return new XMLHttpRequest},hc=new Mo;function rs(o){return encodeURIComponent(String(o))}function vm(o){var u=1;o=o.split(":");const f=[];for(;u>0&&o.length;)f.push(o.shift()),u--;return o.length&&f.push(o.join(":")),f}function vn(o,u,f,m){this.j=o,this.i=u,this.l=f,this.S=m||1,this.V=new rt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fc}function fc(){this.i=null,this.g="",this.h=!1}var dc={},ko={};function Lo(o,u,f){o.M=1,o.A=li(qe(u)),o.u=f,o.R=!0,pc(o,null)}function pc(o,u){o.F=Date.now(),ai(o),o.B=qe(o.A);var f=o.B,m=o.S;Array.isArray(m)||(m=[String(m)]),Sc(f.i,"t",m),o.C=0,f=o.j.L,o.h=new fc,o.g=Gc(o.j,f?u:null,!o.u),o.P>0&&(o.O=new tt(h(o.Y,o,o.g),o.P)),u=o.V,f=o.g,m=o.ba;var C="readystatechange";Array.isArray(C)||(C&&(ht[0]=C.toString()),C=ht);for(let P=0;P<C.length;P++){const G=K(f,C[P],m||u.handleEvent,!1,u.h||u);if(!G)break;u.g[G.key]=G}u=o.J?ve(o.J):{},o.u?(o.v||(o.v="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,u)):(o.v="GET",o.g.ea(o.B,o.v,null,u)),ts(),gm(o.i,o.v,o.B,o.l,o.S,o.u)}vn.prototype.ba=function(o){o=o.target;const u=this.O;u&&An(o)==3?u.j():this.Y(o)},vn.prototype.Y=function(o){try{if(o==this.g)t:{const ut=An(this.g),$t=this.g.ya(),bt=this.g.ca();if(!(ut<3)&&(ut!=3||this.g&&(this.h.h||this.g.la()||Oc(this.g)))){this.K||ut!=4||$t==7||($t==8||bt<=0?ts(3):ts(2)),Fo(this);var u=this.g.ca();this.X=u;var f=Tm(this);if(this.o=u==200,_m(this.i,this.v,this.B,this.l,this.S,ut,u),this.o){if(this.U&&!this.L){e:{if(this.g){var m,C=this.g;if((m=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(m)){var P=m;break e}}P=null}if(o=P)yr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Uo(this,o);else{this.o=!1,this.m=3,he(12),Kn(this),ss(this);break t}}if(this.R){o=!0;let Wt;for(;!this.K&&this.C<f.length;)if(Wt=Im(this,f),Wt==ko){ut==4&&(this.m=4,he(14),o=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==dc){this.m=4,he(15),yr(this.i,this.l,f,"[Invalid Chunk]"),o=!1;break}else yr(this.i,this.l,Wt,null),Uo(this,Wt);if(mc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||f.length!=0||this.h.h||(this.m=1,he(16),o=!1),this.o=this.o&&o,!o)yr(this.i,this.l,f,"[Invalid Chunked Response]"),Kn(this),ss(this);else if(f.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),Ko(G),G.P=!0,he(11))}}else yr(this.i,this.l,f,null),Uo(this,f);ut==4&&Kn(this),this.o&&!this.K&&(ut==4?jc(this.j,this):(this.o=!1,ai(this)))}else km(this.g),u==400&&f.indexOf("Unknown SID")>0?(this.m=3,he(12)):(this.m=0,he(13)),Kn(this),ss(this)}}}catch{}};function Tm(o){if(!mc(o))return o.g.la();const u=Oc(o.g);if(u==="")return"";let f="";const m=u.length,C=An(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return Kn(o),ss(o),"";o.h.i=new a.TextDecoder}for(let P=0;P<m;P++)o.h.h=!0,f+=o.h.i.decode(u[P],{stream:!(C&&P==m-1)});return u.length=0,o.h.g+=f,o.C=0,o.h.g}function mc(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function Im(o,u){var f=o.C,m=u.indexOf(`
`,f);return m==-1?ko:(f=Number(u.substring(f,m)),isNaN(f)?dc:(m+=1,m+f>u.length?ko:(u=u.slice(m,m+f),o.C=m+f,u)))}vn.prototype.cancel=function(){this.K=!0,Kn(this)};function ai(o){o.T=Date.now()+o.H,gc(o,o.H)}function gc(o,u){if(o.D!=null)throw Error("WatchDog timer not null");o.D=es(h(o.aa,o),u)}function Fo(o){o.D&&(a.clearTimeout(o.D),o.D=null)}vn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(ym(this.i,this.B),this.M!=2&&(ts(),he(17)),Kn(this),this.m=2,ss(this)):gc(this,this.T-o)};function ss(o){o.j.I==0||o.K||jc(o.j,o)}function Kn(o){Fo(o);var u=o.O;u&&typeof u.dispose=="function"&&u.dispose(),o.O=null,Rt(o.V),o.g&&(u=o.g,o.g=null,u.abort(),u.dispose())}function Uo(o,u){try{var f=o.j;if(f.I!=0&&(f.g==o||Bo(f.h,o))){if(!o.L&&Bo(f.h,o)&&f.I==3){try{var m=f.Ba.g.parse(u)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){t:if(!f.v){if(f.g)if(f.g.F+3e3<o.F)di(f),hi(f);else break t;zo(f),he(18)}}else f.xa=C[1],0<f.xa-f.K&&C[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=es(h(f.Va,f),6e3));Ec(f.h)<=1&&f.ta&&(f.ta=void 0)}else Qn(f,11)}else if((o.L||f.g==o)&&di(f),!E(u))for(C=f.Ba.g.parse(u),u=0;u<C.length;u++){let bt=C[u];const Wt=bt[0];if(!(Wt<=f.K))if(f.K=Wt,bt=bt[1],f.I==2)if(bt[0]=="c"){f.M=bt[1],f.ba=bt[2];const $e=bt[3];$e!=null&&(f.ka=$e,f.j.info("VER="+f.ka));const Xn=bt[4];Xn!=null&&(f.za=Xn,f.j.info("SVER="+f.za));const wn=bt[5];wn!=null&&typeof wn=="number"&&wn>0&&(m=1.5*wn,f.O=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;const Rn=o.g;if(Rn){const mi=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mi){var P=m.h;P.g||mi.indexOf("spdy")==-1&&mi.indexOf("quic")==-1&&mi.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(jo(P,P.h),P.h=null))}if(m.G){const Wo=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(m.wa=Wo,Dt(m.J,m.G,Wo))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-o.F,f.j.info("Handshake RTT: "+f.T+"ms")),m=f;var G=o;if(m.na=Hc(m,m.L?m.ba:null,m.W),G.L){vc(m.h,G);var ut=G,$t=m.O;$t&&(ut.H=$t),ut.D&&(Fo(ut),ai(ut)),m.g=G}else Uc(m);f.i.length>0&&fi(f)}else bt[0]!="stop"&&bt[0]!="close"||Qn(f,7);else f.I==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?Qn(f,7):Go(f):bt[0]!="noop"&&f.l&&f.l.qa(bt),f.A=0)}}ts(4)}catch{}}var Am=class{constructor(o,u){this.g=o,this.map=u}};function _c(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yc(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Ec(o){return o.h?1:o.g?o.g.size:0}function Bo(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function jo(o,u){o.g?o.g.add(u):o.h=u}function vc(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}_c.prototype.cancel=function(){if(this.i=Tc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Tc(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let u=o.i;for(const f of o.g.values())u=u.concat(f.G);return u}return v(o.i)}var Ic=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wm(o,u){if(o){o=o.split("&");for(let f=0;f<o.length;f++){const m=o[f].indexOf("=");let C,P=null;m>=0?(C=o[f].substring(0,m),P=o[f].substring(m+1)):C=o[f],u(C,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Tn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let u;o instanceof Tn?(this.l=o.l,is(this,o.j),this.o=o.o,this.g=o.g,os(this,o.u),this.h=o.h,qo(this,Cc(o.i)),this.m=o.m):o&&(u=String(o).match(Ic))?(this.l=!1,is(this,u[1]||"",!0),this.o=as(u[2]||""),this.g=as(u[3]||"",!0),os(this,u[4]),this.h=as(u[5]||"",!0),qo(this,u[6]||"",!0),this.m=as(u[7]||"")):(this.l=!1,this.i=new cs(null,this.l))}Tn.prototype.toString=function(){const o=[];var u=this.j;u&&o.push(ls(u,Ac,!0),":");var f=this.g;return(f||u=="file")&&(o.push("//"),(u=this.o)&&o.push(ls(u,Ac,!0),"@"),o.push(rs(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&o.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(ls(f,f.charAt(0)=="/"?Sm:bm,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",ls(f,Pm)),o.join("")},Tn.prototype.resolve=function(o){const u=qe(this);let f=!!o.j;f?is(u,o.j):f=!!o.o,f?u.o=o.o:f=!!o.g,f?u.g=o.g:f=o.u!=null;var m=o.h;if(f)os(u,o.u);else if(f=!!o.h){if(m.charAt(0)!="/")if(this.g&&!this.h)m="/"+m;else{var C=u.h.lastIndexOf("/");C!=-1&&(m=u.h.slice(0,C+1)+m)}if(C=m,C==".."||C==".")m="";else if(C.indexOf("./")!=-1||C.indexOf("/.")!=-1){m=C.lastIndexOf("/",0)==0,C=C.split("/");const P=[];for(let G=0;G<C.length;){const ut=C[G++];ut=="."?m&&G==C.length&&P.push(""):ut==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),m&&G==C.length&&P.push("")):(P.push(ut),m=!0)}m=P.join("/")}else m=C}return f?u.h=m:f=o.i.toString()!=="",f?qo(u,Cc(o.i)):f=!!o.m,f&&(u.m=o.m),u};function qe(o){return new Tn(o)}function is(o,u,f){o.j=f?as(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function os(o,u){if(u){if(u=Number(u),isNaN(u)||u<0)throw Error("Bad port number "+u);o.u=u}else o.u=null}function qo(o,u,f){u instanceof cs?(o.i=u,Vm(o.i,o.l)):(f||(u=ls(u,Cm)),o.i=new cs(u,o.l))}function Dt(o,u,f){o.i.set(u,f)}function li(o){return Dt(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function as(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ls(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,Rm),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Rm(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ac=/[#\/\?@]/g,bm=/[#\?:]/g,Sm=/[#\?]/g,Cm=/[#\?@]/g,Pm=/#/g;function cs(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function Wn(o){o.g||(o.g=new Map,o.h=0,o.i&&wm(o.i,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}e=cs.prototype,e.add=function(o,u){Wn(this),this.i=null,o=Er(this,o);let f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(u),this.h+=1,this};function wc(o,u){Wn(o),u=Er(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function Rc(o,u){return Wn(o),u=Er(o,u),o.g.has(u)}e.forEach=function(o,u){Wn(this),this.g.forEach(function(f,m){f.forEach(function(C){o.call(u,C,m,this)},this)},this)};function bc(o,u){Wn(o);let f=[];if(typeof u=="string")Rc(o,u)&&(f=f.concat(o.g.get(Er(o,u))));else for(o=Array.from(o.g.values()),u=0;u<o.length;u++)f=f.concat(o[u]);return f}e.set=function(o,u){return Wn(this),this.i=null,o=Er(this,o),Rc(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},e.get=function(o,u){return o?(o=bc(this,o),o.length>0?String(o[0]):u):u};function Sc(o,u,f){wc(o,u),f.length>0&&(o.i=null,o.g.set(Er(o,u),v(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],u=Array.from(this.g.keys());for(let m=0;m<u.length;m++){var f=u[m];const C=rs(f);f=bc(this,f);for(let P=0;P<f.length;P++){let G=C;f[P]!==""&&(G+="="+rs(f[P])),o.push(G)}}return this.i=o.join("&")};function Cc(o){const u=new cs;return u.i=o.i,o.g&&(u.g=new Map(o.g),u.h=o.h),u}function Er(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function Vm(o,u){u&&!o.j&&(Wn(o),o.i=null,o.g.forEach(function(f,m){const C=m.toLowerCase();m!=C&&(wc(this,m),Sc(this,C,f))},o)),o.j=u}function Dm(o,u){const f=new ns;if(a.Image){const m=new Image;m.onload=d(In,f,"TestLoadImage: loaded",!0,u,m),m.onerror=d(In,f,"TestLoadImage: error",!1,u,m),m.onabort=d(In,f,"TestLoadImage: abort",!1,u,m),m.ontimeout=d(In,f,"TestLoadImage: timeout",!1,u,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=o}else u(!1)}function Nm(o,u){const f=new ns,m=new AbortController,C=setTimeout(()=>{m.abort(),In(f,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:m.signal}).then(P=>{clearTimeout(C),P.ok?In(f,"TestPingServer: ok",!0,u):In(f,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(C),In(f,"TestPingServer: error",!1,u)})}function In(o,u,f,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(f)}catch{}}function xm(){this.g=new se}function $o(o){this.i=o.Sb||null,this.h=o.ab||!1}p($o,Te),$o.prototype.g=function(){return new ci(this.i,this.h)};function ci(o,u){j.call(this),this.H=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(ci,j),e=ci.prototype,e.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=u,this.readyState=1,hs(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const u={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(u.body=o),(this.H||a).fetch(new Request(this.D,u)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},e.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,hs(this)),this.g&&(this.readyState=3,hs(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pc(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pc(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}e.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.B.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?us(this):hs(this),this.readyState==3&&Pc(this)}},e.Oa=function(o){this.g&&(this.response=this.responseText=o,us(this))},e.Na=function(o){this.g&&(this.response=o,us(this))},e.ga=function(){this.g&&us(this)};function us(o){o.readyState=4,o.l=null,o.j=null,o.B=null,hs(o)}e.setRequestHeader=function(o,u){this.A.append(o,u)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],u=this.h.entries();for(var f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function hs(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Vc(o){let u="";return _e(o,function(f,m){u+=m,u+=":",u+=f,u+=`\r
`}),u}function Ho(o,u,f){t:{for(m in f){var m=!1;break t}m=!0}m||(f=Vc(f),typeof o=="string"?f!=null&&rs(f):Dt(o,u,f))}function Ot(o){j.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ot,j);var Om=/^https?$/i,Mm=["POST","PUT"];e=Ot.prototype,e.Fa=function(o){this.H=o},e.ea=function(o,u,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hc.g(),this.g.onreadystatechange=g(h(this.Ca,this));try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(P){Dc(this,P);return}if(o=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)f.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(const P of m.keys())f.set(P,m.get(P));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(P=>P.toLowerCase()=="content-type"),C=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(Mm,u,void 0)>=0)||m||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,G]of f)this.g.setRequestHeader(P,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(P){Dc(this,P)}};function Dc(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.o=5,Nc(o),ui(o)}function Nc(o){o.A||(o.A=!0,B(o,"complete"),B(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,B(this,"complete"),B(this,"abort"),ui(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ui(this,!0)),Ot.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?xc(this):this.Xa())},e.Xa=function(){xc(this)};function xc(o){if(o.h&&typeof i<"u"){if(o.v&&An(o)==4)setTimeout(o.Ca.bind(o),0);else if(B(o,"readystatechange"),An(o)==4){o.h=!1;try{const P=o.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}var f;if(!(f=u)){var m;if(m=P===0){let G=String(o.D).match(Ic)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),m=!Om.test(G?G.toLowerCase():"")}f=m}if(f)B(o,"complete"),B(o,"success");else{o.o=6;try{var C=An(o)>2?o.g.statusText:""}catch{C=""}o.l=C+" ["+o.ca()+"]",Nc(o)}}finally{ui(o)}}}}function ui(o,u){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const f=o.g;o.g=null,u||B(o,"ready");try{f.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function An(o){return o.g?o.g.readyState:0}e.ca=function(){try{return An(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),re(u)}};function Oc(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function km(o){const u={};o=(o.g&&An(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<o.length;m++){if(E(o[m]))continue;var f=vm(o[m]);const C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const P=u[C]||[];u[C]=P,P.push(f)}je(u,function(m){return m.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fs(o,u,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||u}function Mc(o){this.za=0,this.i=[],this.j=new ns,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fs("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fs("baseRetryDelayMs",5e3,o),this.Za=fs("retryDelaySeedMs",1e4,o),this.Ta=fs("forwardChannelMaxRetries",2,o),this.va=fs("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new _c(o&&o.concurrentRequestLimit),this.Ba=new xm,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Mc.prototype,e.ka=8,e.I=1,e.connect=function(o,u,f,m){he(0),this.W=o,this.H=u||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.J=Hc(this,null,this.W),fi(this)};function Go(o){if(kc(o),o.I==3){var u=o.V++,f=qe(o.J);if(Dt(f,"SID",o.M),Dt(f,"RID",u),Dt(f,"TYPE","terminate"),ds(o,f),u=new vn(o,o.j,u),u.M=2,u.A=li(qe(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(u.A.toString(),"")}catch{}!f&&a.Image&&(new Image().src=u.A,f=!0),f||(u.g=Gc(u.j,null),u.g.ea(u.A)),u.F=Date.now(),ai(u)}$c(o)}function hi(o){o.g&&(Ko(o),o.g.cancel(),o.g=null)}function kc(o){hi(o),o.v&&(a.clearTimeout(o.v),o.v=null),di(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function fi(o){if(!yc(o.h)&&!o.m){o.m=!0;var u=o.Ea;lt||y(),ft||(lt(),ft=!0),A.add(u,o),o.D=0}}function Lm(o,u){return Ec(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=u.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=es(h(o.Ea,o,u),qc(o,o.D)),o.D++,!0)}e.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const C=new vn(this,this.j,o);let P=this.o;if(this.U&&(P?(P=ve(P),rn(P,this.U)):P=this.U),this.u!==null||this.R||(C.J=P,P=null),this.S)t:{for(var u=0,f=0;f<this.i.length;f++){e:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break e}m=void 0}if(m===void 0)break;if(u+=m,u>4096){u=f;break t}if(u===4096||f===this.i.length-1){u=f+1;break t}}u=1e3}else u=1e3;u=Fc(this,C,u),f=qe(this.J),Dt(f,"RID",o),Dt(f,"CVER",22),this.G&&Dt(f,"X-HTTP-Session-Id",this.G),ds(this,f),P&&(this.R?u="headers="+rs(Vc(P))+"&"+u:this.u&&Ho(f,this.u,P)),jo(this.h,C),this.Ra&&Dt(f,"TYPE","init"),this.S?(Dt(f,"$req",u),Dt(f,"SID","null"),C.U=!0,Lo(C,f,null)):Lo(C,f,u),this.I=2}}else this.I==3&&(o?Lc(this,o):this.i.length==0||yc(this.h)||Lc(this))};function Lc(o,u){var f;u?f=u.l:f=o.V++;const m=qe(o.J);Dt(m,"SID",o.M),Dt(m,"RID",f),Dt(m,"AID",o.K),ds(o,m),o.u&&o.o&&Ho(m,o.u,o.o),f=new vn(o,o.j,f,o.D+1),o.u===null&&(f.J=o.o),u&&(o.i=u.G.concat(o.i)),u=Fc(o,f,1e3),f.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),jo(o.h,f),Lo(f,m,u)}function ds(o,u){o.H&&_e(o.H,function(f,m){Dt(u,m,f)}),o.l&&_e({},function(f,m){Dt(u,m,f)})}function Fc(o,u,f){f=Math.min(o.i.length,f);const m=o.l?h(o.l.Ka,o.l,o):null;t:{var C=o.i;let ut=-1;for(;;){const $t=["count="+f];ut==-1?f>0?(ut=C[0].g,$t.push("ofs="+ut)):ut=0:$t.push("ofs="+ut);let bt=!0;for(let Wt=0;Wt<f;Wt++){var P=C[Wt].g;const $e=C[Wt].map;if(P-=ut,P<0)ut=Math.max(0,C[Wt].g-100),bt=!1;else try{P="req"+P+"_"||"";try{var G=$e instanceof Map?$e:Object.entries($e);for(const[Xn,wn]of G){let Rn=wn;l(wn)&&(Rn=Et(wn)),$t.push(P+Xn+"="+encodeURIComponent(Rn))}}catch(Xn){throw $t.push(P+"type="+encodeURIComponent("_badmap")),Xn}}catch{m&&m($e)}}if(bt){G=$t.join("&");break t}}G=void 0}return o=o.i.splice(0,f),u.G=o,G}function Uc(o){if(!o.g&&!o.v){o.Y=1;var u=o.Da;lt||y(),ft||(lt(),ft=!0),A.add(u,o),o.A=0}}function zo(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=es(h(o.Da,o),qc(o,o.A)),o.A++,!0)}e.Da=function(){if(this.v=null,Bc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=es(h(this.Wa,this),o)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,he(10),hi(this),Bc(this))};function Ko(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function Bc(o){o.g=new vn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var u=qe(o.na);Dt(u,"RID","rpc"),Dt(u,"SID",o.M),Dt(u,"AID",o.K),Dt(u,"CI",o.F?"0":"1"),!o.F&&o.ia&&Dt(u,"TO",o.ia),Dt(u,"TYPE","xmlhttp"),ds(o,u),o.u&&o.o&&Ho(u,o.u,o.o),o.O&&(o.g.H=o.O);var f=o.g;o=o.ba,f.M=1,f.A=li(qe(u)),f.u=null,f.R=!0,pc(f,o)}e.Va=function(){this.C!=null&&(this.C=null,hi(this),zo(this),he(19))};function di(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function jc(o,u){var f=null;if(o.g==u){di(o),Ko(o),o.g=null;var m=2}else if(Bo(o.h,u))f=u.G,vc(o.h,u),m=1;else return;if(o.I!=0){if(u.o)if(m==1){f=u.u?u.u.length:0,u=Date.now()-u.F;var C=o.D;m=zn(),B(m,new cc(m,f)),fi(o)}else Uc(o);else if(C=u.m,C==3||C==0&&u.X>0||!(m==1&&Lm(o,u)||m==2&&zo(o)))switch(f&&f.length>0&&(u=o.h,u.i=u.i.concat(f)),C){case 1:Qn(o,5);break;case 4:Qn(o,10);break;case 3:Qn(o,6);break;default:Qn(o,2)}}}function qc(o,u){let f=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(f*=2),f*u}function Qn(o,u){if(o.j.info("Error code "+u),u==2){var f=h(o.bb,o),m=o.Ua;const C=!m;m=new Tn(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||is(m,"https"),li(m),C?Dm(m.toString(),f):Nm(m.toString(),f)}else he(2);o.I=0,o.l&&o.l.pa(u),$c(o),kc(o)}e.bb=function(o){o?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function $c(o){if(o.I=0,o.ja=[],o.l){const u=Tc(o.h);(u.length!=0||o.i.length!=0)&&(V(o.ja,u),V(o.ja,o.i),o.h.i.length=0,v(o.i),o.i.length=0),o.l.oa()}}function Hc(o,u,f){var m=f instanceof Tn?qe(f):new Tn(f);if(m.g!="")u&&(m.g=u+"."+m.g),os(m,m.u);else{var C=a.location;m=C.protocol,u=u?u+"."+C.hostname:C.hostname,C=+C.port;const P=new Tn(null);m&&is(P,m),u&&(P.g=u),C&&os(P,C),f&&(P.h=f),m=P}return f=o.G,u=o.wa,f&&u&&Dt(m,f,u),Dt(m,"VER",o.ka),ds(o,m),m}function Gc(o,u,f){if(u&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Aa&&!o.ma?new Ot(new $o({ab:f})):new Ot(o.ma),u.Fa(o.L),u}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function zc(){}e=zc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function pi(){}pi.prototype.g=function(o,u){return new Ae(o,u)};function Ae(o,u){j.call(this),this.g=new Mc(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.sa&&(o?o["X-WebChannel-Client-Profile"]=u.sa:o={"X-WebChannel-Client-Profile":u.sa}),this.g.U=o,(o=u&&u.Qb)&&!E(o)&&(this.g.u=o),this.A=u&&u.supportsCrossDomainXhr||!1,this.v=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!E(u)&&(this.g.G=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new vr(this)}p(Ae,j),Ae.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ae.prototype.close=function(){Go(this.g)},Ae.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.v&&(f={},f.__data__=Et(o),o=f);u.i.push(new Am(u.Ya++,o)),u.I==3&&fi(u)},Ae.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,Ae.Z.N.call(this)};function Kc(o){_r.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){t:{for(const f in u){o=f;break t}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}p(Kc,_r);function Wc(){Yt.call(this),this.status=1}p(Wc,Yt);function vr(o){this.g=o}p(vr,zc),vr.prototype.ra=function(){B(this.g,"a")},vr.prototype.qa=function(o){B(this.g,new Kc(o))},vr.prototype.pa=function(o){B(this.g,new Wc)},vr.prototype.oa=function(){B(this.g,"b")},pi.prototype.createWebChannel=pi.prototype.g,Ae.prototype.send=Ae.prototype.o,Ae.prototype.open=Ae.prototype.m,Ae.prototype.close=Ae.prototype.close,$d=function(){return new pi},qd=function(){return zn()},jd=Kt,Ba={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},oi.NO_ERROR=0,oi.TIMEOUT=8,oi.HTTP_ERROR=6,Pi=oi,uc.COMPLETE="complete",Bd=uc,Ie.EventType=xe,xe.OPEN="a",xe.CLOSE="b",xe.ERROR="c",xe.MESSAGE="d",j.prototype.listen=j.prototype.J,ys=Ie,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,Ud=Ot}).apply(typeof Ei<"u"?Ei:typeof self<"u"?self:typeof window<"u"?window:{});const eh="@firebase/firestore",nh="4.9.3";class oe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}oe.UNAUTHENTICATED=new oe(null),oe.GOOGLE_CREDENTIALS=new oe("google-credentials-uid"),oe.FIRST_PARTY=new oe("first-party-uid"),oe.MOCK_USER=new oe("mock-user");let Wr="12.7.0";const ur=new Nd("@firebase/firestore");function wr(){return ur.logLevel}function J(e,...t){if(ur.logLevel<=yt.DEBUG){const n=t.map(Sl);ur.debug(`Firestore (${Wr}): ${e}`,...n)}}function _n(e,...t){if(ur.logLevel<=yt.ERROR){const n=t.map(Sl);ur.error(`Firestore (${Wr}): ${e}`,...n)}}function jr(e,...t){if(ur.logLevel<=yt.WARN){const n=t.map(Sl);ur.warn(`Firestore (${Wr}): ${e}`,...n)}}function Sl(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function st(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,Hd(e,r,n)}function Hd(e,t,n){let r=`FIRESTORE (${Wr}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw _n(r),new Error(r)}function wt(e,t,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,e||Hd(t,s,r)}function at(e,t){return e}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Kr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class Gd{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(oe.UNAUTHENTICATED)))}shutdown(){}}class uT{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class hT{constructor(t){this.t=t,this.currentUser=oe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){wt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ar,t.enqueueRetryable((()=>s(this.currentUser)))};const a=()=>{const c=i;t.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},l=c=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ar)}}),0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string",31837,{l:r}),new Gd(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return wt(t===null||typeof t=="string",2055,{h:t}),new oe(t)}}class fT{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=oe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dT{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new fT(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(oe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rh{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pT{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zv(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){wt(this.o===void 0,3512);const r=i=>{i.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,J("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable((()=>r(i)))};const s=i=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rh(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rh(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function mT(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Cl{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=mT(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%62))}return r}}function pt(e,t){return e<t?-1:e>t?1:0}function ja(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const s=e.charAt(r),i=t.charAt(r);if(s!==i)return da(s)===da(i)?pt(s,i):da(s)?1:-1}return pt(e.length,t.length)}const gT=55296,_T=57343;function da(e){const t=e.charCodeAt(0);return t>=gT&&t<=_T}function qr(e,t,n){return e.length===t.length&&e.every(((r,s)=>n(r,t[s])))}const sh="__name__";class ze{constructor(t,n,r){n===void 0?n=0:n>t.length&&st(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&st(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ze.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ze?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=ze.compareSegments(t.get(s),n.get(s));if(i!==0)return i}return pt(t.length,n.length)}static compareSegments(t,n){const r=ze.isNumericId(t),s=ze.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ze.extractNumericId(t).compare(ze.extractNumericId(n)):ja(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Mn.fromString(t.substring(4,t.length-2))}}class Vt extends ze{construct(t,n,r){return new Vt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new X(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Vt(n)}static emptyPath(){return new Vt([])}}const yT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends ze{construct(t,n,r){return new Zt(t,n,r)}static isValidIdentifier(t){return yT.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sh}static keyField(){return new Zt([sh])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(M.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<t.length;){const l=t[s];if(l==="\\"){if(s+1===t.length)throw new X(M.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new X(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new X(M.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Zt(n)}static emptyPath(){return new Zt([])}}class et{constructor(t){this.path=t}static fromPath(t){return new et(Vt.fromString(t))}static fromName(t){return new et(Vt.fromString(t).popFirst(5))}static empty(){return new et(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Vt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Vt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new et(new Vt(t.slice()))}}function zd(e,t,n){if(!n)throw new X(M.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ET(e,t,n,r){if(t===!0&&r===!0)throw new X(M.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ih(e){if(!et.isDocumentKey(e))throw new X(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function oh(e){if(et.isDocumentKey(e))throw new X(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Kd(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Io(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":st(12329,{type:typeof e})}function Or(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new X(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Io(e);throw new X(M.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function jt(e,t){const n={typeString:e};return t&&(n.value=t),n}function ei(e,t){if(!Kd(e))throw new X(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const s=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new X(M.INVALID_ARGUMENT,n);return!0}const ah=-62135596800,lh=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(t){return Nt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*lh);return new Nt(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new X(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<ah)throw new X(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new X(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lh}_compareTo(t){return this.seconds===t.seconds?pt(this.nanoseconds,t.nanoseconds):pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ei(t,Nt._jsonSchema))return new Nt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-ah;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nt._jsonSchemaVersion="firestore/timestamp/1.0",Nt._jsonSchema={type:jt("string",Nt._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class ot{static fromTimestamp(t){return new ot(t)}static min(){return new ot(new Nt(0,0))}static max(){return new ot(new Nt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Hs=-1;function vT(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=ot.fromTimestamp(r===1e9?new Nt(n+1,0):new Nt(n,r));return new Un(s,et.empty(),t)}function TT(e){return new Un(e.readTime,e.key,Hs)}class Un{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Un(ot.min(),et.empty(),Hs)}static max(){return new Un(ot.max(),et.empty(),Hs)}}function IT(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=et.comparator(e.documentKey,t.documentKey),n!==0?n:pt(e.largestBatchId,t.largestBatchId))}const AT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Qr(e){if(e.code!==M.FAILED_PRECONDITION||e.message!==AT)throw e;J("LocalStore","Unexpectedly lost primary lease")}class k{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&st(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new k(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):k.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):k.reject(n)}static resolve(t){return new k(((n,r)=>{n(t)}))}static reject(t){return new k(((n,r)=>{r(t)}))}static waitFor(t){return new k(((n,r)=>{let s=0,i=0,a=!1;t.forEach((l=>{++s,l.next((()=>{++i,a&&i===s&&n()}),(c=>r(c)))})),a=!0,i===s&&n()}))}static or(t){let n=k.resolve(!1);for(const r of t)n=n.next((s=>s?k.resolve(s):r()));return n}static forEach(t,n){const r=[];return t.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(t,n){return new k(((r,s)=>{const i=t.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const h=c;n(t[h]).next((d=>{a[h]=d,++l,l===i&&r(a)}),(d=>s(d)))}}))}static doWhile(t,n){return new k(((r,s)=>{const i=()=>{t()===!0?n().next((()=>{i()}),s):r()};i()}))}}function RT(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xr(e){return e.name==="IndexedDbTransactionError"}class Ao{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ao.ce=-1;const Pl=-1;function wo(e){return e==null}function Xi(e){return e===0&&1/e==-1/0}function bT(e){return typeof e=="number"&&Number.isInteger(e)&&!Xi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Wd="";function ST(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ch(t)),t=CT(e.get(n),t);return ch(t)}function CT(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const i=e.charAt(s);switch(i){case"\0":n+="";break;case Wd:n+="";break;default:n+=i}}return n}function ch(e){return e+Wd+""}function uh(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function fr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Qd(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class xt{constructor(t,n){this.comparator=t,this.root=n||Jt.EMPTY}insert(t,n){return new xt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(t){return new xt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vi(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vi(this.root,t,this.comparator,!1)}getReverseIterator(){return new vi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vi(this.root,t,this.comparator,!0)}}class vi{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Jt{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??Jt.RED,this.left=s??Jt.EMPTY,this.right=i??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new Jt(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Jt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw st(43730,{key:this.key,value:this.value});if(this.right.isRed())throw st(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw st(27949);return t+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw st(57766)}get value(){throw st(16141)}get color(){throw st(16727)}get left(){throw st(29726)}get right(){throw st(36894)}copy(t,n,r,s,i){return this}insert(t,n,r){return new Jt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(t){this.comparator=t,this.data=new xt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new hh(this.data.getIterator())}getIteratorFrom(t){return new hh(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof zt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new zt(this.comparator);return n.data=t,n}}class hh{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ke{constructor(t){this.fields=t,t.sort(Zt.comparator)}static empty(){return new ke([])}unionWith(t){let n=new zt(Zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new ke(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return qr(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class Xd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ee{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Xd("Invalid base64 string: "+i):i}})(t);return new ee(n)}static fromUint8Array(t){const n=(function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i})(t);return new ee(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ee.EMPTY_BYTE_STRING=new ee("");const PT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bn(e){if(wt(!!e,39018),typeof e=="string"){let t=0;const n=PT.exec(e);if(wt(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:kt(e.seconds),nanos:kt(e.nanos)}}function kt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function jn(e){return typeof e=="string"?ee.fromBase64String(e):ee.fromUint8Array(e)}const Yd="server_timestamp",Jd="__type__",Zd="__previous_value__",tp="__local_write_time__";function Vl(e){return(e?.mapValue?.fields||{})[Jd]?.stringValue===Yd}function Ro(e){const t=e.mapValue.fields[Zd];return Vl(t)?Ro(t):t}function Gs(e){const t=Bn(e.mapValue.fields[tp].timestampValue);return new Nt(t.seconds,t.nanos)}class VT{constructor(t,n,r,s,i,a,l,c,h,d){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=d}}const Yi="(default)";class zs{constructor(t,n){this.projectId=t,this.database=n||Yi}static empty(){return new zs("","")}get isDefaultDatabase(){return this.database===Yi}isEqual(t){return t instanceof zs&&t.projectId===this.projectId&&t.database===this.database}}const ep="__type__",DT="__max__",Ti={mapValue:{}},np="__vector__",Ji="value";function qn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Vl(e)?4:xT(e)?9007199254740991:NT(e)?10:11:st(28295,{value:e})}function nn(e,t){if(e===t)return!0;const n=qn(e);if(n!==qn(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Gs(e).isEqual(Gs(t));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Bn(s.timestampValue),l=Bn(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(s,i){return jn(s.bytesValue).isEqual(jn(i.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(s,i){return kt(s.geoPointValue.latitude)===kt(i.geoPointValue.latitude)&&kt(s.geoPointValue.longitude)===kt(i.geoPointValue.longitude)})(e,t);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return kt(s.integerValue)===kt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=kt(s.doubleValue),l=kt(i.doubleValue);return a===l?Xi(a)===Xi(l):isNaN(a)&&isNaN(l)}return!1})(e,t);case 9:return qr(e.arrayValue.values||[],t.arrayValue.values||[],nn);case 10:case 11:return(function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(uh(a)!==uh(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!nn(a[c],l[c])))return!1;return!0})(e,t);default:return st(52216,{left:e})}}function Ks(e,t){return(e.values||[]).find((n=>nn(n,t)))!==void 0}function $r(e,t){if(e===t)return 0;const n=qn(e),r=qn(t);if(n!==r)return pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pt(e.booleanValue,t.booleanValue);case 2:return(function(i,a){const l=kt(i.integerValue||i.doubleValue),c=kt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(e,t);case 3:return fh(e.timestampValue,t.timestampValue);case 4:return fh(Gs(e),Gs(t));case 5:return ja(e.stringValue,t.stringValue);case 6:return(function(i,a){const l=jn(i),c=jn(a);return l.compareTo(c)})(e.bytesValue,t.bytesValue);case 7:return(function(i,a){const l=i.split("/"),c=a.split("/");for(let h=0;h<l.length&&h<c.length;h++){const d=pt(l[h],c[h]);if(d!==0)return d}return pt(l.length,c.length)})(e.referenceValue,t.referenceValue);case 8:return(function(i,a){const l=pt(kt(i.latitude),kt(a.latitude));return l!==0?l:pt(kt(i.longitude),kt(a.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return dh(e.arrayValue,t.arrayValue);case 10:return(function(i,a){const l=i.fields||{},c=a.fields||{},h=l[Ji]?.arrayValue,d=c[Ji]?.arrayValue,p=pt(h?.values?.length||0,d?.values?.length||0);return p!==0?p:dh(h,d)})(e.mapValue,t.mapValue);case 11:return(function(i,a){if(i===Ti.mapValue&&a===Ti.mapValue)return 0;if(i===Ti.mapValue)return 1;if(a===Ti.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),h=a.fields||{},d=Object.keys(h);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const g=ja(c[p],d[p]);if(g!==0)return g;const v=$r(l[c[p]],h[d[p]]);if(v!==0)return v}return pt(c.length,d.length)})(e.mapValue,t.mapValue);default:throw st(23264,{he:n})}}function fh(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return pt(e,t);const n=Bn(e),r=Bn(t),s=pt(n.seconds,r.seconds);return s!==0?s:pt(n.nanos,r.nanos)}function dh(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=$r(n[s],r[s]);if(i)return i}return pt(n.length,r.length)}function Hr(e){return qa(e)}function qa(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const r=Bn(n);return`time(${r.seconds},${r.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return jn(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return et.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=qa(i);return r+"]"})(e.arrayValue):"mapValue"in e?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${qa(n.fields[a])}`;return s+"}"})(e.mapValue):st(61005,{value:e})}function Vi(e){switch(qn(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ro(e);return t?16+Vi(t):16;case 5:return 2*e.stringValue.length;case 6:return jn(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+Vi(i)),0)})(e.arrayValue);case 10:case 11:return(function(r){let s=0;return fr(r.fields,((i,a)=>{s+=i.length+Vi(a)})),s})(e.mapValue);default:throw st(13486,{value:e})}}function ph(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function $a(e){return!!e&&"integerValue"in e}function Dl(e){return!!e&&"arrayValue"in e}function mh(e){return!!e&&"nullValue"in e}function gh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Di(e){return!!e&&"mapValue"in e}function NT(e){return(e?.mapValue?.fields||{})[ep]?.stringValue===np}function Ds(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return fr(e.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Ds(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ds(e.arrayValue.values[n]);return t}return{...e}}function xT(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===DT}class Se{constructor(t){this.value=t}static empty(){return new Se({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Di(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ds(n)}setAll(t){let n=Zt.emptyPath(),r={},s=[];t.forEach(((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=Ds(a):s.push(l.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());Di(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return nn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];Di(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){fr(n,((s,i)=>t[s]=i));for(const s of r)delete t[s]}clone(){return new Se(Ds(this.value))}}function rp(e){const t=[];return fr(e.fields,((n,r)=>{const s=new Zt([n]);if(Di(r)){const i=rp(r.mapValue).fields;if(i.length===0)t.push(s);else for(const a of i)t.push(s.child(a))}else t.push(s)})),new ke(t)}class le{constructor(t,n,r,s,i,a,l){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(t){return new le(t,0,ot.min(),ot.min(),ot.min(),Se.empty(),0)}static newFoundDocument(t,n,r,s){return new le(t,1,n,ot.min(),r,s,0)}static newNoDocument(t,n){return new le(t,2,n,ot.min(),ot.min(),Se.empty(),0)}static newUnknownDocument(t,n){return new le(t,3,n,ot.min(),ot.min(),Se.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Se.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Se.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof le&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new le(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zi{constructor(t,n){this.position=t,this.inclusive=n}}function _h(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(i.field.isKeyField()?r=et.comparator(et.fromName(a.referenceValue),n.key):r=$r(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function yh(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!nn(e.position[n],t.position[n]))return!1;return!0}class Ws{constructor(t,n="asc"){this.field=t,this.dir=n}}function OT(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class sp{}class Bt extends sp{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new kT(t,n,r):n==="array-contains"?new UT(t,r):n==="in"?new BT(t,r):n==="not-in"?new jT(t,r):n==="array-contains-any"?new qT(t,r):new Bt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new LT(t,r):new FT(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($r(n,this.value)):n!==null&&qn(this.value)===qn(n)&&this.matchesComparison($r(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return st(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Be extends sp{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Be(t,n)}matches(t){return ip(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ip(e){return e.op==="and"}function op(e){return MT(e)&&ip(e)}function MT(e){for(const t of e.filters)if(t instanceof Be)return!1;return!0}function Ha(e){if(e instanceof Bt)return e.field.canonicalString()+e.op.toString()+Hr(e.value);if(op(e))return e.filters.map((t=>Ha(t))).join(",");{const t=e.filters.map((n=>Ha(n))).join(",");return`${e.op}(${t})`}}function ap(e,t){return e instanceof Bt?(function(r,s){return s instanceof Bt&&r.op===s.op&&r.field.isEqual(s.field)&&nn(r.value,s.value)})(e,t):e instanceof Be?(function(r,s){return s instanceof Be&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,a,l)=>i&&ap(a,s.filters[l])),!0):!1})(e,t):void st(19439)}function lp(e){return e instanceof Bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Hr(n.value)}`})(e):e instanceof Be?(function(n){return n.op.toString()+" {"+n.getFilters().map(lp).join(" ,")+"}"})(e):"Filter"}class kT extends Bt{constructor(t,n,r){super(t,n,r),this.key=et.fromName(r.referenceValue)}matches(t){const n=et.comparator(t.key,this.key);return this.matchesComparison(n)}}class LT extends Bt{constructor(t,n){super(t,"in",n),this.keys=cp("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class FT extends Bt{constructor(t,n){super(t,"not-in",n),this.keys=cp("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function cp(e,t){return(t.arrayValue?.values||[]).map((n=>et.fromName(n.referenceValue)))}class UT extends Bt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Dl(n)&&Ks(n.arrayValue,this.value)}}class BT extends Bt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ks(this.value.arrayValue,n)}}class jT extends Bt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ks(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ks(this.value.arrayValue,n)}}class qT extends Bt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Dl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ks(this.value.arrayValue,r)))}}class $T{constructor(t,n=null,r=[],s=[],i=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}}function Eh(e,t=null,n=[],r=[],s=null,i=null,a=null){return new $T(e,t,n,r,s,i,a)}function Nl(e){const t=at(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Ha(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),wo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>Hr(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>Hr(r))).join(",")),t.Te=n}return t.Te}function xl(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!OT(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ap(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!yh(e.startAt,t.startAt)&&yh(e.endAt,t.endAt)}function Ga(e){return et.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Yr{constructor(t,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HT(e,t,n,r,s,i,a,l){return new Yr(e,t,n,r,s,i,a,l)}function Ol(e){return new Yr(e)}function vh(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function up(e){return e.collectionGroup!==null}function Ns(e){const t=at(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),n.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new zt(Zt.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((h=>{h.isInequality()&&(l=l.add(h.field))}))})),l})(t).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||t.Ie.push(new Ws(i,r))})),n.has(Zt.keyField().canonicalString())||t.Ie.push(new Ws(Zt.keyField(),r))}return t.Ie}function Qe(e){const t=at(e);return t.Ee||(t.Ee=GT(t,Ns(e))),t.Ee}function GT(e,t){if(e.limitType==="F")return Eh(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Ws(s.field,i)}));const n=e.endAt?new Zi(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Zi(e.startAt.position,e.startAt.inclusive):null;return Eh(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function za(e,t){const n=e.filters.concat([t]);return new Yr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ka(e,t,n){return new Yr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bo(e,t){return xl(Qe(e),Qe(t))&&e.limitType===t.limitType}function hp(e){return`${Nl(Qe(e))}|lt:${e.limitType}`}function Rr(e){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>lp(s))).join(", ")}]`),wo(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Hr(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Hr(s))).join(",")),`Target(${r})`})(Qe(e))}; limitType=${e.limitType})`}function So(e,t){return t.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):et.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(e,t)&&(function(r,s){for(const i of Ns(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(e,t)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(e,t)&&(function(r,s){return!(r.startAt&&!(function(a,l,c){const h=_h(a,l,c);return a.inclusive?h<=0:h<0})(r.startAt,Ns(r),s)||r.endAt&&!(function(a,l,c){const h=_h(a,l,c);return a.inclusive?h>=0:h>0})(r.endAt,Ns(r),s))})(e,t)}function zT(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function fp(e){return(t,n)=>{let r=!1;for(const s of Ns(e)){const i=KT(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function KT(e,t,n){const r=e.field.isKeyField()?et.comparator(t.key,n.key):(function(i,a,l){const c=a.data.field(i),h=l.data.field(i);return c!==null&&h!==null?$r(c,h):st(42886)})(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return st(19790,{direction:e.dir})}}class dr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){fr(this.inner,((n,r)=>{for(const[s,i]of r)t(s,i)}))}isEmpty(){return Qd(this.inner)}size(){return this.innerSize}}const WT=new xt(et.comparator);function yn(){return WT}const dp=new xt(et.comparator);function Es(...e){let t=dp;for(const n of e)t=t.insert(n.key,n);return t}function pp(e){let t=dp;return e.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function rr(){return xs()}function mp(){return xs()}function xs(){return new dr((e=>e.toString()),((e,t)=>e.isEqual(t)))}const QT=new xt(et.comparator),XT=new zt(et.comparator);function mt(...e){let t=XT;for(const n of e)t=t.add(n);return t}const YT=new zt(pt);function JT(){return YT}function Ml(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xi(t)?"-0":t}}function gp(e){return{integerValue:""+e}}function ZT(e,t){return bT(t)?gp(t):Ml(e,t)}class Co{constructor(){this._=void 0}}function tI(e,t,n){return e instanceof to?(function(s,i){const a={fields:{[Jd]:{stringValue:Yd},[tp]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Vl(i)&&(i=Ro(i)),i&&(a.fields[Zd]=i),{mapValue:a}})(n,t):e instanceof Qs?yp(e,t):e instanceof Xs?Ep(e,t):(function(s,i){const a=_p(s,i),l=Th(a)+Th(s.Ae);return $a(a)&&$a(s.Ae)?gp(l):Ml(s.serializer,l)})(e,t)}function eI(e,t,n){return e instanceof Qs?yp(e,t):e instanceof Xs?Ep(e,t):n}function _p(e,t){return e instanceof eo?(function(r){return $a(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(t)?t:{integerValue:0}:null}class to extends Co{}class Qs extends Co{constructor(t){super(),this.elements=t}}function yp(e,t){const n=vp(t);for(const r of e.elements)n.some((s=>nn(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Xs extends Co{constructor(t){super(),this.elements=t}}function Ep(e,t){let n=vp(t);for(const r of e.elements)n=n.filter((s=>!nn(s,r)));return{arrayValue:{values:n}}}class eo extends Co{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Th(e){return kt(e.integerValue||e.doubleValue)}function vp(e){return Dl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function nI(e,t){return e.field.isEqual(t.field)&&(function(r,s){return r instanceof Qs&&s instanceof Qs||r instanceof Xs&&s instanceof Xs?qr(r.elements,s.elements,nn):r instanceof eo&&s instanceof eo?nn(r.Ae,s.Ae):r instanceof to&&s instanceof to})(e.transform,t.transform)}class rI{constructor(t,n){this.version=t,this.transformResults=n}}class Xe{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Xe}static exists(t){return new Xe(void 0,t)}static updateTime(t){return new Xe(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ni(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Po{}function Tp(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new kl(e.key,Xe.none()):new ni(e.key,e.data,Xe.none());{const n=e.data,r=Se.empty();let s=new zt(Zt.comparator);for(let i of t.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new pr(e.key,r,new ke(s.toArray()),Xe.none())}}function sI(e,t,n){e instanceof ni?(function(s,i,a){const l=s.value.clone(),c=Ah(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(e,t,n):e instanceof pr?(function(s,i,a){if(!Ni(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=Ah(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(Ip(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(e,t,n):(function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()})(0,t,n)}function Os(e,t,n,r){return e instanceof ni?(function(i,a,l,c){if(!Ni(i.precondition,a))return l;const h=i.value.clone(),d=wh(i.fieldTransforms,c,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null})(e,t,n,r):e instanceof pr?(function(i,a,l,c){if(!Ni(i.precondition,a))return l;const h=wh(i.fieldTransforms,c,a),d=a.data;return d.setAll(Ip(i)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((p=>p.field)))})(e,t,n,r):(function(i,a,l){return Ni(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(e,t,n)}function iI(e,t){let n=null;for(const r of e.fieldTransforms){const s=t.data.field(r.field),i=_p(r.transform,s||null);i!=null&&(n===null&&(n=Se.empty()),n.set(r.field,i))}return n||null}function Ih(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&qr(r,s,((i,a)=>nI(i,a)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ni extends Po{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class pr extends Po{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ip(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ah(e,t,n){const r=new Map;wt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,l=t.data.field(i.field);r.set(i.field,eI(a,l,n[s]))}return r}function wh(e,t,n){const r=new Map;for(const s of e){const i=s.transform,a=n.data.field(s.field);r.set(s.field,tI(i,a,t))}return r}class kl extends Po{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oI extends Po{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class aI{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&sI(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Os(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Os(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=mp();return this.mutations.forEach((s=>{const i=t.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=Tp(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(ot.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),mt())}isEqual(t){return this.batchId===t.batchId&&qr(this.mutations,t.mutations,((n,r)=>Ih(n,r)))&&qr(this.baseMutations,t.baseMutations,((n,r)=>Ih(n,r)))}}class Ll{constructor(t,n,r,s){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(t,n,r){wt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let s=(function(){return QT})();const i=t.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Ll(t,n,r,s)}}class lI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class cI{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ut,_t;function uI(e){switch(e){case M.OK:return st(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return st(15467,{code:e})}}function Ap(e){if(e===void 0)return _n("GRPC error has no .code"),M.UNKNOWN;switch(e){case Ut.OK:return M.OK;case Ut.CANCELLED:return M.CANCELLED;case Ut.UNKNOWN:return M.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return M.INTERNAL;case Ut.UNAVAILABLE:return M.UNAVAILABLE;case Ut.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ut.NOT_FOUND:return M.NOT_FOUND;case Ut.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ut.ABORTED:return M.ABORTED;case Ut.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ut.DATA_LOSS:return M.DATA_LOSS;default:return st(39323,{code:e})}}(_t=Ut||(Ut={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";function hI(){return new TextEncoder}const fI=new Mn([4294967295,4294967295],0);function Rh(e){const t=hI().encode(e),n=new Fd;return n.update(t),new Uint8Array(n.digest())}function bh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Mn([n,r],0),new Mn([s,i],0)]}class Fl{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vs(`Invalid padding: ${n}`);if(r<0)throw new vs(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new vs(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new vs(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Mn.fromNumber(this.ge)}ye(t,n,r){let s=t.add(n.multiply(Mn.fromNumber(r)));return s.compare(fI)===1&&(s=new Mn([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Rh(t),[r,s]=bh(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),a=new Fl(i,s,n);return r.forEach((l=>a.insert(l))),a}insert(t){if(this.ge===0)return;const n=Rh(t),[r,s]=bh(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class vs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vo{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,ri.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Vo(ot.min(),s,new xt(pt),yn(),mt())}}class ri{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new ri(r,n,mt(),mt(),mt())}}class xi{constructor(t,n,r,s){this.be=t,this.removedTargetIds=n,this.key=r,this.De=s}}class wp{constructor(t,n){this.targetId=t,this.Ce=n}}class Rp{constructor(t,n,r=ee.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Sh{constructor(){this.ve=0,this.Fe=Ch(),this.Me=ee.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=mt(),n=mt(),r=mt();return this.Fe.forEach(((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:st(38017,{changeType:i})}})),new ri(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=Ch()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dI{constructor(t){this.Ge=t,this.ze=new Map,this.je=yn(),this.Je=Ii(),this.He=Ii(),this.Ye=new xt(pt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:st(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(t){const n=t.targetId,r=t.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Ga(i))if(r===0){const a=new et(i.path);this.et(n,a,le.newNoDocument(a,ot.min()))}else wt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(t),c=l?this.ct(l,t,a):1;if(c!==0){this.it(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=jn(r).toUint8Array()}catch(c){if(c instanceof Xd)return jr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Fl(a,s,i)}catch(c){return jr(c instanceof vs?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;t.mightContain(l)||(this.et(n,i,null),s++)})),s}Tt(t){const n=new Map;this.ze.forEach(((i,a)=>{const l=this.ot(a);if(l){if(i.current&&Ga(l.target)){const c=new et(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,le.newNoDocument(c,t))}i.Be&&(n.set(a,i.ke()),i.qe())}}));let r=mt();this.He.forEach(((i,a)=>{let l=!0;a.forEachWhile((c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(i))})),this.je.forEach(((i,a)=>a.setReadTime(t)));const s=new Vo(t,n,this.Ye,this.je,r);return this.je=yn(),this.Je=Ii(),this.He=Ii(),this.Ye=new xt(pt),s}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Sh,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new zt(pt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new zt(pt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||J("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Sh),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Ii(){return new xt(et.comparator)}function Ch(){return new xt(et.comparator)}const pI={asc:"ASCENDING",desc:"DESCENDING"},mI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gI={and:"AND",or:"OR"};class _I{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Wa(e,t){return e.useProto3Json||wo(t)?t:{value:t}}function no(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function bp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function yI(e,t){return no(e,t.toTimestamp())}function Ye(e){return wt(!!e,49232),ot.fromTimestamp((function(n){const r=Bn(n);return new Nt(r.seconds,r.nanos)})(e))}function Ul(e,t){return Qa(e,t).canonicalString()}function Qa(e,t){const n=(function(s){return new Vt(["projects",s.projectId,"databases",s.database])})(e).child("documents");return t===void 0?n:n.child(t)}function Sp(e){const t=Vt.fromString(e);return wt(Np(t),10190,{key:t.toString()}),t}function Xa(e,t){return Ul(e.databaseId,t.path)}function pa(e,t){const n=Sp(t);if(n.get(1)!==e.databaseId.projectId)throw new X(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new X(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new et(Pp(n))}function Cp(e,t){return Ul(e.databaseId,t)}function EI(e){const t=Sp(e);return t.length===4?Vt.emptyPath():Pp(t)}function Ya(e){return new Vt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Pp(e){return wt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Ph(e,t,n){return{name:Xa(e,t),fields:n.value.mapValue.fields}}function vI(e,t){let n;if("targetChange"in t){t.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:st(39313,{state:h})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=(function(h,d){return h.useProto3Json?(wt(d===void 0||typeof d=="string",58123),ee.fromBase64String(d||"")):(wt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ee.fromUint8Array(d||new Uint8Array))})(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&(function(h){const d=h.code===void 0?M.UNKNOWN:Ap(h.code);return new X(d,h.message||"")})(a);n=new Rp(r,s,i,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=pa(e,r.document.name),i=Ye(r.document.updateTime),a=r.document.createTime?Ye(r.document.createTime):ot.min(),l=new Se({mapValue:{fields:r.document.fields}}),c=le.newFoundDocument(s,i,a,l),h=r.targetIds||[],d=r.removedTargetIds||[];n=new xi(h,d,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=pa(e,r.document),i=r.readTime?Ye(r.readTime):ot.min(),a=le.newNoDocument(s,i),l=r.removedTargetIds||[];n=new xi([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=pa(e,r.document),i=r.removedTargetIds||[];n=new xi([],i,s,null)}else{if(!("filter"in t))return st(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new cI(s,i),l=r.targetId;n=new wp(l,a)}}return n}function TI(e,t){let n;if(t instanceof ni)n={update:Ph(e,t.key,t.value)};else if(t instanceof kl)n={delete:Xa(e,t.key)};else if(t instanceof pr)n={update:Ph(e,t.key,t.data),updateMask:VI(t.fieldMask)};else{if(!(t instanceof oI))return st(16599,{Vt:t.type});n={verify:Xa(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(i,a){const l=a.transform;if(l instanceof to)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Qs)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Xs)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof eo)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw st(20930,{transform:a.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:yI(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:st(27497)})(e,t.precondition)),n}function II(e,t){return e&&e.length>0?(wt(t!==void 0,14353),e.map((n=>(function(s,i){let a=s.updateTime?Ye(s.updateTime):Ye(i);return a.isEqual(ot.min())&&(a=Ye(i)),new rI(a,s.transformResults||[])})(n,t)))):[]}function AI(e,t){return{documents:[Cp(e,t.path)]}}function wI(e,t){const n={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Cp(e,s);const i=(function(h){if(h.length!==0)return Dp(Be.create(h,"and"))})(t.filters);i&&(n.structuredQuery.where=i);const a=(function(h){if(h.length!==0)return h.map((d=>(function(g){return{field:br(g.field),direction:SI(g.dir)}})(d)))})(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Wa(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(t.endAt)),{ft:n,parent:s}}function RI(e){let t=EI(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){wt(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:t=t.child(d.collectionId)}let i=[];n.where&&(i=(function(p){const g=Vp(p);return g instanceof Be&&op(g)?g.getFilters():[g]})(n.where));let a=[];n.orderBy&&(a=(function(p){return p.map((g=>(function(V){return new Ws(Sr(V.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(g)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let g;return g=typeof p=="object"?p.value:p,wo(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,v=p.values||[];return new Zi(v,g)})(n.startAt));let h=null;return n.endAt&&(h=(function(p){const g=!p.before,v=p.values||[];return new Zi(v,g)})(n.endAt)),HT(t,s,a,i,l,"F",c,h)}function bI(e,t){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return st(28987,{purpose:s})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Vp(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Sr(n.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Sr(n.unaryFilter.field);return Bt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Sr(n.unaryFilter.field);return Bt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Sr(n.unaryFilter.field);return Bt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return st(61313);default:return st(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Bt.create(Sr(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return st(58110);default:return st(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Be.create(n.compositeFilter.filters.map((r=>Vp(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return st(1026)}})(n.compositeFilter.op))})(e):st(30097,{filter:e})}function SI(e){return pI[e]}function CI(e){return mI[e]}function PI(e){return gI[e]}function br(e){return{fieldPath:e.canonicalString()}}function Sr(e){return Zt.fromServerFormat(e.fieldPath)}function Dp(e){return e instanceof Bt?(function(n){if(n.op==="=="){if(gh(n.value))return{unaryFilter:{field:br(n.field),op:"IS_NAN"}};if(mh(n.value))return{unaryFilter:{field:br(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gh(n.value))return{unaryFilter:{field:br(n.field),op:"IS_NOT_NAN"}};if(mh(n.value))return{unaryFilter:{field:br(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:br(n.field),op:CI(n.op),value:n.value}}})(e):e instanceof Be?(function(n){const r=n.getFilters().map((s=>Dp(s)));return r.length===1?r[0]:{compositeFilter:{op:PI(n.op),filters:r}}})(e):st(54877,{filter:e})}function VI(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Np(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class Dn{constructor(t,n,r,s,i=ot.min(),a=ot.min(),l=ee.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(t){return new Dn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Dn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Dn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Dn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class DI{constructor(t){this.yt=t}}function NI(e){const t=RI({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ka(t,t.limit,"L"):t}class xI{constructor(){this.Cn=new OI}addToCollectionParentIndex(t,n){return this.Cn.add(n),k.resolve()}getCollectionParents(t,n){return k.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return k.resolve()}deleteFieldIndex(t,n){return k.resolve()}deleteAllFieldIndexes(t){return k.resolve()}createTargetIndexes(t,n){return k.resolve()}getDocumentsMatchingTarget(t,n){return k.resolve(null)}getIndexType(t,n){return k.resolve(0)}getFieldIndexes(t,n){return k.resolve([])}getNextCollectionGroupToUpdate(t){return k.resolve(null)}getMinOffset(t,n){return k.resolve(Un.min())}getMinOffsetFromCollectionGroup(t,n){return k.resolve(Un.min())}updateCollectionGroup(t,n,r){return k.resolve()}updateIndexEntries(t,n){return k.resolve()}}class OI{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new zt(Vt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new zt(Vt.comparator)).toArray()}}const Vh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xp=41943040;class Ee{static withCacheSize(t){return new Ee(t,Ee.DEFAULT_COLLECTION_PERCENTILE,Ee.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Ee.DEFAULT_COLLECTION_PERCENTILE=10,Ee.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ee.DEFAULT=new Ee(xp,Ee.DEFAULT_COLLECTION_PERCENTILE,Ee.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ee.DISABLED=new Ee(-1,0,0);class Gr{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Gr(0)}static cr(){return new Gr(-1)}}const Dh="LruGarbageCollector",MI=1048576;function Nh([e,t],[n,r]){const s=pt(e,n);return s===0?pt(t,r):s}class kI{constructor(t){this.Ir=t,this.buffer=new zt(Nh),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Nh(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LI{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){J(Dh,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xr(n)?J(Dh,"Ignoring IndexedDB error during garbage collection: ",n):await Qr(n)}await this.Vr(3e5)}))}}class FI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return k.resolve(Ao.ce);const r=new kI(n);return this.mr.forEachTarget(t,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(t,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(Vh)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vh):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,s,i,a,l,c,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(t,s)))).next((p=>(r=p,l=Date.now(),this.removeTargets(t,r,n)))).next((p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(t,r)))).next((p=>(h=Date.now(),wr()<=yt.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(h-c)+`ms
Total Duration: ${h-d}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p}))))}}function UI(e,t){return new FI(e,t)}class BI{constructor(){this.changes=new dr((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,le.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?k.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class jI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class qI{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(t,n)))).next((s=>(r!==null&&Os(r.mutation,s,ke.empty(),Nt.now()),s)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,mt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=mt()){const s=rr();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,r).next((i=>{let a=Es();return i.forEach(((l,c)=>{a=a.insert(l,c.overlayedDocument)})),a}))))}getOverlayedDocuments(t,n){const r=rr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,mt())))}populateOverlays(t,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(t,s).next((i=>{i.forEach(((a,l)=>{n.set(a,l)}))}))}computeViews(t,n,r,s){let i=yn();const a=xs(),l=(function(){return xs()})();return n.forEach(((c,h)=>{const d=r.get(h.key);s.has(h.key)&&(d===void 0||d.mutation instanceof pr)?i=i.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),Os(d.mutation,h,d.mutation.getFieldMask(),Nt.now())):a.set(h.key,ke.empty())})),this.recalculateAndSaveOverlays(t,i).next((c=>(c.forEach(((h,d)=>a.set(h,d))),n.forEach(((h,d)=>l.set(h,new jI(d,a.get(h)??null)))),l)))}recalculateAndSaveOverlays(t,n){const r=xs();let s=new xt(((a,l)=>a-l)),i=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((a=>{for(const l of a)l.keys().forEach((c=>{const h=n.get(c);if(h===null)return;let d=r.get(c)||ke.empty();d=l.applyToLocalView(h,d),r.set(c,d);const p=(s.get(l.batchId)||mt()).add(c);s=s.insert(l.batchId,p)}))})).next((()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,d=c.value,p=mp();d.forEach((g=>{if(!i.has(g)){const v=Tp(n.get(g),r.get(g));v!==null&&p.set(g,v),i=i.add(g)}})),a.push(this.documentOverlayCache.saveOverlays(t,h,p))}return k.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,s){return(function(a){return et.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):up(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next((i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):k.resolve(rr());let l=Hs,c=i;return a.next((h=>k.forEach(h,((d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(d)?k.resolve():this.remoteDocumentCache.getEntry(t,d).next((g=>{c=c.insert(d,g)}))))).next((()=>this.populateOverlays(t,h,i))).next((()=>this.computeViews(t,c,h,mt()))).next((d=>({batchId:l,changes:pp(d)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new et(n)).next((r=>{let s=Es();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const i=n.collectionGroup;let a=Es();return this.indexManager.getCollectionParents(t,i).next((l=>k.forEach(l,(c=>{const h=(function(p,g){return new Yr(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(t,h,r,s).next((d=>{d.forEach(((p,g)=>{a=a.insert(p,g)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(t,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i,s)))).next((a=>{i.forEach(((c,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,le.newInvalidDocument(d)))}));let l=Es();return a.forEach(((c,h)=>{const d=i.get(c);d!==void 0&&Os(d.mutation,h,ke.empty(),Nt.now()),So(n,h)&&(l=l.insert(c,h))})),l}))}}class $I{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return k.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Ye(s.createTime)}})(n)),k.resolve()}getNamedQuery(t,n){return k.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:NI(s.bundledQuery),readTime:Ye(s.readTime)}})(n)),k.resolve()}}class HI{constructor(){this.overlays=new xt(et.comparator),this.qr=new Map}getOverlay(t,n){return k.resolve(this.overlays.get(n))}getOverlays(t,n){const r=rr();return k.forEach(n,(s=>this.getOverlay(t,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((s,i)=>{this.St(t,n,i)})),k.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),k.resolve()}getOverlaysForCollection(t,n,r){const s=rr(),i=n.length+1,a=new et(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return k.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new xt(((h,d)=>h-d));const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=i.get(h.largestBatchId);d===null&&(d=rr(),i=i.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=rr(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((h,d)=>l.set(h,d))),!(l.size()>=s)););return k.resolve(l)}St(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new lI(n,r));let i=this.qr.get(n);i===void 0&&(i=mt(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}class GI{constructor(){this.sessionToken=ee.EMPTY_BYTE_STRING}getSessionToken(t){return k.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,k.resolve()}}class Bl{constructor(){this.Qr=new zt(Qt.$r),this.Ur=new zt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Qt(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new Qt(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new et(new Vt([])),r=new Qt(n,t),s=new Qt(n,t+1),i=[];return this.Ur.forEachInRange([r,s],(a=>{this.Gr(a),i.push(a.key)})),i}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new et(new Vt([])),r=new Qt(n,t),s=new Qt(n,t+1);let i=mt();return this.Ur.forEachInRange([r,s],(a=>{i=i.add(a.key)})),i}containsKey(t){const n=new Qt(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Qt{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return et.comparator(t.key,n.key)||pt(t.Yr,n.Yr)}static Kr(t,n){return pt(t.Yr,n.Yr)||et.comparator(t.key,n.key)}}class zI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Qt.$r)}checkEmpty(t){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new aI(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Zr=this.Zr.add(new Qt(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return k.resolve(a)}lookupMutationBatch(t,n){return k.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return k.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?Pl:this.tr-1)}getAllMutationBatches(t){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Qt(n,0),s=new Qt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(a=>{const l=this.Xr(a.Yr);i.push(l)})),k.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new zt(pt);return n.forEach((s=>{const i=new Qt(s,0),a=new Qt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],(l=>{r=r.add(l.Yr)}))})),k.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;et.isDocumentKey(i)||(i=i.child(""));const a=new Qt(new et(i),0);let l=new zt(pt);return this.Zr.forEachWhile((c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(l=l.add(c.Yr)),!0)}),a),k.resolve(this.ti(l))}ti(t){const n=[];return t.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(t,n){wt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return k.forEach(n.mutations,(s=>{const i=new Qt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new Qt(n,0),s=this.Zr.firstAfterOrEqual(r);return k.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,k.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class KI{constructor(t){this.ri=t,this.docs=(function(){return new xt(et.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return k.resolve(r?r.document.mutableCopy():le.newInvalidDocument(n))}getEntries(t,n){let r=yn();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():le.newInvalidDocument(s))})),k.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let i=yn();const a=n.path,l=new et(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:d}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||IT(TT(d),r)<=0||(s.has(d.key)||So(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return k.resolve(i)}getAllFromCollectionGroup(t,n,r,s){st(9500)}ii(t,n){return k.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new WI(this)}getSize(t){return k.resolve(this.size)}}class WI extends BI{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(r)})),k.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class QI{constructor(t){this.persistence=t,this.si=new dr((n=>Nl(n)),xl),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.oi=0,this._i=new Bl,this.targetCount=0,this.ai=Gr.ur()}forEachTarget(t,n){return this.si.forEach(((r,s)=>n(s))),k.resolve()}getLastRemoteSnapshotVersion(t){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return k.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),k.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Gr(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,k.resolve()}updateTargetData(t,n){return this.Pr(n),k.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.si.forEach(((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(t,l.targetId)),s++)})),k.waitFor(i).next((()=>s))}getTargetCount(t){return k.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return k.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),k.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((a=>{i.push(s.markPotentiallyOrphaned(t,a))})),k.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),k.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return k.resolve(r)}containsKey(t,n){return k.resolve(this._i.containsKey(n))}}class Op{constructor(t,n){this.ui={},this.overlays={},this.ci=new Ao(0),this.li=!1,this.li=!0,this.hi=new GI,this.referenceDelegate=t(this),this.Pi=new QI(this),this.indexManager=new xI,this.remoteDocumentCache=(function(s){return new KI(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new DI(n),this.Ii=new $I(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new HI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new zI(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){J("MemoryPersistence","Starting transaction:",t);const s=new XI(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(t,n){return k.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class XI extends wT{constructor(t){super(),this.currentSequenceNumber=t}}class jl{constructor(t){this.persistence=t,this.Ri=new Bl,this.Vi=null}static mi(t){return new jl(t)}get fi(){if(this.Vi)return this.Vi;throw st(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),k.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),k.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),k.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.fi,(r=>{const s=et.fromPath(r);return this.gi(t,s).next((i=>{i||n.removeEntry(s,ot.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return k.or([()=>k.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class ro{constructor(t,n){this.persistence=t,this.pi=new dr((r=>ST(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=UI(this,n)}static mi(t,n){return new ro(t,n)}Ei(){}di(t){return k.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((s=>r+s))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return k.forEach(this.pi,((r,s)=>this.br(t,r,s).next((i=>i?k.resolve():n(s)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(t,(a=>this.br(t,a,n).next((l=>{l||(r++,i.removeEntry(a,ot.min()))})))).next((()=>i.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),k.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),k.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),k.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),k.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Vi(t.data.value)),n}br(t,n,r){return k.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.pi.get(n);return k.resolve(s!==void 0&&s>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ql{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=s}static As(t,n){let r=mt(),s=mt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new ql(t,n.fromCache,r,s)}}class YI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class JI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $E()?8:RT(jE())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,s){const i={result:null};return this.ys(t,n).next((a=>{i.result=a})).next((()=>{if(!i.result)return this.ws(t,n,s,r).next((a=>{i.result=a}))})).next((()=>{if(i.result)return;const a=new YI;return this.Ss(t,n,a).next((l=>{if(i.result=l,this.Vs)return this.bs(t,n,a,l.size)}))})).next((()=>i.result))}bs(t,n,r,s){return r.documentReadCount<this.fs?(wr()<=yt.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",Rr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),k.resolve()):(wr()<=yt.DEBUG&&J("QueryEngine","Query:",Rr(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(wr()<=yt.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",Rr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Qe(n))):k.resolve())}ys(t,n){if(vh(n))return k.resolve(null);let r=Qe(n);return this.indexManager.getIndexType(t,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Ka(n,null,"F"),r=Qe(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((i=>{const a=mt(...i);return this.ps.getDocuments(t,a).next((l=>this.indexManager.getMinOffset(t,r).next((c=>{const h=this.Ds(n,l);return this.Cs(n,h,a,c.readTime)?this.ys(t,Ka(n,null,"F")):this.vs(t,h,n,c)}))))})))))}ws(t,n,r,s){return vh(n)||s.isEqual(ot.min())?k.resolve(null):this.ps.getDocuments(t,r).next((i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?k.resolve(null):(wr()<=yt.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Rr(n)),this.vs(t,a,n,vT(s,Hs)).next((l=>l)))}))}Ds(t,n){let r=new zt(fp(t));return n.forEach(((s,i)=>{So(t,i)&&(r=r.add(i))})),r}Cs(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(t,n,r){return wr()<=yt.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",Rr(n)),this.ps.getDocumentsMatchingQuery(t,n,Un.min(),r)}vs(t,n,r,s){return this.ps.getDocumentsMatchingQuery(t,r,s).next((i=>(n.forEach((a=>{i=i.insert(a.key,a)})),i)))}}const $l="LocalStore",ZI=3e8;class tA{constructor(t,n,r,s){this.persistence=t,this.Fs=n,this.serializer=s,this.Ms=new xt(pt),this.xs=new dr((i=>Nl(i)),xl),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new qI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function eA(e,t,n,r){return new tA(e,t,n,r)}async function Mp(e,t){const n=at(e);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const a=[],l=[];let c=mt();for(const h of s){a.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}for(const h of i){l.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next((h=>({Ls:h,removedBatchIds:a,addedBatchIds:l})))}))}))}function nA(e,t){const n=at(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,h,d){const p=h.batch,g=p.keys();let v=k.resolve();return g.forEach((V=>{v=v.next((()=>d.getEntry(c,V))).next((x=>{const L=h.docVersions.get(V);wt(L!==null,48541),x.version.compareTo(L)<0&&(p.applyToRemoteDocument(x,h),x.isValidDocument()&&(x.setReadTime(h.commitVersion),d.addEntry(x)))}))})),v.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(n,r,t,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=mt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c})(t)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function kp(e){const t=at(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function rA(e,t){const n=at(e),r=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];t.targetChanges.forEach(((d,p)=>{const g=s.get(p);if(!g)return;l.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(i,d.addedDocuments,p))));let v=g.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(p)!==null?v=v.withResumeToken(ee.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),s=s.insert(p,v),(function(x,L,$){return x.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=ZI?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(g,v,d)&&l.push(n.Pi.updateTargetData(i,v))}));let c=yn(),h=mt();if(t.documentUpdates.forEach((d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))})),l.push(sA(i,a,t.documentUpdates).next((d=>{c=d.ks,h=d.qs}))),!r.isEqual(ot.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next((p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));l.push(d)}return k.waitFor(l).next((()=>a.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,c,h))).next((()=>c))})).then((i=>(n.Ms=s,i)))}function sA(e,t,n){let r=mt(),s=mt();return n.forEach((i=>r=r.add(i))),t.getEntries(e,r).next((i=>{let a=yn();return n.forEach(((l,c)=>{const h=i.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ot.min())?(t.removeEntry(l,c.readTime),a=a.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(c),a=a.insert(l,c)):J($l,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)})),{ks:a,qs:s}}))}function iA(e,t){const n=at(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Pl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function oA(e,t){const n=at(e);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,t).next((i=>i?(s=i,k.resolve(s)):n.Pi.allocateTargetId(r).next((a=>(s=new Dn(t,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function Ja(e,t,n){const r=at(e),s=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(a=>r.persistence.referenceDelegate.removeTarget(a,s)))}catch(a){if(!Xr(a))throw a;J($l,`Failed to update sequence numbers for target ${t}: ${a}`)}r.Ms=r.Ms.remove(t),r.xs.delete(s.target)}function xh(e,t,n){const r=at(e);let s=ot.min(),i=mt();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,h,d){const p=at(c),g=p.xs.get(d);return g!==void 0?k.resolve(p.Ms.get(g)):p.Pi.getTargetData(h,d)})(r,a,Qe(t)).next((l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next((c=>{i=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,t,n?s:ot.min(),n?i:mt()))).next((l=>(aA(r,zT(t),l),{documents:l,Qs:i})))))}function aA(e,t,n){let r=e.Os.get(t)||ot.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),e.Os.set(t,r)}class Oh{constructor(){this.activeTargetIds=JT()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class lA{constructor(){this.Mo=new Oh,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Oh,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class cA{Oo(t){}shutdown(){}}const Mh="ConnectivityMonitor";class kh{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){J(Mh,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){J(Mh,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ai=null;function Za(){return Ai===null?Ai=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ai++,"0x"+Ai.toString(16)}const ma="RestConnection",uA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hA{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Yi?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(t,n,r,s,i){const a=Za(),l=this.zo(t,n.toUriEncodedString());J(ma,`Sending RPC '${t}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:h}=new URL(l),d=Rl(h);return this.Jo(t,l,c,r,d).then((p=>(J(ma,`Received RPC '${t}' ${a}: `,p),p)),(p=>{throw jr(ma,`RPC '${t}' ${a} failed with error: `,p,"url: ",l,"request:",r),p}))}Ho(t,n,r,s,i,a){return this.Go(t,n,r,s,i)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wr})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>t[i]=s)),r&&r.headers.forEach(((s,i)=>t[i]=s))}zo(t,n){const r=uA[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class fA{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const ie="WebChannelConnection";class dA extends hA{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,s,i){const a=Za();return new Promise(((l,c)=>{const h=new Ud;h.setWithCredentials(!0),h.listenOnce(Bd.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Pi.NO_ERROR:const p=h.getResponseJson();J(ie,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(p)),l(p);break;case Pi.TIMEOUT:J(ie,`RPC '${t}' ${a} timed out`),c(new X(M.DEADLINE_EXCEEDED,"Request time out"));break;case Pi.HTTP_ERROR:const g=h.getStatus();if(J(ie,`RPC '${t}' ${a} failed with status:`,g,"response text:",h.getResponseText()),g>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const V=v?.error;if(V&&V.status&&V.message){const x=(function($){const q=$.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(q)>=0?q:M.UNKNOWN})(V.status);c(new X(x,V.message))}else c(new X(M.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new X(M.UNAVAILABLE,"Connection failed."));break;default:st(9055,{l_:t,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{J(ie,`RPC '${t}' ${a} completed.`)}}));const d=JSON.stringify(s);J(ie,`RPC '${t}' ${a} sending request:`,s),h.send(n,"POST",d,r,15)}))}T_(t,n,r){const s=Za(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=$d(),l=qd(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");J(ie,`Creating RPC '${t}' stream ${s}: ${d}`,c);const p=a.createWebChannel(d,c);this.I_(p);let g=!1,v=!1;const V=new fA({Yo:L=>{v?J(ie,`Not sending because RPC '${t}' stream ${s} is closed:`,L):(g||(J(ie,`Opening RPC '${t}' stream ${s} transport.`),p.open(),g=!0),J(ie,`RPC '${t}' stream ${s} sending:`,L),p.send(L))},Zo:()=>p.close()}),x=(L,$,q)=>{L.listen($,(H=>{try{q(H)}catch(W){setTimeout((()=>{throw W}),0)}}))};return x(p,ys.EventType.OPEN,(()=>{v||(J(ie,`RPC '${t}' stream ${s} transport opened.`),V.o_())})),x(p,ys.EventType.CLOSE,(()=>{v||(v=!0,J(ie,`RPC '${t}' stream ${s} transport closed`),V.a_(),this.E_(p))})),x(p,ys.EventType.ERROR,(L=>{v||(v=!0,jr(ie,`RPC '${t}' stream ${s} transport errored. Name:`,L.name,"Message:",L.message),V.a_(new X(M.UNAVAILABLE,"The operation could not be completed")))})),x(p,ys.EventType.MESSAGE,(L=>{if(!v){const $=L.data[0];wt(!!$,16349);const q=$,H=q?.error||q[0]?.error;if(H){J(ie,`RPC '${t}' stream ${s} received error:`,H);const W=H.status;let lt=(function(y){const I=Ut[y];if(I!==void 0)return Ap(I)})(W),ft=H.message;lt===void 0&&(lt=M.INTERNAL,ft="Unknown error status: "+W+" with message "+H.message),v=!0,V.a_(new X(lt,ft)),p.close()}else J(ie,`RPC '${t}' stream ${s} received:`,$),V.u_($)}})),x(l,jd.STAT_EVENT,(L=>{L.stat===Ba.PROXY?J(ie,`RPC '${t}' stream ${s} detected buffering proxy`):L.stat===Ba.NOPROXY&&J(ie,`RPC '${t}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function ga(){return typeof document<"u"?document:null}function Do(e){return new _I(e,!0)}class Lp{constructor(t,n,r=1e3,s=1.5,i=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&J("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Lh="PersistentStream";class Fp{constructor(t,n,r,s,i,a,l,c){this.Mi=t,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Lp(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(_n(n.toString()),_n("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{t((()=>{const s=new X(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return J(Lh,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(J(Lh,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pA extends Fp{constructor(t,n,r,s,i,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=vI(this.serializer,t),r=(function(i){if(!("targetChange"in i))return ot.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?ot.min():a.readTime?Ye(a.readTime):ot.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=Ya(this.serializer),n.addTarget=(function(i,a){let l;const c=a.target;if(l=Ga(c)?{documents:AI(i,c)}:{query:wI(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=bp(i,a.resumeToken);const h=Wa(i,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(ot.min())>0){l.readTime=no(i,a.snapshotVersion.toTimestamp());const h=Wa(i,a.expectedCount);h!==null&&(l.expectedCount=h)}return l})(this.serializer,t);const r=bI(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=Ya(this.serializer),n.removeTarget=t,this.q_(n)}}class mA extends Fp{constructor(t,n,r,s,i,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=II(t.writeResults,t.commitTime),r=Ye(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Ya(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>TI(this.serializer,r)))};this.q_(n)}}class gA{}class _A extends gA{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new X(M.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(t,Qa(n,r),s,i,a))).catch((i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(M.UNKNOWN,i.toString())}))}Ho(t,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Ho(t,Qa(n,r),s,a,l,i))).catch((a=>{throw a.name==="FirebaseError"?(a.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new X(M.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class yA{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_n(n),this.aa=!1):J("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const hr="RemoteStore";class EA{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{mr(this)&&(J(hr,"Restarting streams for network reachability change."),await(async function(c){const h=at(c);h.Ea.add(4),await si(h),h.Ra.set("Unknown"),h.Ea.delete(4),await No(h)})(this))}))})),this.Ra=new yA(r,s)}}async function No(e){if(mr(e))for(const t of e.da)await t(!0)}async function si(e){for(const t of e.da)await t(!1)}function Up(e,t){const n=at(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Kl(n)?zl(n):Jr(n).O_()&&Gl(n,t))}function Hl(e,t){const n=at(e),r=Jr(n);n.Ia.delete(t),r.O_()&&Bp(n,t),n.Ia.size===0&&(r.O_()?r.L_():mr(n)&&n.Ra.set("Unknown"))}function Gl(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ot.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Jr(e).Y_(t)}function Bp(e,t){e.Va.Ue(t),Jr(e).Z_(t)}function zl(e){e.Va=new dI({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Jr(e).start(),e.Ra.ua()}function Kl(e){return mr(e)&&!Jr(e).x_()&&e.Ia.size>0}function mr(e){return at(e).Ea.size===0}function jp(e){e.Va=void 0}async function vA(e){e.Ra.set("Online")}async function TA(e){e.Ia.forEach(((t,n)=>{Gl(e,t)}))}async function IA(e,t){jp(e),Kl(e)?(e.Ra.ha(t),zl(e)):e.Ra.set("Unknown")}async function AA(e,t,n){if(e.Ra.set("Online"),t instanceof Rp&&t.state===2&&t.cause)try{await(async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.Va.removeTarget(l))})(e,t)}catch(r){J(hr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await so(e,r)}else if(t instanceof xi?e.Va.Ze(t):t instanceof wp?e.Va.st(t):e.Va.tt(t),!n.isEqual(ot.min()))try{const r=await kp(e.localStore);n.compareTo(r)>=0&&await(function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach(((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ia.get(h);d&&i.Ia.set(h,d.withResumeToken(c.resumeToken,a))}})),l.targetMismatches.forEach(((c,h)=>{const d=i.Ia.get(c);if(!d)return;i.Ia.set(c,d.withResumeToken(ee.EMPTY_BYTE_STRING,d.snapshotVersion)),Bp(i,c);const p=new Dn(d.target,c,h,d.sequenceNumber);Gl(i,p)})),i.remoteSyncer.applyRemoteEvent(l)})(e,n)}catch(r){J(hr,"Failed to raise snapshot:",r),await so(e,r)}}async function so(e,t,n){if(!Xr(t))throw t;e.Ea.add(1),await si(e),e.Ra.set("Offline"),n||(n=()=>kp(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{J(hr,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await No(e)}))}function qp(e,t){return t().catch((n=>so(e,n,t)))}async function xo(e){const t=at(e),n=$n(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Pl;for(;wA(t);)try{const s=await iA(t.localStore,r);if(s===null){t.Ta.length===0&&n.L_();break}r=s.batchId,RA(t,s)}catch(s){await so(t,s)}$p(t)&&Hp(t)}function wA(e){return mr(e)&&e.Ta.length<10}function RA(e,t){e.Ta.push(t);const n=$n(e);n.O_()&&n.X_&&n.ea(t.mutations)}function $p(e){return mr(e)&&!$n(e).x_()&&e.Ta.length>0}function Hp(e){$n(e).start()}async function bA(e){$n(e).ra()}async function SA(e){const t=$n(e);for(const n of e.Ta)t.ea(n.mutations)}async function CA(e,t,n){const r=e.Ta.shift(),s=Ll.from(r,t,n);await qp(e,(()=>e.remoteSyncer.applySuccessfulWrite(s))),await xo(e)}async function PA(e,t){t&&$n(e).X_&&await(async function(r,s){if((function(a){return uI(a)&&a!==M.ABORTED})(s.code)){const i=r.Ta.shift();$n(r).B_(),await qp(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await xo(r)}})(e,t),$p(e)&&Hp(e)}async function Fh(e,t){const n=at(e);n.asyncQueue.verifyOperationInProgress(),J(hr,"RemoteStore received new credentials");const r=mr(n);n.Ea.add(3),await si(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await No(n)}async function VA(e,t){const n=at(e);t?(n.Ea.delete(2),await No(n)):t||(n.Ea.add(2),await si(n),n.Ra.set("Unknown"))}function Jr(e){return e.ma||(e.ma=(function(n,r,s){const i=at(n);return i.sa(),new pA(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(e.datastore,e.asyncQueue,{Xo:vA.bind(null,e),t_:TA.bind(null,e),r_:IA.bind(null,e),H_:AA.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),Kl(e)?zl(e):e.Ra.set("Unknown")):(await e.ma.stop(),jp(e))}))),e.ma}function $n(e){return e.fa||(e.fa=(function(n,r,s){const i=at(n);return i.sa(),new mA(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:bA.bind(null,e),r_:PA.bind(null,e),ta:SA.bind(null,e),na:CA.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await xo(e)):(await e.fa.stop(),e.Ta.length>0&&(J(hr,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class Wl{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,i){const a=Date.now()+r,l=new Wl(t,n,a,s,i);return l.start(r),l}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(M.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ql(e,t){if(_n("AsyncQueue",`${t}: ${e}`),Xr(e))return new X(M.UNAVAILABLE,`${t}: ${e}`);throw e}class Mr{static emptySet(t){return new Mr(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||et.comparator(n.key,r.key):(n,r)=>et.comparator(n.key,r.key),this.keyedMap=Es(),this.sortedSet=new xt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Mr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Mr;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class Uh{constructor(){this.ga=new xt(et.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):st(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class zr{constructor(t,n,r,s,i,a,l,c,h){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(t,n,r,s,i){const a=[];return n.forEach((l=>{a.push({type:0,doc:l})})),new zr(t,n,Mr.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bo(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class DA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class NA{constructor(){this.queries=Bh(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=at(n),i=s.queries;s.queries=Bh(),i.forEach(((a,l)=>{for(const c of l.Sa)c.onError(r)}))})(this,new X(M.ABORTED,"Firestore shutting down"))}}function Bh(){return new dr((e=>hp(e)),bo)}async function xA(e,t){const n=at(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.ba()&&t.Da()&&(r=2):(i=new DA,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=Ql(a,`Initialization of query '${Rr(t.query)}' failed`);return void t.onError(l)}n.queries.set(s,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&Xl(n)}async function OA(e,t){const n=at(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(t);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=t.Da()?0:1:!i.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function MA(e,t){const n=at(e);let r=!1;for(const s of t){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Fa(s)&&(r=!0);a.wa=s}}r&&Xl(n)}function kA(e,t,n){const r=at(e),s=r.queries.get(t);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(t)}function Xl(e){e.Ca.forEach((t=>{t.next()}))}var tl,jh;(jh=tl||(tl={})).Ma="default",jh.Cache="cache";class LA{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new zr(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=zr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==tl.Cache}}class Gp{constructor(t){this.key=t}}class zp{constructor(t){this.key=t}}class FA{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=mt(),this.mutatedKeys=mt(),this.eu=fp(t),this.tu=new Mr(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new Uh,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((d,p)=>{const g=s.get(d),v=So(this.query,p)?p:null,V=!!g&&this.mutatedKeys.has(g.key),x=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let L=!1;g&&v?g.data.isEqual(v.data)?V!==x&&(r.track({type:3,doc:v}),L=!0):this.su(g,v)||(r.track({type:2,doc:v}),L=!0,(c&&this.eu(v,c)>0||h&&this.eu(v,h)<0)&&(l=!0)):!g&&v?(r.track({type:0,doc:v}),L=!0):g&&!v&&(r.track({type:1,doc:g}),L=!0,(c||h)&&(l=!0)),L&&(v?(a=a.add(v),i=x?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:a,iu:r,Cs:l,mutatedKeys:i}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,s){const i=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const a=t.iu.ya();a.sort(((d,p)=>(function(v,V){const x=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st(20277,{Rt:L})}};return x(v)-x(V)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,h=c!==this.Za;return this.Za=c,a.length!==0||h?{snapshot:new zr(this.query,t.tu,i,a,t.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Uh,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=mt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new zp(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new Gp(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=mt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return zr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yl="SyncEngine";class UA{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class BA{constructor(t){this.key=t,this.hu=!1}}class jA{constructor(t,n,r,s,i,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new dr((l=>hp(l)),bo),this.Iu=new Map,this.Eu=new Set,this.du=new xt(et.comparator),this.Au=new Map,this.Ru=new Bl,this.Vu={},this.mu=new Map,this.fu=Gr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qA(e,t,n=!0){const r=Jp(e);let s;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await Kp(r,t,n,!0),s}async function $A(e,t){const n=Jp(e);await Kp(n,t,!0,!1)}async function Kp(e,t,n,r){const s=await oA(e.localStore,Qe(t)),i=s.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await HA(e,t,i,a==="current",s.resumeToken)),e.isPrimaryClient&&n&&Up(e.remoteStore,s),l}async function HA(e,t,n,r,s){e.pu=(p,g,v)=>(async function(x,L,$,q){let H=L.view.ru($);H.Cs&&(H=await xh(x.localStore,L.query,!1).then((({documents:A})=>L.view.ru(A,H))));const W=q&&q.targetChanges.get(L.targetId),lt=q&&q.targetMismatches.get(L.targetId)!=null,ft=L.view.applyChanges(H,x.isPrimaryClient,W,lt);return $h(x,L.targetId,ft.au),ft.snapshot})(e,p,g,v);const i=await xh(e.localStore,t,!0),a=new FA(t,i.Qs),l=a.ru(i.documents),c=ri.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",s),h=a.applyChanges(l,e.isPrimaryClient,c);$h(e,n,h.au);const d=new UA(t,n,a);return e.Tu.set(t,d),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),h.snapshot}async function GA(e,t,n){const r=at(e),s=r.Tu.get(t),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((a=>!bo(a,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ja(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Hl(r.remoteStore,s.targetId),el(r,s.targetId)})).catch(Qr)):(el(r,s.targetId),await Ja(r.localStore,s.targetId,!0))}async function zA(e,t){const n=at(e),r=n.Tu.get(t),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Hl(n.remoteStore,r.targetId))}async function KA(e,t,n){const r=tw(e);try{const s=await(function(a,l){const c=at(a),h=Nt.now(),d=l.reduce(((v,V)=>v.add(V.key)),mt());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let V=yn(),x=mt();return c.Ns.getEntries(v,d).next((L=>{V=L,V.forEach((($,q)=>{q.isValidDocument()||(x=x.add($))}))})).next((()=>c.localDocuments.getOverlayedDocuments(v,V))).next((L=>{p=L;const $=[];for(const q of l){const H=iI(q,p.get(q.key).overlayedDocument);H!=null&&$.push(new pr(q.key,H,rp(H.value.mapValue),Xe.exists(!0)))}return c.mutationQueue.addMutationBatch(v,h,$,l)})).next((L=>{g=L;const $=L.applyToLocalDocumentSet(p,x);return c.documentOverlayCache.saveOverlays(v,L.batchId,$)}))})).then((()=>({batchId:g.batchId,changes:pp(p)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),(function(a,l,c){let h=a.Vu[a.currentUser.toKey()];h||(h=new xt(pt)),h=h.insert(l,c),a.Vu[a.currentUser.toKey()]=h})(r,s.batchId,n),await ii(r,s.changes),await xo(r.remoteStore)}catch(s){const i=Ql(s,"Failed to persist write");n.reject(i)}}async function Wp(e,t){const n=at(e);try{const r=await rA(n.localStore,t);t.targetChanges.forEach(((s,i)=>{const a=n.Au.get(i);a&&(wt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?wt(a.hu,14607):s.removedDocuments.size>0&&(wt(a.hu,42227),a.hu=!1))})),await ii(n,r,t)}catch(r){await Qr(r)}}function qh(e,t,n){const r=at(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,a)=>{const l=a.view.va(t);l.snapshot&&s.push(l.snapshot)})),(function(a,l){const c=at(a);c.onlineState=l;let h=!1;c.queries.forEach(((d,p)=>{for(const g of p.Sa)g.va(l)&&(h=!0)})),h&&Xl(c)})(r.eventManager,t),s.length&&r.Pu.H_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function WA(e,t,n){const r=at(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Au.get(t),i=s&&s.key;if(i){let a=new xt(et.comparator);a=a.insert(i,le.newNoDocument(i,ot.min()));const l=mt().add(i),c=new Vo(ot.min(),new Map,new xt(pt),a,l);await Wp(r,c),r.du=r.du.remove(i),r.Au.delete(t),Jl(r)}else await Ja(r.localStore,t,!1).then((()=>el(r,t,n))).catch(Qr)}async function QA(e,t){const n=at(e),r=t.batch.batchId;try{const s=await nA(n.localStore,t);Xp(n,r,null),Qp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ii(n,s)}catch(s){await Qr(s)}}async function XA(e,t,n){const r=at(e);try{const s=await(function(a,l){const c=at(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let d;return c.mutationQueue.lookupMutationBatch(h,l).next((p=>(wt(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(h,p)))).next((()=>c.mutationQueue.performConsistencyCheck(h))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(h,d,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d))).next((()=>c.localDocuments.getDocuments(h,d)))}))})(r.localStore,t);Xp(r,t,n),Qp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ii(r,s)}catch(s){await Qr(s)}}function Qp(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function Xp(e,t,n){const r=at(e);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(t);i&&(n?i.reject(n):i.resolve(),s=s.remove(t)),r.Vu[r.currentUser.toKey()]=s}}function el(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((r=>{e.Ru.containsKey(r)||Yp(e,r)}))}function Yp(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Hl(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Jl(e))}function $h(e,t,n){for(const r of n)r instanceof Gp?(e.Ru.addReference(r.key,t),YA(e,r)):r instanceof zp?(J(Yl,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Yp(e,r.key)):st(19791,{wu:r})}function YA(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(J(Yl,"New document in limbo: "+n),e.Eu.add(r),Jl(e))}function Jl(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new et(Vt.fromString(t)),r=e.fu.next();e.Au.set(r,new BA(n)),e.du=e.du.insert(n,r),Up(e.remoteStore,new Dn(Qe(Ol(n.path)),r,"TargetPurposeLimboResolution",Ao.ce))}}async function ii(e,t,n){const r=at(e),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{a.push(r.pu(c,t,n).then((h=>{if((h||n)&&r.isPrimaryClient){const d=h?!h.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(h){s.push(h);const d=ql.As(c.targetId,h);i.push(d)}})))})),await Promise.all(a),r.Pu.H_(s),await(async function(c,h){const d=at(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>k.forEach(h,(g=>k.forEach(g.Es,(v=>d.persistence.referenceDelegate.addReference(p,g.targetId,v))).next((()=>k.forEach(g.ds,(v=>d.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))))))}catch(p){if(!Xr(p))throw p;J($l,"Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const v=d.Ms.get(g),V=v.snapshotVersion,x=v.withLastLimboFreeSnapshotVersion(V);d.Ms=d.Ms.insert(g,x)}}})(r.localStore,i))}async function JA(e,t){const n=at(e);if(!n.currentUser.isEqual(t)){J(Yl,"User change. New user:",t.toKey());const r=await Mp(n.localStore,t);n.currentUser=t,(function(i,a){i.mu.forEach((l=>{l.forEach((c=>{c.reject(new X(M.CANCELLED,a))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ii(n,r.Ls)}}function ZA(e,t){const n=at(e),r=n.Au.get(t);if(r&&r.hu)return mt().add(r.key);{let s=mt();const i=n.Iu.get(t);if(!i)return s;for(const a of i){const l=n.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function Jp(e){const t=at(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Wp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=WA.bind(null,t),t.Pu.H_=MA.bind(null,t.eventManager),t.Pu.yu=kA.bind(null,t.eventManager),t}function tw(e){const t=at(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=QA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=XA.bind(null,t),t}class io{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Do(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return eA(this.persistence,new JI,t.initialUser,this.serializer)}Cu(t){return new Op(jl.mi,this.serializer)}Du(t){return new lA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}io.provider={build:()=>new io};class ew extends io{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){wt(this.persistence.referenceDelegate instanceof ro,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new LI(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ee.withCacheSize(this.cacheSizeBytes):Ee.DEFAULT;return new Op((r=>ro.mi(r,n)),this.serializer)}}class nl{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qh(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JA.bind(null,this.syncEngine),await VA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new NA})()}createDatastore(t){const n=Do(t.databaseInfo.databaseId),r=(function(i){return new dA(i)})(t.databaseInfo);return(function(i,a,l,c){return new _A(i,a,l,c)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,s,i,a,l){return new EA(r,s,i,a,l)})(this.localStore,this.datastore,t.asyncQueue,(n=>qh(this.syncEngine,n,0)),(function(){return kh.v()?new kh:new cA})())}createSyncEngine(t,n){return(function(s,i,a,l,c,h,d){const p=new jA(s,i,a,l,c,h);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=at(n);J(hr,"RemoteStore shutting down."),r.Ea.add(5),await si(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}nl.provider={build:()=>new nl};class nw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):_n("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Hn="FirestoreClient";class rw{constructor(t,n,r,s,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=oe.UNAUTHENTICATED,this.clientId=Cl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async a=>{J(Hn,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(J(Hn,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Ql(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function _a(e,t){e.asyncQueue.verifyOperationInProgress(),J(Hn,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async s=>{r.isEqual(s)||(await Mp(t.localStore,s),r=s)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Hh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await sw(e);J(Hn,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((r=>Fh(t.remoteStore,r))),e.setAppCheckTokenChangeListener(((r,s)=>Fh(t.remoteStore,s))),e._onlineComponents=t}async function sw(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){J(Hn,"Using user provided OfflineComponentProvider");try{await _a(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(s){return s.name==="FirebaseError"?s.code===M.FAILED_PRECONDITION||s.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;jr("Error using user provided cache. Falling back to memory cache: "+n),await _a(e,new io)}}else J(Hn,"Using default OfflineComponentProvider"),await _a(e,new ew(void 0));return e._offlineComponents}async function Zp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(J(Hn,"Using user provided OnlineComponentProvider"),await Hh(e,e._uninitializedComponentsProvider._online)):(J(Hn,"Using default OnlineComponentProvider"),await Hh(e,new nl))),e._onlineComponents}function iw(e){return Zp(e).then((t=>t.syncEngine))}async function Gh(e){const t=await Zp(e),n=t.eventManager;return n.onListen=qA.bind(null,t.syncEngine),n.onUnlisten=GA.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=$A.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=zA.bind(null,t.syncEngine),n}function tm(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const zh=new Map;const em="firestore.googleapis.com",Kh=!0;class Wh{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new X(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=em,this.ssl=Kh}else this.host=t.host,this.ssl=t.ssl??Kh;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=xp;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<MI)throw new X(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ET("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tm(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new X(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Oo{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new X(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wh(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new cT;switch(r.type){case"firstParty":return new dT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=zh.get(n);r&&(J("ComponentProvider","Removing Datastore"),zh.delete(n),r.terminate())})(this),Promise.resolve()}}function ow(e,t,n,r={}){e=Or(e,Oo);const s=Rl(t),i=e._getSettings(),a={...i,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${n}`;s&&(kE(`https://${l}`),BE("Firestore",!0)),i.host!==em&&i.host!==l&&jr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!Ki(c,a)&&(e._setSettings(c),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=oe.MOCK_USER;else{h=LE(r.mockUserToken,e._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new X(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new oe(p)}e._authCredentials=new uT(new Gd(h,d))}}class gr{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new gr(this.firestore,t,this._query)}}class Gt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kn(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Gt(this.firestore,t,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(ei(n,Gt._jsonSchema))return new Gt(t,r||null,new et(Vt.fromString(n.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:jt("string",Gt._jsonSchemaVersion),referencePath:jt("string")};class kn extends gr{constructor(t,n,r){super(t,n,Ol(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Gt(this.firestore,null,new et(t))}withConverter(t){return new kn(this.firestore,t,this._path)}}function Qh(e,t,...n){if(e=cr(e),zd("collection","path",t),e instanceof Oo){const r=Vt.fromString(t,...n);return oh(r),new kn(e,null,r)}{if(!(e instanceof Gt||e instanceof kn))throw new X(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Vt.fromString(t,...n));return oh(r),new kn(e.firestore,null,r)}}function aw(e,t,...n){if(e=cr(e),arguments.length===1&&(t=Cl.newId()),zd("doc","path",t),e instanceof Oo){const r=Vt.fromString(t,...n);return ih(r),new Gt(e,null,new et(r))}{if(!(e instanceof Gt||e instanceof kn))throw new X(M.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Vt.fromString(t,...n));return ih(r),new Gt(e.firestore,e instanceof kn?e.converter:null,new et(r))}}const Xh="AsyncQueue";class Yh{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Lp(this,"async_queue_retry"),this._c=()=>{const r=ga();r&&J(Xh,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=ga();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=ga();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Xr(t))throw t;J(Xh,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,_n("INTERNAL UNHANDLED ERROR: ",Jh(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=Wl.createAndSchedule(this,t,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&st(47125,{Pc:Jh(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Jh(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}function Zh(e){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(e,["next","error","complete"])}class Ys extends Oo{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=new Yh,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Yh(t),this._firestoreClient=void 0,await t}}}function lw(e,t){const n=typeof e=="object"?e:Xv(),r=typeof e=="string"?e:Yi,s=Gv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=OE("firestore");i&&ow(s,...i)}return s}function nm(e){if(e._terminated)throw new X(M.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||cw(e),e._firestoreClient}function cw(e){const t=e._freezeSettings(),n=(function(s,i,a,l){return new VT(s,i,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,tm(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new rw(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(e._componentsProvider))}class Ce{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ce(ee.fromBase64String(t))}catch(n){throw new X(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ce(ee.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ce._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ei(t,Ce._jsonSchema))return Ce.fromBase64String(t.bytes)}}Ce._jsonSchemaVersion="firestore/bytes/1.0",Ce._jsonSchema={type:jt("string",Ce._jsonSchemaVersion),bytes:jt("string")};class Zl{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new X(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class rm{constructor(t){this._methodName=t}}class Je{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new X(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new X(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return pt(this._lat,t._lat)||pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Je._jsonSchemaVersion}}static fromJSON(t){if(ei(t,Je._jsonSchema))return new Je(t.latitude,t.longitude)}}Je._jsonSchemaVersion="firestore/geoPoint/1.0",Je._jsonSchema={type:jt("string",Je._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class Ze{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ze._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ei(t,Ze._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Ze(t.vectorValues);throw new X(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ze._jsonSchemaVersion="firestore/vectorValue/1.0",Ze._jsonSchema={type:jt("string",Ze._jsonSchemaVersion),vectorValues:jt("object")};const uw=/^__.*__$/;class hw{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new pr(t,this.data,this.fieldMask,n,this.fieldTransforms):new ni(t,this.data,n,this.fieldTransforms)}}function sm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st(40011,{Ac:e})}}class tc{constructor(t,n,r,s,i,a){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new tc({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return oo(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(sm(this.Ac)&&uw.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class fw{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Do(t)}Cc(t,n,r,s=!1){return new tc({Ac:t,methodName:n,Dc:r,path:Zt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function im(e){const t=e._freezeSettings(),n=Do(e._databaseId);return new fw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function dw(e,t,n,r,s,i={}){const a=e.Cc(i.merge||i.mergeFields?2:0,t,n,s);lm("Data must be an object, but it was:",a,r);const l=om(r,a);let c,h;if(i.merge)c=new ke(a.fieldMask),h=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const p of i.mergeFields){const g=mw(t,p,n);if(!a.contains(g))throw new X(M.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);_w(d,g)||d.push(g)}c=new ke(d),h=a.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,h=a.fieldTransforms;return new hw(new Se(l),c,h)}function pw(e,t,n,r=!1){return ec(n,e.Cc(r?4:3,t))}function ec(e,t){if(am(e=cr(e)))return lm("Unsupported field value:",t,e),om(e,t);if(e instanceof rm)return(function(r,s){if(!sm(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let a=0;for(const l of r){let c=ec(l,s.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}})(e,t)}return(function(r,s){if((r=cr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZT(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Nt.fromDate(r);return{timestampValue:no(s.serializer,i)}}if(r instanceof Nt){const i=new Nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:no(s.serializer,i)}}if(r instanceof Je)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ce)return{bytesValue:bp(s.serializer,r._byteString)};if(r instanceof Gt){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ul(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ze)return(function(a,l){return{mapValue:{fields:{[ep]:{stringValue:np},[Ji]:{arrayValue:{values:a.toArray().map((h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return Ml(l.serializer,h)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Io(r)}`)})(e,t)}function om(e,t){const n={};return Qd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fr(e,((r,s)=>{const i=ec(s,t.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function am(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Nt||e instanceof Je||e instanceof Ce||e instanceof Gt||e instanceof rm||e instanceof Ze)}function lm(e,t,n){if(!am(n)||!Kd(n)){const r=Io(n);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function mw(e,t,n){if((t=cr(t))instanceof Zl)return t._internalPath;if(typeof t=="string")return cm(e,t);throw oo("Field path arguments must be of type string or ",e,!1,void 0,n)}const gw=new RegExp("[~\\*/\\[\\]]");function cm(e,t,n){if(t.search(gw)>=0)throw oo(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Zl(...t.split("."))._internalPath}catch{throw oo(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function oo(e,t,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new X(M.INVALID_ARGUMENT,l+e+c)}function _w(e,t){return e.some((n=>n.isEqual(t)))}class um{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new yw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(nc("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yw extends um{data(){return super.data()}}function nc(e,t){return typeof t=="string"?cm(e,t):t instanceof Zl?t._internalPath:t._delegate._internalPath}function Ew(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new X(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rc{}class hm extends rc{}function vw(e,t,...n){let r=[];t instanceof rc&&r.push(t),r=r.concat(n),(function(i){const a=i.filter((c=>c instanceof ic)).length,l=i.filter((c=>c instanceof sc)).length;if(a>1||a>0&&l>0)throw new X(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)e=s._apply(e);return e}class sc extends hm{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new sc(t,n,r)}_apply(t){const n=this._parse(t);return fm(t._query,n),new gr(t.firestore,t.converter,za(t._query,n))}_parse(t){const n=im(t.firestore);return(function(i,a,l,c,h,d,p){let g;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new X(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){ef(p,d);const V=[];for(const x of p)V.push(tf(c,i,x));g={arrayValue:{values:V}}}else g=tf(c,i,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||ef(p,d),g=pw(l,a,p,d==="in"||d==="not-in");return Bt.create(h,d,g)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class ic extends rc{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new ic(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Be.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)fm(a,c),a=za(a,c)})(t._query,n),new gr(t.firestore,t.converter,za(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class oc extends hm{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new oc(t,n)}_apply(t){const n=(function(s,i,a){if(s.startAt!==null)throw new X(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new X(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ws(i,a)})(t._query,this._field,this._direction);return new gr(t.firestore,t.converter,(function(s,i){const a=s.explicitOrderBy.concat([i]);return new Yr(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(t._query,n))}}function Tw(e,t="asc"){const n=t,r=nc("orderBy",e);return oc._create(r,n)}function tf(e,t,n){if(typeof(n=cr(n))=="string"){if(n==="")throw new X(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!up(t)&&n.indexOf("/")!==-1)throw new X(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Vt.fromString(n));if(!et.isDocumentKey(r))throw new X(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ph(e,new et(r))}if(n instanceof Gt)return ph(e,n._key);throw new X(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Io(n)}.`)}function ef(e,t){if(!Array.isArray(e)||e.length===0)throw new X(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function fm(e,t){const n=(function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null})(e.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new X(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new X(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Iw{convertValue(t,n="none"){switch(qn(t)){case 0:return null;case 1:return t.booleanValue;case 2:return kt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(jn(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw st(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return fr(t,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(t){const n=t.fields?.[Ji].arrayValue?.values?.map((r=>kt(r.doubleValue)));return new Ze(n)}convertGeoPoint(t){return new Je(kt(t.latitude),kt(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Ro(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gs(t));default:return null}}convertTimestamp(t){const n=Bn(t);return new Nt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Vt.fromString(t);wt(Np(r),9688,{name:t});const s=new zs(r.get(1),r.get(3)),i=new et(r.popFirst(5));return s.isEqual(n)||_n(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}function Aw(e,t,n){let r;return r=e?e.toFirestore(t):t,r}class Ts{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class lr extends um{constructor(t,n,r,s,i,a){super(t,n,r,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Oi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(nc("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=lr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}lr._jsonSchemaVersion="firestore/documentSnapshot/1.0",lr._jsonSchema={type:jt("string",lr._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Oi extends lr{data(t={}){return super.data(t)}}class kr{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ts(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Oi(this._firestore,this._userDataWriter,r.key,r,new Ts(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map((l=>{const c=new Oi(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Ts(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const c=new Oi(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Ts(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:ww(l.type),doc:c,oldIndex:h,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=kr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Cl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ww(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st(61501,{type:e})}}kr._jsonSchemaVersion="firestore/querySnapshot/1.0",kr._jsonSchema={type:jt("string",kr._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class dm extends Iw{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ce(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function kw(e){return pm(Or(e.firestore,Ys),[new kl(e._key,Xe.none())])}function Rw(e,t){const n=Or(e.firestore,Ys),r=aw(e),s=Aw(e.converter,t);return pm(n,[dw(im(e.firestore),"addDoc",r._key,s,e.converter!==null,{}).toMutation(r._key,Xe.exists(!1))]).then((()=>r))}function bw(e,...t){e=cr(e);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Zh(t[r])||(n=t[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Zh(t[r])){const c=t[r];t[r]=c.next?.bind(c),t[r+1]=c.error?.bind(c),t[r+2]=c.complete?.bind(c)}let i,a,l;if(e instanceof Gt)a=Or(e.firestore,Ys),l=Ol(e._key.path),i={next:c=>{t[r]&&t[r](Sw(a,e,c))},error:t[r+1],complete:t[r+2]};else{const c=Or(e,gr);a=Or(c.firestore,Ys),l=c._query;const h=new dm(a);i={next:d=>{t[r]&&t[r](new kr(a,h,c,d))},error:t[r+1],complete:t[r+2]},Ew(e._query)}return(function(h,d,p,g){const v=new nw(g),V=new LA(d,v,p);return h.asyncQueue.enqueueAndForget((async()=>xA(await Gh(h),V))),()=>{v.Nu(),h.asyncQueue.enqueueAndForget((async()=>OA(await Gh(h),V)))}})(nm(a),l,s,i)}function pm(e,t){return(function(r,s){const i=new ar;return r.asyncQueue.enqueueAndForget((async()=>KA(await iw(r),s,i))),i.promise})(nm(e),t)}function Sw(e,t,n){const r=n.docs.get(t._key),s=new dm(e);return new lr(e,s,t._key,r,new Ts(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(s){Wr=s})(Qv),Qi(new qs("firestore",((r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new Ys(new hT(r.getProvider("auth-internal")),new pT(a,r.getProvider("app-check-internal")),(function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new X(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zs(h.options.projectId,d)})(a,s),a);return i={useFetchStreams:n,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),xr(eh,nh,t),xr(eh,nh,"esm2020")})();const Cw={apiKey:"AIzaSyAnH6OrDHBa-ljtrEpfAmwDzSXZdVqLBzw",authDomain:"taro-test-dc290.firebaseapp.com",projectId:"taro-test-dc290",storageBucket:"taro-test-dc290.firebasestorage.app",messagingSenderId:"561002476888",appId:"1:561002476888:web:8a51ece156741e965a212d",measurementId:"G-7LQTPF9BNL"},Pw=Md(Cw),nf=lw(Pw),Vw={__name:"message",setup(e){const t=Ls(""),n=Ls([]);jf(()=>{const s=vw(Qh(nf,"messages"),Tw("createdAt","desc"));bw(s,i=>{const a=[];i.forEach(l=>{a.push({id:l.id,...l.data()})}),n.value=a})});const r=async()=>{if(t.value.trim()!=="")try{await Rw(Qh(nf,"messages"),{text:t.value,createdAt:new Date}),t.value=""}catch(s){console.error("",s)}};return(s,i)=>(fn(),or("div",null,[i[1]||(i[1]=Me("h2",null,"Firebase 222222",-1)),Sg(Me("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>t.value=a),placeholder:"",onKeyup:ty(r,["enter"])},null,544),[[J_,t.value]]),Me("button",{onClick:r},""),Me("ul",null,[(fn(!0),or(Re,null,$f(n.value,a=>(fn(),or("li",{key:a.id},Mi(a.text),1))),128))])]))}},Dw={__name:"HomeView",setup(e){return(t,n)=>(fn(),ad(Vw))}},Nw=uE({history:Hy("/firebaseTest/"),routes:[{path:"/",name:"home",component:Dw},{path:"/about",name:"about",component:()=>AE(()=>import("./AboutView-CAdJsVdD.js"),__vite__mapDeps([0,1]))}]}),mm=ry(vE);mm.use(Nw);mm.mount("#app");export{Re as F,fE as _,Tw as a,bw as b,Qh as c,or as d,fn as e,Me as f,xw as g,Ow as h,cd as i,$f as j,Rw as k,nf as l,kw as m,aw as n,jf as o,ad as p,vw as q,Ls as r,Mi as t,J_ as v,Sg as w};
