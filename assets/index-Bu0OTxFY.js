const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ListView-CqVzT_5m.js","assets/ListView-DnVfXOOB.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function vl(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Vt={},Lr=[],Ze=()=>{},Vf=()=>!1,To=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Tl=e=>e.startsWith("onUpdate:"),Zt=Object.assign,Al=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},dg=Object.prototype.hasOwnProperty,Rt=(e,t)=>dg.call(e,t),st=Array.isArray,Fr=e=>ci(e)==="[object Map]",Ao=e=>ci(e)==="[object Set]",du=e=>ci(e)==="[object Date]",ct=e=>typeof e=="function",jt=e=>typeof e=="string",on=e=>typeof e=="symbol",Ct=e=>e!==null&&typeof e=="object",Df=e=>(Ct(e)||ct(e))&&ct(e.then)&&ct(e.catch),Nf=Object.prototype.toString,ci=e=>Nf.call(e),pg=e=>ci(e).slice(8,-1),xf=e=>ci(e)==="[object Object]",Il=e=>jt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ds=vl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Io=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},mg=/-\w/g,Me=Io(e=>e.replace(mg,t=>t.slice(1).toUpperCase())),gg=/\B([A-Z])/g,Xn=Io(e=>e.replace(gg,"-$1").toLowerCase()),wo=Io(e=>e.charAt(0).toUpperCase()+e.slice(1)),ua=Io(e=>e?`on${wo(e)}`:""),Fn=(e,t)=>!Object.is(e,t),ki=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Of=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Ro=e=>{const t=parseFloat(e);return isNaN(t)?e:t},_g=e=>{const t=jt(e)?Number(e):NaN;return isNaN(t)?e:t};let pu;const bo=()=>pu||(pu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function wl(e){if(st(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=jt(r)?Tg(r):wl(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(jt(e)||Ct(e))return e}const yg=/;(?![^(]*\))/g,Eg=/:([^]+)/,vg=/\/\*[^]*?\*\//g;function Tg(e){const t={};return e.replace(vg,"").split(yg).forEach(n=>{if(n){const r=n.split(Eg);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Rl(e){let t="";if(jt(e))t=e;else if(st(e))for(let n=0;n<e.length;n++){const r=Rl(e[n]);r&&(t+=r+" ")}else if(Ct(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Ag="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ig=vl(Ag);function Mf(e){return!!e||e===""}function wg(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=So(e[r],t[r]);return n}function So(e,t){if(e===t)return!0;let n=du(e),r=du(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=on(e),r=on(t),n||r)return e===t;if(n=st(e),r=st(t),n||r)return n&&r?wg(e,t):!1;if(n=Ct(e),r=Ct(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const a in e){const l=e.hasOwnProperty(a),c=t.hasOwnProperty(a);if(l&&!c||!l&&c||!So(e[a],t[a]))return!1}}return String(e)===String(t)}function Rg(e,t){return e.findIndex(n=>So(n,t))}const kf=e=>!!(e&&e.__v_isRef===!0),Ns=e=>jt(e)?e:e==null?"":st(e)||Ct(e)&&(e.toString===Nf||!ct(e.toString))?kf(e)?Ns(e.value):JSON.stringify(e,Lf,2):String(e),Lf=(e,t)=>kf(t)?Lf(e,t.value):Fr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[ha(r,i)+" =>"]=s,n),{})}:Ao(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>ha(n))}:on(t)?ha(t):Ct(t)&&!st(t)&&!xf(t)?String(t):t,ha=(e,t="")=>{var n;return on(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let ve;class bg{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ve,!t&&ve&&(this.index=(ve.scopes||(ve.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ve;try{return ve=this,t()}finally{ve=n}}}on(){++this._on===1&&(this.prevScope=ve,ve=this)}off(){this._on>0&&--this._on===0&&(ve=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Sg(){return ve}let Dt;const fa=new WeakSet;class Ff{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ve&&ve.active&&ve.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,fa.has(this)&&(fa.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Bf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,mu(this),jf(this);const t=Dt,n=je;Dt=this,je=!0;try{return this.fn()}finally{qf(this),Dt=t,je=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Cl(t);this.deps=this.depsTail=void 0,mu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?fa.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ma(this)&&this.run()}get dirty(){return Ma(this)}}let Uf=0,xs,Os;function Bf(e,t=!1){if(e.flags|=8,t){e.next=Os,Os=e;return}e.next=xs,xs=e}function bl(){Uf++}function Sl(){if(--Uf>0)return;if(Os){let t=Os;for(Os=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;xs;){let t=xs;for(xs=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function jf(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function qf(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Cl(r),Cg(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function Ma(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&($f(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function $f(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Gs)||(e.globalVersion=Gs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ma(e))))return;e.flags|=2;const t=e.dep,n=Dt,r=je;Dt=e,je=!0;try{jf(e);const s=e.fn(e._value);(t.version===0||Fn(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Dt=n,je=r,qf(e),e.flags&=-3}}function Cl(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Cl(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Cg(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let je=!0;const Hf=[];function _n(){Hf.push(je),je=!1}function yn(){const e=Hf.pop();je=e===void 0?!0:e}function mu(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Dt;Dt=void 0;try{t()}finally{Dt=n}}}let Gs=0;class Pg{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Pl{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Dt||!je||Dt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Dt)n=this.activeLink=new Pg(Dt,this),Dt.deps?(n.prevDep=Dt.depsTail,Dt.depsTail.nextDep=n,Dt.depsTail=n):Dt.deps=Dt.depsTail=n,Gf(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Dt.depsTail,n.nextDep=void 0,Dt.depsTail.nextDep=n,Dt.depsTail=n,Dt.deps===n&&(Dt.deps=r)}return n}trigger(t){this.version++,Gs++,this.notify(t)}notify(t){bl();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Sl()}}}function Gf(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Gf(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const ka=new WeakMap,dr=Symbol(""),La=Symbol(""),zs=Symbol("");function ue(e,t,n){if(je&&Dt){let r=ka.get(e);r||ka.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new Pl),s.map=r,s.key=n),s.track()}}function pn(e,t,n,r,s,i){const a=ka.get(e);if(!a){Gs++;return}const l=c=>{c&&c.trigger()};if(bl(),t==="clear")a.forEach(l);else{const c=st(e),h=c&&Il(n);if(c&&n==="length"){const f=Number(r);a.forEach((p,g)=>{(g==="length"||g===zs||!on(g)&&g>=f)&&l(p)})}else switch((n!==void 0||a.has(void 0))&&l(a.get(n)),h&&l(a.get(zs)),t){case"add":c?h&&l(a.get("length")):(l(a.get(dr)),Fr(e)&&l(a.get(La)));break;case"delete":c||(l(a.get(dr)),Fr(e)&&l(a.get(La)));break;case"set":Fr(e)&&l(a.get(dr));break}}Sl()}function Vr(e){const t=At(e);return t===e?t:(ue(t,"iterate",zs),Oe(e)?t:t.map(qe))}function Co(e){return ue(e=At(e),"iterate",zs),e}function Nn(e,t){return En(e)?pr(e)?Kr(qe(t)):Kr(t):qe(t)}const Vg={__proto__:null,[Symbol.iterator](){return da(this,Symbol.iterator,e=>Nn(this,e))},concat(...e){return Vr(this).concat(...e.map(t=>st(t)?Vr(t):t))},entries(){return da(this,"entries",e=>(e[1]=Nn(this,e[1]),e))},every(e,t){return cn(this,"every",e,t,void 0,arguments)},filter(e,t){return cn(this,"filter",e,t,n=>n.map(r=>Nn(this,r)),arguments)},find(e,t){return cn(this,"find",e,t,n=>Nn(this,n),arguments)},findIndex(e,t){return cn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return cn(this,"findLast",e,t,n=>Nn(this,n),arguments)},findLastIndex(e,t){return cn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return cn(this,"forEach",e,t,void 0,arguments)},includes(...e){return pa(this,"includes",e)},indexOf(...e){return pa(this,"indexOf",e)},join(e){return Vr(this).join(e)},lastIndexOf(...e){return pa(this,"lastIndexOf",e)},map(e,t){return cn(this,"map",e,t,void 0,arguments)},pop(){return Is(this,"pop")},push(...e){return Is(this,"push",e)},reduce(e,...t){return gu(this,"reduce",e,t)},reduceRight(e,...t){return gu(this,"reduceRight",e,t)},shift(){return Is(this,"shift")},some(e,t){return cn(this,"some",e,t,void 0,arguments)},splice(...e){return Is(this,"splice",e)},toReversed(){return Vr(this).toReversed()},toSorted(e){return Vr(this).toSorted(e)},toSpliced(...e){return Vr(this).toSpliced(...e)},unshift(...e){return Is(this,"unshift",e)},values(){return da(this,"values",e=>Nn(this,e))}};function da(e,t,n){const r=Co(e),s=r[t]();return r!==e&&!Oe(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const Dg=Array.prototype;function cn(e,t,n,r,s,i){const a=Co(e),l=a!==e&&!Oe(e),c=a[t];if(c!==Dg[t]){const p=c.apply(e,i);return l?qe(p):p}let h=n;a!==e&&(l?h=function(p,g){return n.call(this,Nn(e,p),g,e)}:n.length>2&&(h=function(p,g){return n.call(this,p,g,e)}));const f=c.call(a,h,r);return l&&s?s(f):f}function gu(e,t,n,r){const s=Co(e);let i=n;return s!==e&&(Oe(e)?n.length>3&&(i=function(a,l,c){return n.call(this,a,l,c,e)}):i=function(a,l,c){return n.call(this,a,Nn(e,l),c,e)}),s[t](i,...r)}function pa(e,t,n){const r=At(e);ue(r,"iterate",zs);const s=r[t](...n);return(s===-1||s===!1)&&Nl(n[0])?(n[0]=At(n[0]),r[t](...n)):s}function Is(e,t,n=[]){_n(),bl();const r=At(e)[t].apply(e,n);return Sl(),yn(),r}const Ng=vl("__proto__,__v_isRef,__isVue"),zf=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(on));function xg(e){on(e)||(e=String(e));const t=At(this);return ue(t,"has",e),t.hasOwnProperty(e)}class Kf{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?$g:Yf:i?Xf:Qf).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=st(t);if(!s){let c;if(a&&(c=Vg[n]))return c;if(n==="hasOwnProperty")return xg}const l=Reflect.get(t,n,de(t)?t:r);if((on(n)?zf.has(n):Ng(n))||(s||ue(t,"get",n),i))return l;if(de(l)){const c=a&&Il(n)?l:l.value;return s&&Ct(c)?Ua(c):c}return Ct(l)?s?Ua(l):Po(l):l}}class Wf extends Kf{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];const a=st(t)&&Il(n);if(!this._isShallow){const h=En(i);if(!Oe(r)&&!En(r)&&(i=At(i),r=At(r)),!a&&de(i)&&!de(r))return h||(i.value=r),!0}const l=a?Number(n)<t.length:Rt(t,n),c=Reflect.set(t,n,r,de(t)?t:s);return t===At(s)&&(l?Fn(r,i)&&pn(t,"set",n,r):pn(t,"add",n,r)),c}deleteProperty(t,n){const r=Rt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&pn(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!on(n)||!zf.has(n))&&ue(t,"has",n),r}ownKeys(t){return ue(t,"iterate",st(t)?"length":dr),Reflect.ownKeys(t)}}class Og extends Kf{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Mg=new Wf,kg=new Og,Lg=new Wf(!0);const Fa=e=>e,Si=e=>Reflect.getPrototypeOf(e);function Fg(e,t,n){return function(...r){const s=this.__v_raw,i=At(s),a=Fr(i),l=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,h=s[e](...r),f=n?Fa:t?Kr:qe;return!t&&ue(i,"iterate",c?La:dr),{next(){const{value:p,done:g}=h.next();return g?{value:p,done:g}:{value:l?[f(p[0]),f(p[1])]:f(p),done:g}},[Symbol.iterator](){return this}}}}function Ci(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ug(e,t){const n={get(s){const i=this.__v_raw,a=At(i),l=At(s);e||(Fn(s,l)&&ue(a,"get",s),ue(a,"get",l));const{has:c}=Si(a),h=t?Fa:e?Kr:qe;if(c.call(a,s))return h(i.get(s));if(c.call(a,l))return h(i.get(l));i!==a&&i.get(s)},get size(){const s=this.__v_raw;return!e&&ue(At(s),"iterate",dr),s.size},has(s){const i=this.__v_raw,a=At(i),l=At(s);return e||(Fn(s,l)&&ue(a,"has",s),ue(a,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const a=this,l=a.__v_raw,c=At(l),h=t?Fa:e?Kr:qe;return!e&&ue(c,"iterate",dr),l.forEach((f,p)=>s.call(i,h(f),h(p),a))}};return Zt(n,e?{add:Ci("add"),set:Ci("set"),delete:Ci("delete"),clear:Ci("clear")}:{add(s){!t&&!Oe(s)&&!En(s)&&(s=At(s));const i=At(this);return Si(i).has.call(i,s)||(i.add(s),pn(i,"add",s,s)),this},set(s,i){!t&&!Oe(i)&&!En(i)&&(i=At(i));const a=At(this),{has:l,get:c}=Si(a);let h=l.call(a,s);h||(s=At(s),h=l.call(a,s));const f=c.call(a,s);return a.set(s,i),h?Fn(i,f)&&pn(a,"set",s,i):pn(a,"add",s,i),this},delete(s){const i=At(this),{has:a,get:l}=Si(i);let c=a.call(i,s);c||(s=At(s),c=a.call(i,s)),l&&l.call(i,s);const h=i.delete(s);return c&&pn(i,"delete",s,void 0),h},clear(){const s=At(this),i=s.size!==0,a=s.clear();return i&&pn(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Fg(s,e,t)}),n}function Vl(e,t){const n=Ug(e,t);return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Rt(n,s)&&s in r?n:r,s,i)}const Bg={get:Vl(!1,!1)},jg={get:Vl(!1,!0)},qg={get:Vl(!0,!1)};const Qf=new WeakMap,Xf=new WeakMap,Yf=new WeakMap,$g=new WeakMap;function Hg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gg(e){return e.__v_skip||!Object.isExtensible(e)?0:Hg(pg(e))}function Po(e){return En(e)?e:Dl(e,!1,Mg,Bg,Qf)}function Jf(e){return Dl(e,!1,Lg,jg,Xf)}function Ua(e){return Dl(e,!0,kg,qg,Yf)}function Dl(e,t,n,r,s){if(!Ct(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=Gg(e);if(i===0)return e;const a=s.get(e);if(a)return a;const l=new Proxy(e,i===2?r:n);return s.set(e,l),l}function pr(e){return En(e)?pr(e.__v_raw):!!(e&&e.__v_isReactive)}function En(e){return!!(e&&e.__v_isReadonly)}function Oe(e){return!!(e&&e.__v_isShallow)}function Nl(e){return e?!!e.__v_raw:!1}function At(e){const t=e&&e.__v_raw;return t?At(t):e}function zg(e){return!Rt(e,"__v_skip")&&Object.isExtensible(e)&&Of(e,"__v_skip",!0),e}const qe=e=>Ct(e)?Po(e):e,Kr=e=>Ct(e)?Ua(e):e;function de(e){return e?e.__v_isRef===!0:!1}function Ur(e){return Zf(e,!1)}function Kg(e){return Zf(e,!0)}function Zf(e,t){return de(e)?e:new Wg(e,t)}class Wg{constructor(t,n){this.dep=new Pl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:At(t),this._value=n?t:qe(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Oe(t)||En(t);t=r?t:At(t),Fn(t,n)&&(this._rawValue=t,this._value=r?t:qe(t),this.dep.trigger())}}function mr(e){return de(e)?e.value:e}const Qg={get:(e,t,n)=>t==="__v_raw"?e:mr(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return de(s)&&!de(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function td(e){return pr(e)?e:new Proxy(e,Qg)}class Xg{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Pl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Gs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Dt!==this)return Bf(this,!0),!0}get value(){const t=this.dep.track();return $f(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Yg(e,t,n=!1){let r,s;return ct(e)?r=e:(r=e.get,s=e.set),new Xg(r,s,n)}const Pi={},Wi=new WeakMap;let or;function Jg(e,t=!1,n=or){if(n){let r=Wi.get(n);r||Wi.set(n,r=[]),r.push(e)}}function Zg(e,t,n=Vt){const{immediate:r,deep:s,once:i,scheduler:a,augmentJob:l,call:c}=n,h=z=>s?z:Oe(z)||s===!1||s===0?mn(z,1):mn(z);let f,p,g,T,V=!1,D=!1;if(de(e)?(p=()=>e.value,V=Oe(e)):pr(e)?(p=()=>h(e),V=!0):st(e)?(D=!0,V=e.some(z=>pr(z)||Oe(z)),p=()=>e.map(z=>{if(de(z))return z.value;if(pr(z))return h(z);if(ct(z))return c?c(z,2):z()})):ct(e)?t?p=c?()=>c(e,2):e:p=()=>{if(g){_n();try{g()}finally{yn()}}const z=or;or=f;try{return c?c(e,3,[T]):e(T)}finally{or=z}}:p=Ze,t&&s){const z=p,it=s===!0?1/0:s;p=()=>mn(z(),it)}const M=Sg(),$=()=>{f.stop(),M&&M.active&&Al(M.effects,f)};if(i&&t){const z=t;t=(...it)=>{z(...it),$()}}let j=D?new Array(e.length).fill(Pi):Pi;const H=z=>{if(!(!(f.flags&1)||!f.dirty&&!z))if(t){const it=f.run();if(s||V||(D?it.some((at,R)=>Fn(at,j[R])):Fn(it,j))){g&&g();const at=or;or=f;try{const R=[it,j===Pi?void 0:D&&j[0]===Pi?[]:j,T];j=it,c?c(t,3,R):t(...R)}finally{or=at}}}else f.run()};return l&&l(H),f=new Ff(p),f.scheduler=a?()=>a(H,!1):H,T=z=>Jg(z,!1,f),g=f.onStop=()=>{const z=Wi.get(f);if(z){if(c)c(z,4);else for(const it of z)it();Wi.delete(f)}},t?r?H(!0):j=f.run():a?a(H.bind(null,!0),!0):f.run(),$.pause=f.pause.bind(f),$.resume=f.resume.bind(f),$.stop=$,$}function mn(e,t=1/0,n){if(t<=0||!Ct(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,de(e))mn(e.value,t,n);else if(st(e))for(let r=0;r<e.length;r++)mn(e[r],t,n);else if(Ao(e)||Fr(e))e.forEach(r=>{mn(r,t,n)});else if(xf(e)){for(const r in e)mn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&mn(e[r],t,n)}return e}function ui(e,t,n,r){try{return r?e(...r):e()}catch(s){Vo(s,t,n)}}function $e(e,t,n,r){if(ct(e)){const s=ui(e,t,n,r);return s&&Df(s)&&s.catch(i=>{Vo(i,t,n)}),s}if(st(e)){const s=[];for(let i=0;i<e.length;i++)s.push($e(e[i],t,n,r));return s}}function Vo(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Vt;if(t){let l=t.parent;const c=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const f=l.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](e,c,h)===!1)return}l=l.parent}if(i){_n(),ui(i,null,10,[e,c,h]),yn();return}}t_(e,n,s,r,a)}function t_(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const _e=[];let Xe=-1;const Br=[];let xn=null,Dr=0;const ed=Promise.resolve();let Qi=null;function xl(e){const t=Qi||ed;return e?t.then(this?e.bind(this):e):t}function e_(e){let t=Xe+1,n=_e.length;for(;t<n;){const r=t+n>>>1,s=_e[r],i=Ks(s);i<e||i===e&&s.flags&2?t=r+1:n=r}return t}function Ol(e){if(!(e.flags&1)){const t=Ks(e),n=_e[_e.length-1];!n||!(e.flags&2)&&t>=Ks(n)?_e.push(e):_e.splice(e_(t),0,e),e.flags|=1,nd()}}function nd(){Qi||(Qi=ed.then(sd))}function n_(e){st(e)?Br.push(...e):xn&&e.id===-1?xn.splice(Dr+1,0,e):e.flags&1||(Br.push(e),e.flags|=1),nd()}function _u(e,t,n=Xe+1){for(;n<_e.length;n++){const r=_e[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;_e.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function rd(e){if(Br.length){const t=[...new Set(Br)].sort((n,r)=>Ks(n)-Ks(r));if(Br.length=0,xn){xn.push(...t);return}for(xn=t,Dr=0;Dr<xn.length;Dr++){const n=xn[Dr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}xn=null,Dr=0}}const Ks=e=>e.id==null?e.flags&2?-1:1/0:e.id;function sd(e){try{for(Xe=0;Xe<_e.length;Xe++){const t=_e[Xe];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ui(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Xe<_e.length;Xe++){const t=_e[Xe];t&&(t.flags&=-2)}Xe=-1,_e.length=0,rd(),Qi=null,(_e.length||Br.length)&&sd()}}let Ce=null,id=null;function Xi(e){const t=Ce;return Ce=e,id=e&&e.type.__scopeId||null,t}function ar(e,t=Ce,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Zi(-1);const i=Xi(t);let a;try{a=e(...s)}finally{Xi(i),r._d&&Zi(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function r_(e,t){if(Ce===null)return e;const n=Mo(Ce),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,a,l,c=Vt]=t[s];i&&(ct(i)&&(i={mounted:i,updated:i}),i.deep&&mn(a),r.push({dir:i,instance:n,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function nr(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let a=0;a<s.length;a++){const l=s[a];i&&(l.oldValue=i[a].value);let c=l.dir[r];c&&(_n(),$e(c,n,8,[e.el,l,e,t]),yn())}}function Li(e,t){if(fe){let n=fe.provides;const r=fe.parent&&fe.parent.provides;r===n&&(n=fe.provides=Object.create(r)),n[e]=t}}function gn(e,t,n=!1){const r=Ld();if(r||jr){let s=jr?jr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&ct(t)?t.call(r&&r.proxy):t}}const s_=Symbol.for("v-scx"),i_=()=>gn(s_);function Fi(e,t,n){return od(e,t,n)}function od(e,t,n=Vt){const{immediate:r,deep:s,flush:i,once:a}=n,l=Zt({},n),c=t&&r||!t&&i!=="post";let h;if(Xs){if(i==="sync"){const T=i_();h=T.__watcherHandles||(T.__watcherHandles=[])}else if(!c){const T=()=>{};return T.stop=Ze,T.resume=Ze,T.pause=Ze,T}}const f=fe;l.call=(T,V,D)=>$e(T,f,V,D);let p=!1;i==="post"?l.scheduler=T=>{Se(T,f&&f.suspense)}:i!=="sync"&&(p=!0,l.scheduler=(T,V)=>{V?T():Ol(T)}),l.augmentJob=T=>{t&&(T.flags|=4),p&&(T.flags|=2,f&&(T.id=f.uid,T.i=f))};const g=Zg(e,t,l);return Xs&&(h?h.push(g):c&&g()),g}function o_(e,t,n){const r=this.proxy,s=jt(e)?e.includes(".")?ad(r,e):()=>r[e]:e.bind(r,r);let i;ct(t)?i=t:(i=t.handler,n=t);const a=hi(this),l=od(s,i.bind(r),n);return a(),l}function ad(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const a_=Symbol("_vte"),ld=e=>e.__isTeleport,dn=Symbol("_leaveCb"),Vi=Symbol("_enterCb");function l_(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ml(()=>{e.isMounted=!0}),_d(()=>{e.isUnmounting=!0}),e}const Ve=[Function,Array],cd={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ve,onEnter:Ve,onAfterEnter:Ve,onEnterCancelled:Ve,onBeforeLeave:Ve,onLeave:Ve,onAfterLeave:Ve,onLeaveCancelled:Ve,onBeforeAppear:Ve,onAppear:Ve,onAfterAppear:Ve,onAppearCancelled:Ve},ud=e=>{const t=e.subTree;return t.component?ud(t.component):t},c_={name:"BaseTransition",props:cd,setup(e,{slots:t}){const n=Ld(),r=l_();return()=>{const s=t.default&&dd(t.default(),!0);if(!s||!s.length)return;const i=hd(s),a=At(e),{mode:l}=a;if(r.isLeaving)return ma(i);const c=yu(i);if(!c)return ma(i);let h=Ba(c,a,r,n,p=>h=p);c.type!==ye&&Ws(c,h);let f=n.subTree&&yu(n.subTree);if(f&&f.type!==ye&&!cr(f,c)&&ud(n).type!==ye){let p=Ba(f,a,r,n);if(Ws(f,p),l==="out-in"&&c.type!==ye)return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete p.afterLeave,f=void 0},ma(i);l==="in-out"&&c.type!==ye?p.delayLeave=(g,T,V)=>{const D=fd(r,f);D[String(f.key)]=f,g[dn]=()=>{T(),g[dn]=void 0,delete h.delayedLeave,f=void 0},h.delayedLeave=()=>{V(),delete h.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return i}}};function hd(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==ye){t=n;break}}return t}const u_=c_;function fd(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Ba(e,t,n,r,s){const{appear:i,mode:a,persisted:l=!1,onBeforeEnter:c,onEnter:h,onAfterEnter:f,onEnterCancelled:p,onBeforeLeave:g,onLeave:T,onAfterLeave:V,onLeaveCancelled:D,onBeforeAppear:M,onAppear:$,onAfterAppear:j,onAppearCancelled:H}=t,z=String(e.key),it=fd(n,e),at=(_,b)=>{_&&$e(_,r,9,b)},R=(_,b)=>{const w=b[1];at(_,b),st(_)?_.every(I=>I.length<=1)&&w():_.length<=1&&w()},v={mode:a,persisted:l,beforeEnter(_){let b=c;if(!n.isMounted)if(i)b=M||c;else return;_[dn]&&_[dn](!0);const w=it[z];w&&cr(e,w)&&w.el[dn]&&w.el[dn](),at(b,[_])},enter(_){let b=h,w=f,I=p;if(!n.isMounted)if(i)b=$||h,w=j||f,I=H||p;else return;let y=!1;const Et=_[Vi]=Ut=>{y||(y=!0,Ut?at(I,[_]):at(w,[_]),v.delayedLeave&&v.delayedLeave(),_[Vi]=void 0)};b?R(b,[_,Et]):Et()},leave(_,b){const w=String(e.key);if(_[Vi]&&_[Vi](!0),n.isUnmounting)return b();at(g,[_]);let I=!1;const y=_[dn]=Et=>{I||(I=!0,b(),Et?at(D,[_]):at(V,[_]),_[dn]=void 0,it[w]===e&&delete it[w])};it[w]=e,T?R(T,[_,y]):y()},clone(_){const b=Ba(_,t,n,r,s);return s&&s(b),b}};return v}function ma(e){if(Do(e))return e=$n(e),e.children=null,e}function yu(e){if(!Do(e))return ld(e.type)&&e.children?hd(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&ct(n.default))return n.default()}}function Ws(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ws(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function dd(e,t=!1,n){let r=[],s=0;for(let i=0;i<e.length;i++){let a=e[i];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:i);a.type===Ae?(a.patchFlag&128&&s++,r=r.concat(dd(a.children,t,l))):(t||a.type!==ye)&&r.push(l!=null?$n(a,{key:l}):a)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function pd(e,t){return ct(e)?Zt({name:e.name},t,{setup:e}):e}function md(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Yi=new WeakMap;function Ms(e,t,n,r,s=!1){if(st(e)){e.forEach((V,D)=>Ms(V,t&&(st(t)?t[D]:t),n,r,s));return}if(ks(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ms(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?Mo(r.component):r.el,a=s?null:i,{i:l,r:c}=e,h=t&&t.r,f=l.refs===Vt?l.refs={}:l.refs,p=l.setupState,g=At(p),T=p===Vt?Vf:V=>Rt(g,V);if(h!=null&&h!==c){if(Eu(t),jt(h))f[h]=null,T(h)&&(p[h]=null);else if(de(h)){h.value=null;const V=t;V.k&&(f[V.k]=null)}}if(ct(c))ui(c,l,12,[a,f]);else{const V=jt(c),D=de(c);if(V||D){const M=()=>{if(e.f){const $=V?T(c)?p[c]:f[c]:c.value;if(s)st($)&&Al($,i);else if(st($))$.includes(i)||$.push(i);else if(V)f[c]=[i],T(c)&&(p[c]=f[c]);else{const j=[i];c.value=j,e.k&&(f[e.k]=j)}}else V?(f[c]=a,T(c)&&(p[c]=a)):D&&(c.value=a,e.k&&(f[e.k]=a))};if(a){const $=()=>{M(),Yi.delete(e)};$.id=-1,Yi.set(e,$),Se($,n)}else Eu(e),M()}}}function Eu(e){const t=Yi.get(e);t&&(t.flags|=8,Yi.delete(e))}bo().requestIdleCallback;bo().cancelIdleCallback;const ks=e=>!!e.type.__asyncLoader,Do=e=>e.type.__isKeepAlive;function h_(e,t){gd(e,"a",t)}function f_(e,t){gd(e,"da",t)}function gd(e,t,n=fe){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(No(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Do(s.parent.vnode)&&d_(r,t,n,s),s=s.parent}}function d_(e,t,n,r){const s=No(t,e,r,!0);yd(()=>{Al(r[t],s)},n)}function No(e,t,n=fe,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...a)=>{_n();const l=hi(n),c=$e(t,n,e,a);return l(),yn(),c});return r?s.unshift(i):s.push(i),i}}const In=e=>(t,n=fe)=>{(!Xs||e==="sp")&&No(e,(...r)=>t(...r),n)},p_=In("bm"),Ml=In("m"),m_=In("bu"),g_=In("u"),_d=In("bum"),yd=In("um"),__=In("sp"),y_=In("rtg"),E_=In("rtc");function v_(e,t=fe){No("ec",e,t)}const T_="components";function A_(e,t){return w_(T_,e,!0,t)||e}const I_=Symbol.for("v-ndc");function w_(e,t,n=!0,r=!1){const s=Ce||fe;if(s){const i=s.type;{const l=cy(i,!1);if(l&&(l===t||l===Me(t)||l===wo(Me(t))))return i}const a=vu(s[e]||i[e],t)||vu(s.appContext[e],t);return!a&&r?i:a}}function vu(e,t){return e&&(e[t]||e[Me(t)]||e[wo(Me(t))])}function ja(e,t,n,r){let s;const i=n,a=st(e);if(a||jt(e)){const l=a&&pr(e);let c=!1,h=!1;l&&(c=!Oe(e),h=En(e),e=Co(e)),s=new Array(e.length);for(let f=0,p=e.length;f<p;f++)s[f]=t(c?h?Kr(qe(e[f])):qe(e[f]):e[f],f,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let l=0;l<e;l++)s[l]=t(l+1,l,void 0,i)}else if(Ct(e))if(e[Symbol.iterator])s=Array.from(e,(l,c)=>t(l,c,void 0,i));else{const l=Object.keys(e);s=new Array(l.length);for(let c=0,h=l.length;c<h;c++){const f=l[c];s[c]=t(e[f],f,c,i)}}else s=[];return s}const qa=e=>e?Fd(e)?Mo(e):qa(e.parent):null,Ls=Zt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>qa(e.parent),$root:e=>qa(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>vd(e),$forceUpdate:e=>e.f||(e.f=()=>{Ol(e.update)}),$nextTick:e=>e.n||(e.n=xl.bind(e.proxy)),$watch:e=>o_.bind(e)}),ga=(e,t)=>e!==Vt&&!e.__isScriptSetup&&Rt(e,t),R_={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:a,type:l,appContext:c}=e;if(t[0]!=="$"){const g=a[t];if(g!==void 0)switch(g){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(ga(r,t))return a[t]=1,r[t];if(s!==Vt&&Rt(s,t))return a[t]=2,s[t];if(Rt(i,t))return a[t]=3,i[t];if(n!==Vt&&Rt(n,t))return a[t]=4,n[t];$a&&(a[t]=0)}}const h=Ls[t];let f,p;if(h)return t==="$attrs"&&ue(e.attrs,"get",""),h(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(n!==Vt&&Rt(n,t))return a[t]=4,n[t];if(p=c.config.globalProperties,Rt(p,t))return p[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return ga(s,t)?(s[t]=n,!0):r!==Vt&&Rt(r,t)?(r[t]=n,!0):Rt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,props:i,type:a}},l){let c;return!!(n[l]||e!==Vt&&l[0]!=="$"&&Rt(e,l)||ga(t,l)||Rt(i,l)||Rt(r,l)||Rt(Ls,l)||Rt(s.config.globalProperties,l)||(c=a.__cssModules)&&c[l])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Rt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Tu(e){return st(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let $a=!0;function b_(e){const t=vd(e),n=e.proxy,r=e.ctx;$a=!1,t.beforeCreate&&Au(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:a,watch:l,provide:c,inject:h,created:f,beforeMount:p,mounted:g,beforeUpdate:T,updated:V,activated:D,deactivated:M,beforeDestroy:$,beforeUnmount:j,destroyed:H,unmounted:z,render:it,renderTracked:at,renderTriggered:R,errorCaptured:v,serverPrefetch:_,expose:b,inheritAttrs:w,components:I,directives:y,filters:Et}=t;if(h&&S_(h,r,null),a)for(const It in a){const gt=a[It];ct(gt)&&(r[It]=gt.bind(n))}if(s){const It=s.call(n,n);Ct(It)&&(e.data=Po(It))}if($a=!0,i)for(const It in i){const gt=i[It],Ee=ct(gt)?gt.bind(n,n):ct(gt.get)?gt.get.bind(n,n):Ze,ze=!ct(gt)&&ct(gt.set)?gt.set.bind(n):Ze,Ie=Ue({get:Ee,set:ze});Object.defineProperty(r,It,{enumerable:!0,configurable:!0,get:()=>Ie.value,set:te=>Ie.value=te})}if(l)for(const It in l)Ed(l[It],r,n,It);if(c){const It=ct(c)?c.call(n):c;Reflect.ownKeys(It).forEach(gt=>{Li(gt,It[gt])})}f&&Au(f,e,"c");function Mt(It,gt){st(gt)?gt.forEach(Ee=>It(Ee.bind(n))):gt&&It(gt.bind(n))}if(Mt(p_,p),Mt(Ml,g),Mt(m_,T),Mt(g_,V),Mt(h_,D),Mt(f_,M),Mt(v_,v),Mt(E_,at),Mt(y_,R),Mt(_d,j),Mt(yd,z),Mt(__,_),st(b))if(b.length){const It=e.exposed||(e.exposed={});b.forEach(gt=>{Object.defineProperty(It,gt,{get:()=>n[gt],set:Ee=>n[gt]=Ee,enumerable:!0})})}else e.exposed||(e.exposed={});it&&e.render===Ze&&(e.render=it),w!=null&&(e.inheritAttrs=w),I&&(e.components=I),y&&(e.directives=y),_&&md(e)}function S_(e,t,n=Ze){st(e)&&(e=Ha(e));for(const r in e){const s=e[r];let i;Ct(s)?"default"in s?i=gn(s.from||r,s.default,!0):i=gn(s.from||r):i=gn(s),de(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[r]=i}}function Au(e,t,n){$e(st(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ed(e,t,n,r){let s=r.includes(".")?ad(n,r):()=>n[r];if(jt(e)){const i=t[e];ct(i)&&Fi(s,i)}else if(ct(e))Fi(s,e.bind(n));else if(Ct(e))if(st(e))e.forEach(i=>Ed(i,t,n,r));else{const i=ct(e.handler)?e.handler.bind(n):t[e.handler];ct(i)&&Fi(s,i,e)}}function vd(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,l=i.get(t);let c;return l?c=l:!s.length&&!n&&!r?c=t:(c={},s.length&&s.forEach(h=>Ji(c,h,a,!0)),Ji(c,t,a)),Ct(t)&&i.set(t,c),c}function Ji(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Ji(e,i,n,!0),s&&s.forEach(a=>Ji(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const l=C_[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const C_={data:Iu,props:wu,emits:wu,methods:bs,computed:bs,beforeCreate:me,created:me,beforeMount:me,mounted:me,beforeUpdate:me,updated:me,beforeDestroy:me,beforeUnmount:me,destroyed:me,unmounted:me,activated:me,deactivated:me,errorCaptured:me,serverPrefetch:me,components:bs,directives:bs,watch:V_,provide:Iu,inject:P_};function Iu(e,t){return t?e?function(){return Zt(ct(e)?e.call(this,this):e,ct(t)?t.call(this,this):t)}:t:e}function P_(e,t){return bs(Ha(e),Ha(t))}function Ha(e){if(st(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function me(e,t){return e?[...new Set([].concat(e,t))]:t}function bs(e,t){return e?Zt(Object.create(null),e,t):t}function wu(e,t){return e?st(e)&&st(t)?[...new Set([...e,...t])]:Zt(Object.create(null),Tu(e),Tu(t??{})):t}function V_(e,t){if(!e)return t;if(!t)return e;const n=Zt(Object.create(null),e);for(const r in t)n[r]=me(e[r],t[r]);return n}function Td(){return{app:null,config:{isNativeTag:Vf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let D_=0;function N_(e,t){return function(r,s=null){ct(r)||(r=Zt({},r)),s!=null&&!Ct(s)&&(s=null);const i=Td(),a=new WeakSet,l=[];let c=!1;const h=i.app={_uid:D_++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:hy,get config(){return i.config},set config(f){},use(f,...p){return a.has(f)||(f&&ct(f.install)?(a.add(f),f.install(h,...p)):ct(f)&&(a.add(f),f(h,...p))),h},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),h},component(f,p){return p?(i.components[f]=p,h):i.components[f]},directive(f,p){return p?(i.directives[f]=p,h):i.directives[f]},mount(f,p,g){if(!c){const T=h._ceVNode||Kt(r,s);return T.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),e(T,f,g),c=!0,h._container=f,f.__vue_app__=h,Mo(T.component)}},onUnmount(f){l.push(f)},unmount(){c&&($e(l,h._instance,16),e(null,h._container),delete h._container.__vue_app__)},provide(f,p){return i.provides[f]=p,h},runWithContext(f){const p=jr;jr=h;try{return f()}finally{jr=p}}};return h}}let jr=null;const x_=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Me(t)}Modifiers`]||e[`${Xn(t)}Modifiers`];function O_(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Vt;let s=n;const i=t.startsWith("update:"),a=i&&x_(r,t.slice(7));a&&(a.trim&&(s=n.map(f=>jt(f)?f.trim():f)),a.number&&(s=n.map(Ro)));let l,c=r[l=ua(t)]||r[l=ua(Me(t))];!c&&i&&(c=r[l=ua(Xn(t))]),c&&$e(c,e,6,s);const h=r[l+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,$e(h,e,6,s)}}const M_=new WeakMap;function Ad(e,t,n=!1){const r=n?M_:t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let a={},l=!1;if(!ct(e)){const c=h=>{const f=Ad(h,t,!0);f&&(l=!0,Zt(a,f))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!l?(Ct(e)&&r.set(e,null),null):(st(i)?i.forEach(c=>a[c]=null):Zt(a,i),Ct(e)&&r.set(e,a),a)}function xo(e,t){return!e||!To(t)?!1:(t=t.slice(2).replace(/Once$/,""),Rt(e,t[0].toLowerCase()+t.slice(1))||Rt(e,Xn(t))||Rt(e,t))}function Ru(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:a,attrs:l,emit:c,render:h,renderCache:f,props:p,data:g,setupState:T,ctx:V,inheritAttrs:D}=e,M=Xi(e);let $,j;try{if(n.shapeFlag&4){const z=s||r,it=z;$=Je(h.call(it,z,f,p,T,g,V)),j=l}else{const z=t;$=Je(z.length>1?z(p,{attrs:l,slots:a,emit:c}):z(p,null)),j=t.props?l:k_(l)}}catch(z){Fs.length=0,Vo(z,e,1),$=Kt(ye)}let H=$;if(j&&D!==!1){const z=Object.keys(j),{shapeFlag:it}=H;z.length&&it&7&&(i&&z.some(Tl)&&(j=L_(j,i)),H=$n(H,j,!1,!0))}return n.dirs&&(H=$n(H,null,!1,!0),H.dirs=H.dirs?H.dirs.concat(n.dirs):n.dirs),n.transition&&Ws(H,n.transition),$=H,Xi(M),$}const k_=e=>{let t;for(const n in e)(n==="class"||n==="style"||To(n))&&((t||(t={}))[n]=e[n]);return t},L_=(e,t)=>{const n={};for(const r in e)(!Tl(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function F_(e,t,n){const{props:r,children:s,component:i}=e,{props:a,children:l,patchFlag:c}=t,h=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?bu(r,a,h):!!a;if(c&8){const f=t.dynamicProps;for(let p=0;p<f.length;p++){const g=f[p];if(a[g]!==r[g]&&!xo(h,g))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?bu(r,a,h):!0:!!a;return!1}function bu(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!xo(n,i))return!0}return!1}function U_({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Id={},wd=()=>Object.create(Id),Rd=e=>Object.getPrototypeOf(e)===Id;function B_(e,t,n,r=!1){const s={},i=wd();e.propsDefaults=Object.create(null),bd(e,t,s,i);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);n?e.props=r?s:Jf(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function j_(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:a}}=e,l=At(s),[c]=e.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const f=e.vnode.dynamicProps;for(let p=0;p<f.length;p++){let g=f[p];if(xo(e.emitsOptions,g))continue;const T=t[g];if(c)if(Rt(i,g))T!==i[g]&&(i[g]=T,h=!0);else{const V=Me(g);s[V]=Ga(c,l,V,T,e,!1)}else T!==i[g]&&(i[g]=T,h=!0)}}}else{bd(e,t,s,i)&&(h=!0);let f;for(const p in l)(!t||!Rt(t,p)&&((f=Xn(p))===p||!Rt(t,f)))&&(c?n&&(n[p]!==void 0||n[f]!==void 0)&&(s[p]=Ga(c,l,p,void 0,e,!0)):delete s[p]);if(i!==l)for(const p in i)(!t||!Rt(t,p))&&(delete i[p],h=!0)}h&&pn(e.attrs,"set","")}function bd(e,t,n,r){const[s,i]=e.propsOptions;let a=!1,l;if(t)for(let c in t){if(Ds(c))continue;const h=t[c];let f;s&&Rt(s,f=Me(c))?!i||!i.includes(f)?n[f]=h:(l||(l={}))[f]=h:xo(e.emitsOptions,c)||(!(c in r)||h!==r[c])&&(r[c]=h,a=!0)}if(i){const c=At(n),h=l||Vt;for(let f=0;f<i.length;f++){const p=i[f];n[p]=Ga(s,c,p,h[p],e,!Rt(h,p))}}return a}function Ga(e,t,n,r,s,i){const a=e[n];if(a!=null){const l=Rt(a,"default");if(l&&r===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&ct(c)){const{propsDefaults:h}=s;if(n in h)r=h[n];else{const f=hi(s);r=h[n]=c.call(null,t),f()}}else r=c;s.ce&&s.ce._setProp(n,r)}a[0]&&(i&&!l?r=!1:a[1]&&(r===""||r===Xn(n))&&(r=!0))}return r}const q_=new WeakMap;function Sd(e,t,n=!1){const r=n?q_:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,a={},l=[];let c=!1;if(!ct(e)){const f=p=>{c=!0;const[g,T]=Sd(p,t,!0);Zt(a,g),T&&l.push(...T)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!i&&!c)return Ct(e)&&r.set(e,Lr),Lr;if(st(i))for(let f=0;f<i.length;f++){const p=Me(i[f]);Su(p)&&(a[p]=Vt)}else if(i)for(const f in i){const p=Me(f);if(Su(p)){const g=i[f],T=a[p]=st(g)||ct(g)?{type:g}:Zt({},g),V=T.type;let D=!1,M=!0;if(st(V))for(let $=0;$<V.length;++$){const j=V[$],H=ct(j)&&j.name;if(H==="Boolean"){D=!0;break}else H==="String"&&(M=!1)}else D=ct(V)&&V.name==="Boolean";T[0]=D,T[1]=M,(D||Rt(T,"default"))&&l.push(p)}}const h=[a,l];return Ct(e)&&r.set(e,h),h}function Su(e){return e[0]!=="$"&&!Ds(e)}const kl=e=>e==="_"||e==="_ctx"||e==="$stable",Ll=e=>st(e)?e.map(Je):[Je(e)],$_=(e,t,n)=>{if(t._n)return t;const r=ar((...s)=>Ll(t(...s)),n);return r._c=!1,r},Cd=(e,t,n)=>{const r=e._ctx;for(const s in e){if(kl(s))continue;const i=e[s];if(ct(i))t[s]=$_(s,i,r);else if(i!=null){const a=Ll(i);t[s]=()=>a}}},Pd=(e,t)=>{const n=Ll(t);e.slots.default=()=>n},Vd=(e,t,n)=>{for(const r in t)(n||!kl(r))&&(e[r]=t[r])},H_=(e,t,n)=>{const r=e.slots=wd();if(e.vnode.shapeFlag&32){const s=t._;s?(Vd(r,t,n),n&&Of(r,"_",s,!0)):Cd(t,r)}else t&&Pd(e,t)},G_=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,a=Vt;if(r.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:Vd(s,t,n):(i=!t.$stable,Cd(t,s)),a=t}else t&&(Pd(e,t),a={default:1});if(i)for(const l in s)!kl(l)&&a[l]==null&&delete s[l]},Se=X_;function z_(e){return K_(e)}function K_(e,t){const n=bo();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:a,createText:l,createComment:c,setText:h,setElementText:f,parentNode:p,nextSibling:g,setScopeId:T=Ze,insertStaticContent:V}=e,D=(E,A,S,N=null,F=null,x=null,K=void 0,q=null,B=!!A.dynamicChildren)=>{if(E===A)return;E&&!cr(E,A)&&(N=O(E),te(E,F,x,!0),E=null),A.patchFlag===-2&&(B=!1,A.dynamicChildren=null);const{type:U,ref:nt,shapeFlag:Q}=A;switch(U){case Oo:M(E,A,S,N);break;case ye:$(E,A,S,N);break;case ya:E==null&&j(A,S,N,K);break;case Ae:I(E,A,S,N,F,x,K,q,B);break;default:Q&1?it(E,A,S,N,F,x,K,q,B):Q&6?y(E,A,S,N,F,x,K,q,B):(Q&64||Q&128)&&U.process(E,A,S,N,F,x,K,q,B,Z)}nt!=null&&F?Ms(nt,E&&E.ref,x,A||E,!A):nt==null&&E&&E.ref!=null&&Ms(E.ref,null,x,E,!0)},M=(E,A,S,N)=>{if(E==null)r(A.el=l(A.children),S,N);else{const F=A.el=E.el;A.children!==E.children&&h(F,A.children)}},$=(E,A,S,N)=>{E==null?r(A.el=c(A.children||""),S,N):A.el=E.el},j=(E,A,S,N)=>{[E.el,E.anchor]=V(E.children,A,S,N,E.el,E.anchor)},H=({el:E,anchor:A},S,N)=>{let F;for(;E&&E!==A;)F=g(E),r(E,S,N),E=F;r(A,S,N)},z=({el:E,anchor:A})=>{let S;for(;E&&E!==A;)S=g(E),s(E),E=S;s(A)},it=(E,A,S,N,F,x,K,q,B)=>{if(A.type==="svg"?K="svg":A.type==="math"&&(K="mathml"),E==null)at(A,S,N,F,x,K,q,B);else{const U=E.el&&E.el._isVueCE?E.el:null;try{U&&U._beginPatch(),_(E,A,F,x,K,q,B)}finally{U&&U._endPatch()}}},at=(E,A,S,N,F,x,K,q)=>{let B,U;const{props:nt,shapeFlag:Q,transition:tt,dirs:rt}=E;if(B=E.el=a(E.type,x,nt&&nt.is,nt),Q&8?f(B,E.children):Q&16&&v(E.children,B,null,N,F,_a(E,x),K,q),rt&&nr(E,null,N,"created"),R(B,E,E.scopeId,K,N),nt){for(const St in nt)St!=="value"&&!Ds(St)&&i(B,St,null,nt[St],x,N);"value"in nt&&i(B,"value",null,nt.value,x),(U=nt.onVnodeBeforeMount)&&Qe(U,N,E)}rt&&nr(E,null,N,"beforeMount");const ft=W_(F,tt);ft&&tt.beforeEnter(B),r(B,A,S),((U=nt&&nt.onVnodeMounted)||ft||rt)&&Se(()=>{U&&Qe(U,N,E),ft&&tt.enter(B),rt&&nr(E,null,N,"mounted")},F)},R=(E,A,S,N,F)=>{if(S&&T(E,S),N)for(let x=0;x<N.length;x++)T(E,N[x]);if(F){let x=F.subTree;if(A===x||Od(x.type)&&(x.ssContent===A||x.ssFallback===A)){const K=F.vnode;R(E,K,K.scopeId,K.slotScopeIds,F.parent)}}},v=(E,A,S,N,F,x,K,q,B=0)=>{for(let U=B;U<E.length;U++){const nt=E[U]=q?On(E[U]):Je(E[U]);D(null,nt,A,S,N,F,x,K,q)}},_=(E,A,S,N,F,x,K)=>{const q=A.el=E.el;let{patchFlag:B,dynamicChildren:U,dirs:nt}=A;B|=E.patchFlag&16;const Q=E.props||Vt,tt=A.props||Vt;let rt;if(S&&rr(S,!1),(rt=tt.onVnodeBeforeUpdate)&&Qe(rt,S,A,E),nt&&nr(A,E,S,"beforeUpdate"),S&&rr(S,!0),(Q.innerHTML&&tt.innerHTML==null||Q.textContent&&tt.textContent==null)&&f(q,""),U?b(E.dynamicChildren,U,q,S,N,_a(A,F),x):K||gt(E,A,q,null,S,N,_a(A,F),x,!1),B>0){if(B&16)w(q,Q,tt,S,F);else if(B&2&&Q.class!==tt.class&&i(q,"class",null,tt.class,F),B&4&&i(q,"style",Q.style,tt.style,F),B&8){const ft=A.dynamicProps;for(let St=0;St<ft.length;St++){const vt=ft[St],oe=Q[vt],ae=tt[vt];(ae!==oe||vt==="value")&&i(q,vt,oe,ae,F,S)}}B&1&&E.children!==A.children&&f(q,A.children)}else!K&&U==null&&w(q,Q,tt,S,F);((rt=tt.onVnodeUpdated)||nt)&&Se(()=>{rt&&Qe(rt,S,A,E),nt&&nr(A,E,S,"updated")},N)},b=(E,A,S,N,F,x,K)=>{for(let q=0;q<A.length;q++){const B=E[q],U=A[q],nt=B.el&&(B.type===Ae||!cr(B,U)||B.shapeFlag&198)?p(B.el):S;D(B,U,nt,null,N,F,x,K,!0)}},w=(E,A,S,N,F)=>{if(A!==S){if(A!==Vt)for(const x in A)!Ds(x)&&!(x in S)&&i(E,x,A[x],null,F,N);for(const x in S){if(Ds(x))continue;const K=S[x],q=A[x];K!==q&&x!=="value"&&i(E,x,q,K,F,N)}"value"in S&&i(E,"value",A.value,S.value,F)}},I=(E,A,S,N,F,x,K,q,B)=>{const U=A.el=E?E.el:l(""),nt=A.anchor=E?E.anchor:l("");let{patchFlag:Q,dynamicChildren:tt,slotScopeIds:rt}=A;rt&&(q=q?q.concat(rt):rt),E==null?(r(U,S,N),r(nt,S,N),v(A.children||[],S,nt,F,x,K,q,B)):Q>0&&Q&64&&tt&&E.dynamicChildren&&E.dynamicChildren.length===tt.length?(b(E.dynamicChildren,tt,S,F,x,K,q),(A.key!=null||F&&A===F.subTree)&&Dd(E,A,!0)):gt(E,A,S,nt,F,x,K,q,B)},y=(E,A,S,N,F,x,K,q,B)=>{A.slotScopeIds=q,E==null?A.shapeFlag&512?F.ctx.activate(A,S,N,K,B):Et(A,S,N,F,x,K,B):Ut(E,A,B)},Et=(E,A,S,N,F,x,K)=>{const q=E.component=sy(E,N,F);if(Do(E)&&(q.ctx.renderer=Z),iy(q,!1,K),q.asyncDep){if(F&&F.registerDep(q,Mt,K),!E.el){const B=q.subTree=Kt(ye);$(null,B,A,S),E.placeholder=B.el}}else Mt(q,E,A,S,F,x,K)},Ut=(E,A,S)=>{const N=A.component=E.component;if(F_(E,A,S))if(N.asyncDep&&!N.asyncResolved){It(N,A,S);return}else N.next=A,N.update();else A.el=E.el,N.vnode=A},Mt=(E,A,S,N,F,x,K)=>{const q=()=>{if(E.isMounted){let{next:Q,bu:tt,u:rt,parent:ft,vnode:St}=E;{const Re=Nd(E);if(Re){Q&&(Q.el=St.el,It(E,Q,K)),Re.asyncDep.then(()=>{E.isUnmounted||q()});return}}let vt=Q,oe;rr(E,!1),Q?(Q.el=St.el,It(E,Q,K)):Q=St,tt&&ki(tt),(oe=Q.props&&Q.props.onVnodeBeforeUpdate)&&Qe(oe,ft,Q,St),rr(E,!0);const ae=Ru(E),we=E.subTree;E.subTree=ae,D(we,ae,p(we.el),O(we),E,F,x),Q.el=ae.el,vt===null&&U_(E,ae.el),rt&&Se(rt,F),(oe=Q.props&&Q.props.onVnodeUpdated)&&Se(()=>Qe(oe,ft,Q,St),F)}else{let Q;const{el:tt,props:rt}=A,{bm:ft,m:St,parent:vt,root:oe,type:ae}=E,we=ks(A);rr(E,!1),ft&&ki(ft),!we&&(Q=rt&&rt.onVnodeBeforeMount)&&Qe(Q,vt,A),rr(E,!0);{oe.ce&&oe.ce._def.shadowRoot!==!1&&oe.ce._injectChildStyle(ae);const Re=E.subTree=Ru(E);D(null,Re,S,N,E,F,x),A.el=Re.el}if(St&&Se(St,F),!we&&(Q=rt&&rt.onVnodeMounted)){const Re=A;Se(()=>Qe(Q,vt,Re),F)}(A.shapeFlag&256||vt&&ks(vt.vnode)&&vt.vnode.shapeFlag&256)&&E.a&&Se(E.a,F),E.isMounted=!0,A=S=N=null}};E.scope.on();const B=E.effect=new Ff(q);E.scope.off();const U=E.update=B.run.bind(B),nt=E.job=B.runIfDirty.bind(B);nt.i=E,nt.id=E.uid,B.scheduler=()=>Ol(nt),rr(E,!0),U()},It=(E,A,S)=>{A.component=E;const N=E.vnode.props;E.vnode=A,E.next=null,j_(E,A.props,N,S),G_(E,A.children,S),_n(),_u(E),yn()},gt=(E,A,S,N,F,x,K,q,B=!1)=>{const U=E&&E.children,nt=E?E.shapeFlag:0,Q=A.children,{patchFlag:tt,shapeFlag:rt}=A;if(tt>0){if(tt&128){ze(U,Q,S,N,F,x,K,q,B);return}else if(tt&256){Ee(U,Q,S,N,F,x,K,q,B);return}}rt&8?(nt&16&&ie(U,F,x),Q!==U&&f(S,Q)):nt&16?rt&16?ze(U,Q,S,N,F,x,K,q,B):ie(U,F,x,!0):(nt&8&&f(S,""),rt&16&&v(Q,S,N,F,x,K,q,B))},Ee=(E,A,S,N,F,x,K,q,B)=>{E=E||Lr,A=A||Lr;const U=E.length,nt=A.length,Q=Math.min(U,nt);let tt;for(tt=0;tt<Q;tt++){const rt=A[tt]=B?On(A[tt]):Je(A[tt]);D(E[tt],rt,S,null,F,x,K,q,B)}U>nt?ie(E,F,x,!0,!1,Q):v(A,S,N,F,x,K,q,B,Q)},ze=(E,A,S,N,F,x,K,q,B)=>{let U=0;const nt=A.length;let Q=E.length-1,tt=nt-1;for(;U<=Q&&U<=tt;){const rt=E[U],ft=A[U]=B?On(A[U]):Je(A[U]);if(cr(rt,ft))D(rt,ft,S,null,F,x,K,q,B);else break;U++}for(;U<=Q&&U<=tt;){const rt=E[Q],ft=A[tt]=B?On(A[tt]):Je(A[tt]);if(cr(rt,ft))D(rt,ft,S,null,F,x,K,q,B);else break;Q--,tt--}if(U>Q){if(U<=tt){const rt=tt+1,ft=rt<nt?A[rt].el:N;for(;U<=tt;)D(null,A[U]=B?On(A[U]):Je(A[U]),S,ft,F,x,K,q,B),U++}}else if(U>tt)for(;U<=Q;)te(E[U],F,x,!0),U++;else{const rt=U,ft=U,St=new Map;for(U=ft;U<=tt;U++){const ee=A[U]=B?On(A[U]):Je(A[U]);ee.key!=null&&St.set(ee.key,U)}let vt,oe=0;const ae=tt-ft+1;let we=!1,Re=0;const Fe=new Array(ae);for(U=0;U<ae;U++)Fe[U]=0;for(U=rt;U<=Q;U++){const ee=E[U];if(oe>=ae){te(ee,F,x,!0);continue}let Xt;if(ee.key!=null)Xt=St.get(ee.key);else for(vt=ft;vt<=tt;vt++)if(Fe[vt-ft]===0&&cr(ee,A[vt])){Xt=vt;break}Xt===void 0?te(ee,F,x,!0):(Fe[Xt-ft]=U+1,Xt>=Re?Re=Xt:we=!0,D(ee,A[Xt],S,null,F,x,K,q,B),oe++)}const br=we?Q_(Fe):Lr;for(vt=br.length-1,U=ae-1;U>=0;U--){const ee=ft+U,Xt=A[ee],ls=A[ee+1],Yn=ee+1<nt?ls.el||xd(ls):N;Fe[U]===0?D(null,Xt,S,Yn,F,x,K,q,B):we&&(vt<0||U!==br[vt]?Ie(Xt,S,Yn,2):vt--)}}},Ie=(E,A,S,N,F=null)=>{const{el:x,type:K,transition:q,children:B,shapeFlag:U}=E;if(U&6){Ie(E.component.subTree,A,S,N);return}if(U&128){E.suspense.move(A,S,N);return}if(U&64){K.move(E,A,S,Z);return}if(K===Ae){r(x,A,S);for(let Q=0;Q<B.length;Q++)Ie(B[Q],A,S,N);r(E.anchor,A,S);return}if(K===ya){H(E,A,S);return}if(N!==2&&U&1&&q)if(N===0)q.beforeEnter(x),r(x,A,S),Se(()=>q.enter(x),F);else{const{leave:Q,delayLeave:tt,afterLeave:rt}=q,ft=()=>{E.ctx.isUnmounted?s(x):r(x,A,S)},St=()=>{x._isLeaving&&x[dn](!0),Q(x,()=>{ft(),rt&&rt()})};tt?tt(x,ft,St):St()}else r(x,A,S)},te=(E,A,S,N=!1,F=!1)=>{const{type:x,props:K,ref:q,children:B,dynamicChildren:U,shapeFlag:nt,patchFlag:Q,dirs:tt,cacheIndex:rt}=E;if(Q===-2&&(F=!1),q!=null&&(_n(),Ms(q,null,S,E,!0),yn()),rt!=null&&(A.renderCache[rt]=void 0),nt&256){A.ctx.deactivate(E);return}const ft=nt&1&&tt,St=!ks(E);let vt;if(St&&(vt=K&&K.onVnodeBeforeUnmount)&&Qe(vt,A,E),nt&6)Le(E.component,S,N);else{if(nt&128){E.suspense.unmount(S,N);return}ft&&nr(E,null,A,"beforeUnmount"),nt&64?E.type.remove(E,A,S,Z,N):U&&!U.hasOnce&&(x!==Ae||Q>0&&Q&64)?ie(U,A,S,!1,!0):(x===Ae&&Q&384||!F&&nt&16)&&ie(B,A,S),N&&ln(E)}(St&&(vt=K&&K.onVnodeUnmounted)||ft)&&Se(()=>{vt&&Qe(vt,A,E),ft&&nr(E,null,A,"unmounted")},S)},ln=E=>{const{type:A,el:S,anchor:N,transition:F}=E;if(A===Ae){ke(S,N);return}if(A===ya){z(E);return}const x=()=>{s(S),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(E.shapeFlag&1&&F&&!F.persisted){const{leave:K,delayLeave:q}=F,B=()=>K(S,x);q?q(E.el,x,B):B()}else x()},ke=(E,A)=>{let S;for(;E!==A;)S=g(E),s(E),E=S;s(A)},Le=(E,A,S)=>{const{bum:N,scope:F,job:x,subTree:K,um:q,m:B,a:U}=E;Cu(B),Cu(U),N&&ki(N),F.stop(),x&&(x.flags|=8,te(K,E,A,S)),q&&Se(q,A),Se(()=>{E.isUnmounted=!0},A)},ie=(E,A,S,N=!1,F=!1,x=0)=>{for(let K=x;K<E.length;K++)te(E[K],A,S,N,F)},O=E=>{if(E.shapeFlag&6)return O(E.component.subTree);if(E.shapeFlag&128)return E.suspense.next();const A=g(E.anchor||E.el),S=A&&A[a_];return S?g(S):A};let Y=!1;const W=(E,A,S)=>{let N;E==null?A._vnode&&(te(A._vnode,null,null,!0),N=A._vnode.component):D(A._vnode||null,E,A,null,null,null,S),A._vnode=E,Y||(Y=!0,_u(N),rd(),Y=!1)},Z={p:D,um:te,m:Ie,r:ln,mt:Et,mc:v,pc:gt,pbc:b,n:O,o:e};return{render:W,hydrate:void 0,createApp:N_(W)}}function _a({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function rr({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function W_(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Dd(e,t,n=!1){const r=e.children,s=t.children;if(st(r)&&st(s))for(let i=0;i<r.length;i++){const a=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=On(s[i]),l.el=a.el),!n&&l.patchFlag!==-2&&Dd(a,l)),l.type===Oo&&(l.patchFlag!==-1?l.el=a.el:l.__elIndex=i+(e.type===Ae?1:0)),l.type===ye&&!l.el&&(l.el=a.el)}}function Q_(e){const t=e.slice(),n=[0];let r,s,i,a,l;const c=e.length;for(r=0;r<c;r++){const h=e[r];if(h!==0){if(s=n[n.length-1],e[s]<h){t[r]=s,n.push(r);continue}for(i=0,a=n.length-1;i<a;)l=i+a>>1,e[n[l]]<h?i=l+1:a=l;h<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}function Nd(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Nd(t)}function Cu(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function xd(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?xd(t.subTree):null}const Od=e=>e.__isSuspense;function X_(e,t){t&&t.pendingBranch?st(e)?t.effects.push(...e):t.effects.push(e):n_(e)}const Ae=Symbol.for("v-fgt"),Oo=Symbol.for("v-txt"),ye=Symbol.for("v-cmt"),ya=Symbol.for("v-stc"),Fs=[];let Pe=null;function De(e=!1){Fs.push(Pe=e?null:[])}function Y_(){Fs.pop(),Pe=Fs[Fs.length-1]||null}let Qs=1;function Zi(e,t=!1){Qs+=e,e<0&&Pe&&t&&(Pe.hasOnce=!0)}function Md(e){return e.dynamicChildren=Qs>0?Pe||Lr:null,Y_(),Qs>0&&Pe&&Pe.push(e),e}function kn(e,t,n,r,s,i){return Md(Tt(e,t,n,r,s,i,!0))}function to(e,t,n,r,s){return Md(Kt(e,t,n,r,s,!0))}function eo(e){return e?e.__v_isVNode===!0:!1}function cr(e,t){return e.type===t.type&&e.key===t.key}const kd=({key:e})=>e??null,Ui=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?jt(e)||de(e)||ct(e)?{i:Ce,r:e,k:t,f:!!n}:e:null);function Tt(e,t=null,n=null,r=0,s=null,i=e===Ae?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&kd(t),ref:t&&Ui(t),scopeId:id,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ce};return l?(Fl(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=jt(n)?8:16),Qs>0&&!a&&Pe&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Pe.push(c),c}const Kt=J_;function J_(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===I_)&&(e=ye),eo(e)){const l=$n(e,t,!0);return n&&Fl(l,n),Qs>0&&!i&&Pe&&(l.shapeFlag&6?Pe[Pe.indexOf(e)]=l:Pe.push(l)),l.patchFlag=-2,l}if(uy(e)&&(e=e.__vccOpts),t){t=Z_(t);let{class:l,style:c}=t;l&&!jt(l)&&(t.class=Rl(l)),Ct(c)&&(Nl(c)&&!st(c)&&(c=Zt({},c)),t.style=wl(c))}const a=jt(e)?1:Od(e)?128:ld(e)?64:Ct(e)?4:ct(e)?2:0;return Tt(e,t,n,r,s,a,i,!0)}function Z_(e){return e?Nl(e)||Rd(e)?Zt({},e):e:null}function $n(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:a,children:l,transition:c}=e,h=t?ey(s||{},t):s,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&kd(h),ref:t&&t.ref?n&&i?st(i)?i.concat(Ui(t)):[i,Ui(t)]:Ui(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ae?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&$n(e.ssContent),ssFallback:e.ssFallback&&$n(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&Ws(f,c.clone(f)),f}function Bi(e=" ",t=0){return Kt(Oo,null,e,t)}function ty(e="",t=!1){return t?(De(),to(ye,null,e)):Kt(ye,null,e)}function Je(e){return e==null||typeof e=="boolean"?Kt(ye):st(e)?Kt(Ae,null,e.slice()):eo(e)?On(e):Kt(Oo,null,String(e))}function On(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:$n(e)}function Fl(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(st(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Fl(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!Rd(t)?t._ctx=Ce:s===3&&Ce&&(Ce.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ct(t)?(t={default:t,_ctx:Ce},n=32):(t=String(t),r&64?(n=16,t=[Bi(t)]):n=8);e.children=t,e.shapeFlag|=n}function ey(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Rl([t.class,r.class]));else if(s==="style")t.style=wl([t.style,r.style]);else if(To(s)){const i=t[s],a=r[s];a&&i!==a&&!(st(i)&&i.includes(a))&&(t[s]=i?[].concat(i,a):a)}else s!==""&&(t[s]=r[s])}return t}function Qe(e,t,n,r=null){$e(e,t,7,[n,r])}const ny=Td();let ry=0;function sy(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||ny,i={uid:ry++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new bg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Sd(r,s),emitsOptions:Ad(r,s),emit:null,emitted:null,propsDefaults:Vt,inheritAttrs:r.inheritAttrs,ctx:Vt,data:Vt,props:Vt,attrs:Vt,slots:Vt,refs:Vt,setupState:Vt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=O_.bind(null,i),e.ce&&e.ce(i),i}let fe=null;const Ld=()=>fe||Ce;let no,za;{const e=bo(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(a=>a(i)):s[0](i)}};no=t("__VUE_INSTANCE_SETTERS__",n=>fe=n),za=t("__VUE_SSR_SETTERS__",n=>Xs=n)}const hi=e=>{const t=fe;return no(e),e.scope.on(),()=>{e.scope.off(),no(t)}},Pu=()=>{fe&&fe.scope.off(),no(null)};function Fd(e){return e.vnode.shapeFlag&4}let Xs=!1;function iy(e,t=!1,n=!1){t&&za(t);const{props:r,children:s}=e.vnode,i=Fd(e);B_(e,r,i,t),H_(e,s,n||t);const a=i?oy(e,t):void 0;return t&&za(!1),a}function oy(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,R_);const{setup:r}=n;if(r){_n();const s=e.setupContext=r.length>1?ly(e):null,i=hi(e),a=ui(r,e,0,[e.props,s]),l=Df(a);if(yn(),i(),(l||e.sp)&&!ks(e)&&md(e),l){if(a.then(Pu,Pu),t)return a.then(c=>{Vu(e,c)}).catch(c=>{Vo(c,e,0)});e.asyncDep=a}else Vu(e,a)}else Ud(e)}function Vu(e,t,n){ct(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ct(t)&&(e.setupState=td(t)),Ud(e)}function Ud(e,t,n){const r=e.type;e.render||(e.render=r.render||Ze);{const s=hi(e);_n();try{b_(e)}finally{yn(),s()}}}const ay={get(e,t){return ue(e,"get",""),e[t]}};function ly(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,ay),slots:e.slots,emit:e.emit,expose:t}}function Mo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(td(zg(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ls)return Ls[n](e)},has(t,n){return n in t||n in Ls}})):e.proxy}function cy(e,t=!0){return ct(e)?e.displayName||e.name:e.name||t&&e.__name}function uy(e){return ct(e)&&"__vccOpts"in e}const Ue=(e,t)=>Yg(e,t,Xs);function Ul(e,t,n){try{Zi(-1);const r=arguments.length;return r===2?Ct(t)&&!st(t)?eo(t)?Kt(e,null,[t]):Kt(e,t):Kt(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&eo(n)&&(n=[n]),Kt(e,t,n))}finally{Zi(1)}}const hy="3.5.26";let Ka;const Du=typeof window<"u"&&window.trustedTypes;if(Du)try{Ka=Du.createPolicy("vue",{createHTML:e=>e})}catch{}const Bd=Ka?e=>Ka.createHTML(e):e=>e,fy="http://www.w3.org/2000/svg",dy="http://www.w3.org/1998/Math/MathML",fn=typeof document<"u"?document:null,Nu=fn&&fn.createElement("template"),py={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?fn.createElementNS(fy,e):t==="mathml"?fn.createElementNS(dy,e):n?fn.createElement(e,{is:n}):fn.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>fn.createTextNode(e),createComment:e=>fn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>fn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const a=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Nu.innerHTML=Bd(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const l=Nu.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Vn="transition",ws="animation",Ys=Symbol("_vtc"),jd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},my=Zt({},cd,jd),gy=e=>(e.displayName="Transition",e.props=my,e),_y=gy((e,{slots:t})=>Ul(u_,yy(e),t)),sr=(e,t=[])=>{st(e)?e.forEach(n=>n(...t)):e&&e(...t)},xu=e=>e?st(e)?e.some(t=>t.length>1):e.length>1:!1;function yy(e){const t={};for(const I in e)I in jd||(t[I]=e[I]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:h=a,appearToClass:f=l,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:T=`${n}-leave-to`}=e,V=Ey(s),D=V&&V[0],M=V&&V[1],{onBeforeEnter:$,onEnter:j,onEnterCancelled:H,onLeave:z,onLeaveCancelled:it,onBeforeAppear:at=$,onAppear:R=j,onAppearCancelled:v=H}=t,_=(I,y,Et,Ut)=>{I._enterCancelled=Ut,ir(I,y?f:l),ir(I,y?h:a),Et&&Et()},b=(I,y)=>{I._isLeaving=!1,ir(I,p),ir(I,T),ir(I,g),y&&y()},w=I=>(y,Et)=>{const Ut=I?R:j,Mt=()=>_(y,I,Et);sr(Ut,[y,Mt]),Ou(()=>{ir(y,I?c:i),un(y,I?f:l),xu(Ut)||Mu(y,r,D,Mt)})};return Zt(t,{onBeforeEnter(I){sr($,[I]),un(I,i),un(I,a)},onBeforeAppear(I){sr(at,[I]),un(I,c),un(I,h)},onEnter:w(!1),onAppear:w(!0),onLeave(I,y){I._isLeaving=!0;const Et=()=>b(I,y);un(I,p),I._enterCancelled?(un(I,g),Fu(I)):(Fu(I),un(I,g)),Ou(()=>{I._isLeaving&&(ir(I,p),un(I,T),xu(z)||Mu(I,r,M,Et))}),sr(z,[I,Et])},onEnterCancelled(I){_(I,!1,void 0,!0),sr(H,[I])},onAppearCancelled(I){_(I,!0,void 0,!0),sr(v,[I])},onLeaveCancelled(I){b(I),sr(it,[I])}})}function Ey(e){if(e==null)return null;if(Ct(e))return[Ea(e.enter),Ea(e.leave)];{const t=Ea(e);return[t,t]}}function Ea(e){return _g(e)}function un(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Ys]||(e[Ys]=new Set)).add(t)}function ir(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Ys];n&&(n.delete(t),n.size||(e[Ys]=void 0))}function Ou(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let vy=0;function Mu(e,t,n,r){const s=e._endId=++vy,i=()=>{s===e._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:a,timeout:l,propCount:c}=Ty(e,t);if(!a)return r();const h=a+"end";let f=0;const p=()=>{e.removeEventListener(h,g),i()},g=T=>{T.target===e&&++f>=c&&p()};setTimeout(()=>{f<c&&p()},l+1),e.addEventListener(h,g)}function Ty(e,t){const n=window.getComputedStyle(e),r=V=>(n[V]||"").split(", "),s=r(`${Vn}Delay`),i=r(`${Vn}Duration`),a=ku(s,i),l=r(`${ws}Delay`),c=r(`${ws}Duration`),h=ku(l,c);let f=null,p=0,g=0;t===Vn?a>0&&(f=Vn,p=a,g=i.length):t===ws?h>0&&(f=ws,p=h,g=c.length):(p=Math.max(a,h),f=p>0?a>h?Vn:ws:null,g=f?f===Vn?i.length:c.length:0);const T=f===Vn&&/\b(?:transform|all)(?:,|$)/.test(r(`${Vn}Property`).toString());return{type:f,timeout:p,propCount:g,hasTransform:T}}function ku(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>Lu(n)+Lu(e[r])))}function Lu(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Fu(e){return(e?e.ownerDocument:document).body.offsetHeight}function Ay(e,t,n){const r=e[Ys];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Uu=Symbol("_vod"),Iy=Symbol("_vsh"),wy=Symbol(""),Ry=/(?:^|;)\s*display\s*:/;function by(e,t,n){const r=e.style,s=jt(n);let i=!1;if(n&&!s){if(t)if(jt(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&ji(r,l,"")}else for(const a in t)n[a]==null&&ji(r,a,"");for(const a in n)a==="display"&&(i=!0),ji(r,a,n[a])}else if(s){if(t!==n){const a=r[wy];a&&(n+=";"+a),r.cssText=n,i=Ry.test(n)}}else t&&e.removeAttribute("style");Uu in e&&(e[Uu]=i?r.display:"",e[Iy]&&(r.display="none"))}const Bu=/\s*!important$/;function ji(e,t,n){if(st(n))n.forEach(r=>ji(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Sy(e,t);Bu.test(n)?e.setProperty(Xn(r),n.replace(Bu,""),"important"):e[r]=n}}const ju=["Webkit","Moz","ms"],va={};function Sy(e,t){const n=va[t];if(n)return n;let r=Me(t);if(r!=="filter"&&r in e)return va[t]=r;r=wo(r);for(let s=0;s<ju.length;s++){const i=ju[s]+r;if(i in e)return va[t]=i}return t}const qu="http://www.w3.org/1999/xlink";function $u(e,t,n,r,s,i=Ig(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(qu,t.slice(6,t.length)):e.setAttributeNS(qu,t,n):n==null||i&&!Mf(n)?e.removeAttribute(t):e.setAttribute(t,i?"":on(n)?String(n):n)}function Hu(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Bd(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Mf(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(s||t)}function ur(e,t,n,r){e.addEventListener(t,n,r)}function Cy(e,t,n,r){e.removeEventListener(t,n,r)}const Gu=Symbol("_vei");function Py(e,t,n,r,s=null){const i=e[Gu]||(e[Gu]={}),a=i[t];if(r&&a)a.value=r;else{const[l,c]=Vy(t);if(r){const h=i[t]=xy(r,s);ur(e,l,h,c)}else a&&(Cy(e,l,a,c),i[t]=void 0)}}const zu=/(?:Once|Passive|Capture)$/;function Vy(e){let t;if(zu.test(e)){t={};let r;for(;r=e.match(zu);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Xn(e.slice(2)),t]}let Ta=0;const Dy=Promise.resolve(),Ny=()=>Ta||(Dy.then(()=>Ta=0),Ta=Date.now());function xy(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;$e(Oy(r,n.value),t,5,[r])};return n.value=e,n.attached=Ny(),n}function Oy(e,t){if(st(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Ku=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,My=(e,t,n,r,s,i)=>{const a=s==="svg";t==="class"?Ay(e,r,a):t==="style"?by(e,n,r):To(t)?Tl(t)||Py(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ky(e,t,r,a))?(Hu(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&$u(e,t,r,a,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!jt(r))?Hu(e,Me(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),$u(e,t,r,a))};function ky(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ku(t)&&ct(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Ku(t)&&jt(n)?!1:t in e}const ro=e=>{const t=e.props["onUpdate:modelValue"]||!1;return st(t)?n=>ki(t,n):t};function Ly(e){e.target.composing=!0}function Wu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const qr=Symbol("_assign");function Qu(e,t,n){return t&&(e=e.trim()),n&&(e=Ro(e)),e}const Fy={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[qr]=ro(s);const i=r||s.props&&s.props.type==="number";ur(e,t?"change":"input",a=>{a.target.composing||e[qr](Qu(e.value,n,i))}),(n||i)&&ur(e,"change",()=>{e.value=Qu(e.value,n,i)}),t||(ur(e,"compositionstart",Ly),ur(e,"compositionend",Wu),ur(e,"change",Wu))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},a){if(e[qr]=ro(a),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?Ro(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===c)||(e.value=c))}},DR={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const s=Ao(t);ur(e,"change",()=>{const i=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?Ro(so(a)):so(a));e[qr](e.multiple?s?new Set(i):i:i[0]),e._assigning=!0,xl(()=>{e._assigning=!1})}),e[qr]=ro(r)},mounted(e,{value:t}){Xu(e,t)},beforeUpdate(e,t,n){e[qr]=ro(n)},updated(e,{value:t}){e._assigning||Xu(e,t)}};function Xu(e,t){const n=e.multiple,r=st(t);if(!(n&&!r&&!Ao(t))){for(let s=0,i=e.options.length;s<i;s++){const a=e.options[s],l=so(a);if(n)if(r){const c=typeof l;c==="string"||c==="number"?a.selected=t.some(h=>String(h)===String(l)):a.selected=Rg(t,l)>-1}else a.selected=t.has(l);else if(So(so(a),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function so(e){return"_value"in e?e._value:e.value}const Uy=["ctrl","shift","alt","meta"],By={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Uy.some(n=>e[`${n}Key`]&&!t.includes(n))},jy=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=((s,...i)=>{for(let a=0;a<t.length;a++){const l=By[t[a]];if(l&&l(s,t))return}return e(s,...i)}))},qy={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},$y=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=(s=>{if(!("key"in s))return;const i=Xn(s.key);if(t.some(a=>a===i||qy[a]===i))return e(s)}))},Hy=Zt({patchProp:My},py);let Yu;function Gy(){return Yu||(Yu=z_(Hy))}const zy=((...e)=>{const t=Gy().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Wy(r);if(!s)return;const i=t._component;!ct(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,Ky(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t});function Ky(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Wy(e){return jt(e)?document.querySelector(e):e}const Nr=typeof document<"u";function qd(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Qy(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&qd(e.default)}const wt=Object.assign;function Aa(e,t){const n={};for(const r in t){const s=t[r];n[r]=He(s)?s.map(e):e(s)}return n}const Us=()=>{},He=Array.isArray;function Ju(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}const $d=/#/g,Xy=/&/g,Yy=/\//g,Jy=/=/g,Zy=/\?/g,Hd=/\+/g,tE=/%5B/g,eE=/%5D/g,Gd=/%5E/g,nE=/%60/g,zd=/%7B/g,rE=/%7C/g,Kd=/%7D/g,sE=/%20/g;function Bl(e){return e==null?"":encodeURI(""+e).replace(rE,"|").replace(tE,"[").replace(eE,"]")}function iE(e){return Bl(e).replace(zd,"{").replace(Kd,"}").replace(Gd,"^")}function Wa(e){return Bl(e).replace(Hd,"%2B").replace(sE,"+").replace($d,"%23").replace(Xy,"%26").replace(nE,"`").replace(zd,"{").replace(Kd,"}").replace(Gd,"^")}function oE(e){return Wa(e).replace(Jy,"%3D")}function aE(e){return Bl(e).replace($d,"%23").replace(Zy,"%3F")}function lE(e){return aE(e).replace(Yy,"%2F")}function Js(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const cE=/\/$/,uE=e=>e.replace(cE,"");function Ia(e,t,n="/"){let r,s={},i="",a="";const l=t.indexOf("#");let c=t.indexOf("?");return c=l>=0&&c>l?-1:c,c>=0&&(r=t.slice(0,c),i=t.slice(c,l>0?l:t.length),s=e(i.slice(1))),l>=0&&(r=r||t.slice(0,l),a=t.slice(l,t.length)),r=pE(r??t,n),{fullPath:r+i+a,path:r,query:s,hash:Js(a)}}function hE(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Zu(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function fE(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Wr(t.matched[r],n.matched[s])&&Wd(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Wr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Wd(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!dE(e[n],t[n]))return!1;return!0}function dE(e,t){return He(e)?th(e,t):He(t)?th(t,e):e?.valueOf()===t?.valueOf()}function th(e,t){return He(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function pE(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,a,l;for(a=0;a<r.length;a++)if(l=r[a],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(a).join("/")}const Dn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Qa=(function(e){return e.pop="pop",e.push="push",e})({}),wa=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function mE(e){if(!e)if(Nr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),uE(e)}const gE=/^[^#]+#/;function _E(e,t){return e.replace(gE,"#")+t}function yE(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const ko=()=>({left:window.scrollX,top:window.scrollY});function EE(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=yE(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function eh(e,t){return(history.state?history.state.position-t:-1)+e}const Xa=new Map;function vE(e,t){Xa.set(e,t)}function TE(e){const t=Xa.get(e);return Xa.delete(e),t}function AE(e){return typeof e=="string"||e&&typeof e=="object"}function Qd(e){return typeof e=="string"||typeof e=="symbol"}let Ft=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const Xd=Symbol("");Ft.MATCHER_NOT_FOUND+"",Ft.NAVIGATION_GUARD_REDIRECT+"",Ft.NAVIGATION_ABORTED+"",Ft.NAVIGATION_CANCELLED+"",Ft.NAVIGATION_DUPLICATED+"";function Qr(e,t){return wt(new Error,{type:e,[Xd]:!0},t)}function hn(e,t){return e instanceof Error&&Xd in e&&(t==null||!!(e.type&t))}const IE=["params","query","hash"];function wE(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of IE)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function RE(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const s=n[r].replace(Hd," "),i=s.indexOf("="),a=Js(i<0?s:s.slice(0,i)),l=i<0?null:Js(s.slice(i+1));if(a in t){let c=t[a];He(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function nh(e){let t="";for(let n in e){const r=e[n];if(n=oE(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(He(r)?r.map(s=>s&&Wa(s)):[r&&Wa(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function bE(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=He(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const SE=Symbol(""),rh=Symbol(""),jl=Symbol(""),Yd=Symbol(""),Ya=Symbol("");function Rs(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Mn(e,t,n,r,s,i=a=>a()){const a=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((l,c)=>{const h=g=>{g===!1?c(Qr(Ft.NAVIGATION_ABORTED,{from:n,to:t})):g instanceof Error?c(g):AE(g)?c(Qr(Ft.NAVIGATION_GUARD_REDIRECT,{from:t,to:g})):(a&&r.enterCallbacks[s]===a&&typeof g=="function"&&a.push(g),l())},f=i(()=>e.call(r&&r.instances[s],t,n,h));let p=Promise.resolve(f);e.length<3&&(p=p.then(h)),p.catch(g=>c(g))})}function Ra(e,t,n,r,s=i=>i()){const i=[];for(const a of e)for(const l in a.components){let c=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(qd(c)){const h=(c.__vccOpts||c)[t];h&&i.push(Mn(h,n,r,a,l,s))}else{let h=c();i.push(()=>h.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const p=Qy(f)?f.default:f;a.mods[l]=f,a.components[l]=p;const g=(p.__vccOpts||p)[t];return g&&Mn(g,n,r,a,l,s)()}))}}return i}function CE(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const l=t.matched[a];l&&(e.matched.find(h=>Wr(h,l))?r.push(l):n.push(l));const c=e.matched[a];c&&(t.matched.find(h=>Wr(h,c))||s.push(c))}return[n,r,s]}let PE=()=>location.protocol+"//"+location.host;function Jd(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Zu(l,"")}return Zu(n,e)+r+s}function VE(e,t,n,r){let s=[],i=[],a=null;const l=({state:g})=>{const T=Jd(e,location),V=n.value,D=t.value;let M=0;if(g){if(n.value=T,t.value=g,a&&a===V){a=null;return}M=D?g.position-D.position:0}else r(T);s.forEach($=>{$(n.value,V,{delta:M,type:Qa.pop,direction:M?M>0?wa.forward:wa.back:wa.unknown})})};function c(){a=n.value}function h(g){s.push(g);const T=()=>{const V=s.indexOf(g);V>-1&&s.splice(V,1)};return i.push(T),T}function f(){if(document.visibilityState==="hidden"){const{history:g}=window;if(!g.state)return;g.replaceState(wt({},g.state,{scroll:ko()}),"")}}function p(){for(const g of i)g();i=[],window.removeEventListener("popstate",l),window.removeEventListener("pagehide",f),document.removeEventListener("visibilitychange",f)}return window.addEventListener("popstate",l),window.addEventListener("pagehide",f),document.addEventListener("visibilitychange",f),{pauseListeners:c,listen:h,destroy:p}}function sh(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?ko():null}}function DE(e){const{history:t,location:n}=window,r={value:Jd(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,h,f){const p=e.indexOf("#"),g=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+c:PE()+e+c;try{t[f?"replaceState":"pushState"](h,"",g),s.value=h}catch(T){console.error(T),n[f?"replace":"assign"](g)}}function a(c,h){i(c,wt({},t.state,sh(s.value.back,c,s.value.forward,!0),h,{position:s.value.position}),!0),r.value=c}function l(c,h){const f=wt({},s.value,t.state,{forward:c,scroll:ko()});i(f.current,f,!0),i(c,wt({},sh(r.value,c,null),{position:f.position+1},h),!1),r.value=c}return{location:r,state:s,push:l,replace:a}}function NE(e){e=mE(e);const t=DE(e),n=VE(e,t.state,t.location,t.replace);function r(i,a=!0){a||n.pauseListeners(),history.go(i)}const s=wt({location:"",base:e,go:r,createHref:_E.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function xE(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),NE(e)}let hr=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var zt=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(zt||{});const OE={type:hr.Static,value:""},ME=/[a-zA-Z0-9_]/;function kE(e){if(!e)return[[]];if(e==="/")return[[OE]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(T){throw new Error(`ERR (${n})/"${h}": ${T}`)}let n=zt.Static,r=n;const s=[];let i;function a(){i&&s.push(i),i=[]}let l=0,c,h="",f="";function p(){h&&(n===zt.Static?i.push({type:hr.Static,value:h}):n===zt.Param||n===zt.ParamRegExp||n===zt.ParamRegExpEnd?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),i.push({type:hr.Param,value:h,regexp:f,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),h="")}function g(){h+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==zt.ParamRegExp){r=n,n=zt.EscapeNext;continue}switch(n){case zt.Static:c==="/"?(h&&p(),a()):c===":"?(p(),n=zt.Param):g();break;case zt.EscapeNext:g(),n=r;break;case zt.Param:c==="("?n=zt.ParamRegExp:ME.test(c)?g():(p(),n=zt.Static,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case zt.ParamRegExp:c===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+c:n=zt.ParamRegExpEnd:f+=c;break;case zt.ParamRegExpEnd:p(),n=zt.Static,c!=="*"&&c!=="?"&&c!=="+"&&l--,f="";break;default:t("Unknown state");break}}return n===zt.ParamRegExp&&t(`Unfinished custom RegExp for param "${h}"`),p(),a(),s}const ih="[^/]+?",LE={sensitive:!1,strict:!1,start:!0,end:!0};var ge=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(ge||{});const FE=/[.+*?^${}()[\]/\\]/g;function UE(e,t){const n=wt({},LE,t),r=[];let s=n.start?"^":"";const i=[];for(const h of e){const f=h.length?[]:[ge.Root];n.strict&&!h.length&&(s+="/");for(let p=0;p<h.length;p++){const g=h[p];let T=ge.Segment+(n.sensitive?ge.BonusCaseSensitive:0);if(g.type===hr.Static)p||(s+="/"),s+=g.value.replace(FE,"\\$&"),T+=ge.Static;else if(g.type===hr.Param){const{value:V,repeatable:D,optional:M,regexp:$}=g;i.push({name:V,repeatable:D,optional:M});const j=$||ih;if(j!==ih){T+=ge.BonusCustomRegExp;try{`${j}`}catch(z){throw new Error(`Invalid custom RegExp for param "${V}" (${j}): `+z.message)}}let H=D?`((?:${j})(?:/(?:${j}))*)`:`(${j})`;p||(H=M&&h.length<2?`(?:/${H})`:"/"+H),M&&(H+="?"),s+=H,T+=ge.Dynamic,M&&(T+=ge.BonusOptional),D&&(T+=ge.BonusRepeatable),j===".*"&&(T+=ge.BonusWildcard)}f.push(T)}r.push(f)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=ge.BonusStrict}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function l(h){const f=h.match(a),p={};if(!f)return null;for(let g=1;g<f.length;g++){const T=f[g]||"",V=i[g-1];p[V.name]=T&&V.repeatable?T.split("/"):T}return p}function c(h){let f="",p=!1;for(const g of e){(!p||!f.endsWith("/"))&&(f+="/"),p=!1;for(const T of g)if(T.type===hr.Static)f+=T.value;else if(T.type===hr.Param){const{value:V,repeatable:D,optional:M}=T,$=V in h?h[V]:"";if(He($)&&!D)throw new Error(`Provided param "${V}" is an array but it is not repeatable (* or + modifiers)`);const j=He($)?$.join("/"):$;if(!j)if(M)g.length<2&&(f.endsWith("/")?f=f.slice(0,-1):p=!0);else throw new Error(`Missing required param "${V}"`);f+=j}}return f||"/"}return{re:a,score:r,keys:i,parse:l,stringify:c}}function BE(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===ge.Static+ge.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===ge.Static+ge.Segment?1:-1:0}function Zd(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=BE(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(oh(r))return 1;if(oh(s))return-1}return s.length-r.length}function oh(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const jE={strict:!1,end:!0,sensitive:!1};function qE(e,t,n){const r=UE(kE(e.path),n),s=wt(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function $E(e,t){const n=[],r=new Map;t=Ju(jE,t);function s(p){return r.get(p)}function i(p,g,T){const V=!T,D=lh(p);D.aliasOf=T&&T.record;const M=Ju(t,p),$=[D];if("alias"in p){const z=typeof p.alias=="string"?[p.alias]:p.alias;for(const it of z)$.push(lh(wt({},D,{components:T?T.record.components:D.components,path:it,aliasOf:T?T.record:D})))}let j,H;for(const z of $){const{path:it}=z;if(g&&it[0]!=="/"){const at=g.record.path,R=at[at.length-1]==="/"?"":"/";z.path=g.record.path+(it&&R+it)}if(j=qE(z,g,M),T?T.alias.push(j):(H=H||j,H!==j&&H.alias.push(j),V&&p.name&&!ch(j)&&a(p.name)),tp(j)&&c(j),D.children){const at=D.children;for(let R=0;R<at.length;R++)i(at[R],j,T&&T.children[R])}T=T||j}return H?()=>{a(H)}:Us}function a(p){if(Qd(p)){const g=r.get(p);g&&(r.delete(p),n.splice(n.indexOf(g),1),g.children.forEach(a),g.alias.forEach(a))}else{const g=n.indexOf(p);g>-1&&(n.splice(g,1),p.record.name&&r.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function c(p){const g=zE(p,n);n.splice(g,0,p),p.record.name&&!ch(p)&&r.set(p.record.name,p)}function h(p,g){let T,V={},D,M;if("name"in p&&p.name){if(T=r.get(p.name),!T)throw Qr(Ft.MATCHER_NOT_FOUND,{location:p});M=T.record.name,V=wt(ah(g.params,T.keys.filter(H=>!H.optional).concat(T.parent?T.parent.keys.filter(H=>H.optional):[]).map(H=>H.name)),p.params&&ah(p.params,T.keys.map(H=>H.name))),D=T.stringify(V)}else if(p.path!=null)D=p.path,T=n.find(H=>H.re.test(D)),T&&(V=T.parse(D),M=T.record.name);else{if(T=g.name?r.get(g.name):n.find(H=>H.re.test(g.path)),!T)throw Qr(Ft.MATCHER_NOT_FOUND,{location:p,currentLocation:g});M=T.record.name,V=wt({},g.params,p.params),D=T.stringify(V)}const $=[];let j=T;for(;j;)$.unshift(j.record),j=j.parent;return{name:M,path:D,params:V,matched:$,meta:GE($)}}e.forEach(p=>i(p));function f(){n.length=0,r.clear()}return{addRoute:i,resolve:h,removeRoute:a,clearRoutes:f,getRoutes:l,getRecordMatcher:s}}function ah(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function lh(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:HE(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function HE(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function ch(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function GE(e){return e.reduce((t,n)=>wt(t,n.meta),{})}function zE(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;Zd(e,t[i])<0?r=i:n=i+1}const s=KE(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function KE(e){let t=e;for(;t=t.parent;)if(tp(t)&&Zd(e,t)===0)return t}function tp({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function uh(e){const t=gn(jl),n=gn(Yd),r=Ue(()=>{const c=mr(e.to);return t.resolve(c)}),s=Ue(()=>{const{matched:c}=r.value,{length:h}=c,f=c[h-1],p=n.matched;if(!f||!p.length)return-1;const g=p.findIndex(Wr.bind(null,f));if(g>-1)return g;const T=hh(c[h-2]);return h>1&&hh(f)===T&&p[p.length-1].path!==T?p.findIndex(Wr.bind(null,c[h-2])):g}),i=Ue(()=>s.value>-1&&JE(n.params,r.value.params)),a=Ue(()=>s.value>-1&&s.value===n.matched.length-1&&Wd(n.params,r.value.params));function l(c={}){if(YE(c)){const h=t[mr(e.replace)?"replace":"push"](mr(e.to)).catch(Us);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:r,href:Ue(()=>r.value.href),isActive:i,isExactActive:a,navigate:l}}function WE(e){return e.length===1?e[0]:e}const QE=pd({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:uh,setup(e,{slots:t}){const n=Po(uh(e)),{options:r}=gn(jl),s=Ue(()=>({[fh(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[fh(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&WE(t.default(n));return e.custom?i:Ul("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),XE=QE;function YE(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function JE(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!He(s)||s.length!==r.length||r.some((i,a)=>i.valueOf()!==s[a].valueOf()))return!1}return!0}function hh(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const fh=(e,t,n)=>e??t??n,ZE=pd({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=gn(Ya),s=Ue(()=>e.route||r.value),i=gn(rh,0),a=Ue(()=>{let h=mr(i);const{matched:f}=s.value;let p;for(;(p=f[h])&&!p.components;)h++;return h}),l=Ue(()=>s.value.matched[a.value]);Li(rh,Ue(()=>a.value+1)),Li(SE,l),Li(Ya,s);const c=Ur();return Fi(()=>[c.value,l.value,e.name],([h,f,p],[g,T,V])=>{f&&(f.instances[p]=h,T&&T!==f&&h&&h===g&&(f.leaveGuards.size||(f.leaveGuards=T.leaveGuards),f.updateGuards.size||(f.updateGuards=T.updateGuards))),h&&f&&(!T||!Wr(f,T)||!g)&&(f.enterCallbacks[p]||[]).forEach(D=>D(h))},{flush:"post"}),()=>{const h=s.value,f=e.name,p=l.value,g=p&&p.components[f];if(!g)return dh(n.default,{Component:g,route:h});const T=p.props[f],V=T?T===!0?h.params:typeof T=="function"?T(h):T:null,M=Ul(g,wt({},V,t,{onVnodeUnmounted:$=>{$.component.isUnmounted&&(p.instances[f]=null)},ref:c}));return dh(n.default,{Component:M,route:h})||M}}});function dh(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const ep=ZE;function tv(e){const t=$E(e.routes,e),n=e.parseQuery||RE,r=e.stringifyQuery||nh,s=e.history,i=Rs(),a=Rs(),l=Rs(),c=Kg(Dn);let h=Dn;Nr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Aa.bind(null,O=>""+O),p=Aa.bind(null,lE),g=Aa.bind(null,Js);function T(O,Y){let W,Z;return Qd(O)?(W=t.getRecordMatcher(O),Z=Y):Z=O,t.addRoute(Z,W)}function V(O){const Y=t.getRecordMatcher(O);Y&&t.removeRoute(Y)}function D(){return t.getRoutes().map(O=>O.record)}function M(O){return!!t.getRecordMatcher(O)}function $(O,Y){if(Y=wt({},Y||c.value),typeof O=="string"){const S=Ia(n,O,Y.path),N=t.resolve({path:S.path},Y),F=s.createHref(S.fullPath);return wt(S,N,{params:g(N.params),hash:Js(S.hash),redirectedFrom:void 0,href:F})}let W;if(O.path!=null)W=wt({},O,{path:Ia(n,O.path,Y.path).path});else{const S=wt({},O.params);for(const N in S)S[N]==null&&delete S[N];W=wt({},O,{params:p(S)}),Y.params=p(Y.params)}const Z=t.resolve(W,Y),dt=O.hash||"";Z.params=f(g(Z.params));const E=hE(r,wt({},O,{hash:iE(dt),path:Z.path})),A=s.createHref(E);return wt({fullPath:E,hash:dt,query:r===nh?bE(O.query):O.query||{}},Z,{redirectedFrom:void 0,href:A})}function j(O){return typeof O=="string"?Ia(n,O,c.value.path):wt({},O)}function H(O,Y){if(h!==O)return Qr(Ft.NAVIGATION_CANCELLED,{from:Y,to:O})}function z(O){return R(O)}function it(O){return z(wt(j(O),{replace:!0}))}function at(O,Y){const W=O.matched[O.matched.length-1];if(W&&W.redirect){const{redirect:Z}=W;let dt=typeof Z=="function"?Z(O,Y):Z;return typeof dt=="string"&&(dt=dt.includes("?")||dt.includes("#")?dt=j(dt):{path:dt},dt.params={}),wt({query:O.query,hash:O.hash,params:dt.path!=null?{}:O.params},dt)}}function R(O,Y){const W=h=$(O),Z=c.value,dt=O.state,E=O.force,A=O.replace===!0,S=at(W,Z);if(S)return R(wt(j(S),{state:typeof S=="object"?wt({},dt,S.state):dt,force:E,replace:A}),Y||W);const N=W;N.redirectedFrom=Y;let F;return!E&&fE(r,Z,W)&&(F=Qr(Ft.NAVIGATION_DUPLICATED,{to:N,from:Z}),Ie(Z,Z,!0,!1)),(F?Promise.resolve(F):b(N,Z)).catch(x=>hn(x)?hn(x,Ft.NAVIGATION_GUARD_REDIRECT)?x:ze(x):gt(x,N,Z)).then(x=>{if(x){if(hn(x,Ft.NAVIGATION_GUARD_REDIRECT))return R(wt({replace:A},j(x.to),{state:typeof x.to=="object"?wt({},dt,x.to.state):dt,force:E}),Y||N)}else x=I(N,Z,!0,A,dt);return w(N,Z,x),x})}function v(O,Y){const W=H(O,Y);return W?Promise.reject(W):Promise.resolve()}function _(O){const Y=ke.values().next().value;return Y&&typeof Y.runWithContext=="function"?Y.runWithContext(O):O()}function b(O,Y){let W;const[Z,dt,E]=CE(O,Y);W=Ra(Z.reverse(),"beforeRouteLeave",O,Y);for(const S of Z)S.leaveGuards.forEach(N=>{W.push(Mn(N,O,Y))});const A=v.bind(null,O,Y);return W.push(A),ie(W).then(()=>{W=[];for(const S of i.list())W.push(Mn(S,O,Y));return W.push(A),ie(W)}).then(()=>{W=Ra(dt,"beforeRouteUpdate",O,Y);for(const S of dt)S.updateGuards.forEach(N=>{W.push(Mn(N,O,Y))});return W.push(A),ie(W)}).then(()=>{W=[];for(const S of E)if(S.beforeEnter)if(He(S.beforeEnter))for(const N of S.beforeEnter)W.push(Mn(N,O,Y));else W.push(Mn(S.beforeEnter,O,Y));return W.push(A),ie(W)}).then(()=>(O.matched.forEach(S=>S.enterCallbacks={}),W=Ra(E,"beforeRouteEnter",O,Y,_),W.push(A),ie(W))).then(()=>{W=[];for(const S of a.list())W.push(Mn(S,O,Y));return W.push(A),ie(W)}).catch(S=>hn(S,Ft.NAVIGATION_CANCELLED)?S:Promise.reject(S))}function w(O,Y,W){l.list().forEach(Z=>_(()=>Z(O,Y,W)))}function I(O,Y,W,Z,dt){const E=H(O,Y);if(E)return E;const A=Y===Dn,S=Nr?history.state:{};W&&(Z||A?s.replace(O.fullPath,wt({scroll:A&&S&&S.scroll},dt)):s.push(O.fullPath,dt)),c.value=O,Ie(O,Y,W,A),ze()}let y;function Et(){y||(y=s.listen((O,Y,W)=>{if(!Le.listening)return;const Z=$(O),dt=at(Z,Le.currentRoute.value);if(dt){R(wt(dt,{replace:!0,force:!0}),Z).catch(Us);return}h=Z;const E=c.value;Nr&&vE(eh(E.fullPath,W.delta),ko()),b(Z,E).catch(A=>hn(A,Ft.NAVIGATION_ABORTED|Ft.NAVIGATION_CANCELLED)?A:hn(A,Ft.NAVIGATION_GUARD_REDIRECT)?(R(wt(j(A.to),{force:!0}),Z).then(S=>{hn(S,Ft.NAVIGATION_ABORTED|Ft.NAVIGATION_DUPLICATED)&&!W.delta&&W.type===Qa.pop&&s.go(-1,!1)}).catch(Us),Promise.reject()):(W.delta&&s.go(-W.delta,!1),gt(A,Z,E))).then(A=>{A=A||I(Z,E,!1),A&&(W.delta&&!hn(A,Ft.NAVIGATION_CANCELLED)?s.go(-W.delta,!1):W.type===Qa.pop&&hn(A,Ft.NAVIGATION_ABORTED|Ft.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),w(Z,E,A)}).catch(Us)}))}let Ut=Rs(),Mt=Rs(),It;function gt(O,Y,W){ze(O);const Z=Mt.list();return Z.length?Z.forEach(dt=>dt(O,Y,W)):console.error(O),Promise.reject(O)}function Ee(){return It&&c.value!==Dn?Promise.resolve():new Promise((O,Y)=>{Ut.add([O,Y])})}function ze(O){return It||(It=!O,Et(),Ut.list().forEach(([Y,W])=>O?W(O):Y()),Ut.reset()),O}function Ie(O,Y,W,Z){const{scrollBehavior:dt}=e;if(!Nr||!dt)return Promise.resolve();const E=!W&&TE(eh(O.fullPath,0))||(Z||!W)&&history.state&&history.state.scroll||null;return xl().then(()=>dt(O,Y,E)).then(A=>A&&EE(A)).catch(A=>gt(A,O,Y))}const te=O=>s.go(O);let ln;const ke=new Set,Le={currentRoute:c,listening:!0,addRoute:T,removeRoute:V,clearRoutes:t.clearRoutes,hasRoute:M,getRoutes:D,resolve:$,options:e,push:z,replace:it,go:te,back:()=>te(-1),forward:()=>te(1),beforeEach:i.add,beforeResolve:a.add,afterEach:l.add,onError:Mt.add,isReady:Ee,install(O){O.component("RouterLink",XE),O.component("RouterView",ep),O.config.globalProperties.$router=Le,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>mr(c)}),Nr&&!ln&&c.value===Dn&&(ln=!0,z(s.location).catch(Z=>{}));const Y={};for(const Z in Dn)Object.defineProperty(Y,Z,{get:()=>c.value[Z],enumerable:!0});O.provide(jl,Le),O.provide(Yd,Jf(Y)),O.provide(Ya,c);const W=O.unmount;ke.add(O),O.unmount=function(){ke.delete(O),ke.size<1&&(h=Dn,y&&y(),y=null,c.value=Dn,ln=!1,It=!1),W()}}};function ie(O){return O.reduce((Y,W)=>Y.then(()=>_(W)),Promise.resolve())}return Le}const ev="/Favory/assets/logo2-CefVcnt0.png",np=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},nv={class:"navbar-container"},rv={class:"sidebar-desktop"},sv={class:"user-profile"},iv=["src"],ov={class:"user-name"},av={class:"menu-sections"},lv={class:"category-section"},cv={class:"category-list"},uv={class:"bottom-nav-mobile"},hv=["src"],fv={class:"mobile-category-grid"},dv={__name:"Navbar",setup(e){const t=Ur({name:"",avatar:"https://cdn-icons-png.flaticon.com/512/3682/3682281.png"}),n=Ur(["","","",""]),r=Ur(!1),s=()=>{r.value=!r.value};return(i,a)=>{const l=A_("router-link");return De(),kn("nav",nv,[Tt("aside",rv,[a[5]||(a[5]=Tt("div",{class:"brand"},[Tt("img",{src:ev,alt:"Favory Logo",class:"brand-logo"}),Tt("h1",{class:"brand-name"},"Favory")],-1)),Tt("div",sv,[Tt("img",{src:t.value.avatar,alt:"avatar",class:"avatar"},null,8,iv),Tt("span",ov,Ns(t.value.name),1)]),Tt("div",av,[Kt(l,{to:"/List",class:"nav-link"},{default:ar(()=>[...a[2]||(a[2]=[Tt("span",{class:"icon"},"",-1),Bi("  ",-1)])]),_:1}),a[4]||(a[4]=Tt("div",{class:"divider"},null,-1)),Tt("div",lv,[a[3]||(a[3]=Tt("p",{class:"section-label"},"",-1)),Tt("div",cv,[(De(!0),kn(Ae,null,ja(n.value,c=>(De(),to(l,{key:c,to:`/category/${c}`,class:"category-item"},{default:ar(()=>[Bi(" # "+Ns(c),1)]),_:2},1032,["to"]))),128))])])])]),Tt("div",uv,[Kt(l,{to:"/",class:"mobile-nav-item"},{default:ar(()=>[...a[6]||(a[6]=[Tt("span",{class:"icon"},"",-1),Tt("span",{class:"label"},"",-1)])]),_:1}),Tt("button",{onClick:s,class:"mobile-nav-item btn-reset"},[...a[7]||(a[7]=[Tt("span",{class:"icon"},"",-1),Tt("span",{class:"label"},"",-1)])]),Kt(l,{to:"/profile",class:"mobile-nav-item"},{default:ar(()=>[Tt("img",{src:t.value.avatar,class:"mini-avatar"},null,8,hv),a[8]||(a[8]=Tt("span",{class:"label"},"",-1))]),_:1})]),Kt(_y,{name:"fade"},{default:ar(()=>[r.value?(De(),kn("div",{key:0,class:"mobile-modal-overlay",onClick:s},[Tt("div",{class:"mobile-modal-content",onClick:a[1]||(a[1]=jy(()=>{},["stop"]))},[a[9]||(a[9]=Tt("h3",null,"",-1)),Tt("div",fv,[(De(!0),kn(Ae,null,ja(n.value,c=>(De(),to(l,{key:c,to:`/category/${c}`,class:"m-cat-item",onClick:a[0]||(a[0]=h=>r.value=!1)},{default:ar(()=>[Bi(Ns(c),1)]),_:2},1032,["to"]))),128))]),Tt("button",{class:"close-btn",onClick:s},"")])])):ty("",!0)]),_:1})])}}},pv=np(dv,[["__scopeId","data-v-8cca30d0"]]),mv={class:"app-layout"},gv={class:"main-container"},_v={__name:"App",setup(e){return(t,n)=>(De(),kn("div",mv,[Kt(pv),Tt("main",gv,[Kt(mr(ep))])]))}},yv=np(_v,[["__scopeId","data-v-03fef324"]]),Ev="modulepreload",vv=function(e){return"/Favory/"+e},ph={},Tv=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");s=c(n.map(h=>{if(h=vv(h),h in ph)return;ph[h]=!0;const f=h.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":Ev,f||(g.as="script"),g.crossOrigin="",g.href=h,l&&g.setAttribute("nonce",l),document.head.appendChild(g),f)return new Promise((T,V)=>{g.addEventListener("load",T),g.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Av=()=>{};var mh={};const rp=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},Iv=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],a=e[n++],l=e[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return t.join("")},sp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],a=s+1<e.length,l=a?e[s+1]:0,c=s+2<e.length,h=c?e[s+2]:0,f=i>>2,p=(i&3)<<4|l>>4;let g=(l&15)<<2|h>>6,T=h&63;c||(T=64,a||(g=64)),r.push(n[f],n[p],n[g],n[T])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(rp(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Iv(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],l=s<e.length?n[e.charAt(s)]:0;++s;const h=s<e.length?n[e.charAt(s)]:64;++s;const p=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||l==null||h==null||p==null)throw new wv;const g=i<<2|l>>4;if(r.push(g),h!==64){const T=l<<4&240|h>>2;if(r.push(T),p!==64){const V=h<<6&192|p;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class wv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rv=function(e){const t=rp(e);return sp.encodeByteArray(t,!0)},io=function(e){return Rv(e).replace(/\./g,"")},bv=function(e){try{return sp.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Sv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Cv=()=>Sv().__FIREBASE_DEFAULTS__,Pv=()=>{if(typeof process>"u"||typeof mh>"u")return;const e=mh.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Vv=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&bv(e[1]);return t&&JSON.parse(t)},ql=()=>{try{return Av()||Cv()||Pv()||Vv()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Dv=e=>ql()?.emulatorHosts?.[e],Nv=e=>{const t=Dv(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ip=()=>ql()?.config;class xv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function $l(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ov(e){return(await fetch(e,{credentials:"include"})).ok}function Mv(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[io(JSON.stringify(n)),io(JSON.stringify(a)),""].join(".")}const Bs={};function kv(){const e={prod:[],emulator:[]};for(const t of Object.keys(Bs))Bs[t]?e.emulator.push(t):e.prod.push(t);return e}function Lv(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let gh=!1;function Fv(e,t){if(typeof window>"u"||typeof document>"u"||!$l(window.location.host)||Bs[e]===t||Bs[e]||gh)return;Bs[e]=t;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=kv().prod.length>0;function a(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,T){g.setAttribute("width","24"),g.setAttribute("id",T),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{gh=!0,a()},g}function f(g,T){g.setAttribute("id",T),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=Lv(r),T=n("text"),V=document.getElementById(T)||document.createElement("span"),D=n("learnmore"),M=document.getElementById(D)||document.createElement("a"),$=n("preprendIcon"),j=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const H=g.element;l(H),f(M,D);const z=h();c(j,$),H.append(j,V,M,z),document.body.appendChild(H)}i?(V.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Uv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bv(){const e=ql()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jv(){return!Bv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qv(){try{return typeof indexedDB=="object"}catch{return!1}}function $v(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(n){t(n)}})}const Hv="FirebaseError";class ns extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Hv,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,op.prototype.create)}}class op{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],a=i?Gv(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new ns(s,l,r)}}function Gv(e,t){return e.replace(zv,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const zv=/\{\$([^}]+)}/g;function oo(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],a=t[s];if(_h(i)&&_h(a)){if(!oo(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function _h(e){return e!==null&&typeof e=="object"}function yr(e){return e&&e._delegate?e._delegate:e}class Zs{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const lr="[DEFAULT]";class Kv{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new xv;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Qv(t))try{this.getOrInitializeService({instanceIdentifier:lr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=lr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=lr){return this.instances.has(t)}getOptions(t=lr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(t),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&t(i,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Wv(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=lr){return this.component?this.component.multipleInstances?t:lr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wv(e){return e===lr?void 0:e}function Qv(e){return e.instantiationMode==="EAGER"}class Xv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Kv(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var yt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(yt||(yt={}));const Yv={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},Jv=yt.INFO,Zv={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},tT=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=Zv[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ap{constructor(t){this.name=t,this._logLevel=Jv,this._logHandler=tT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in yt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Yv[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...t),this._logHandler(this,yt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...t),this._logHandler(this,yt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...t),this._logHandler(this,yt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...t),this._logHandler(this,yt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...t),this._logHandler(this,yt.ERROR,...t)}}const eT=(e,t)=>t.some(n=>e instanceof n);let yh,Eh;function nT(){return yh||(yh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rT(){return Eh||(Eh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lp=new WeakMap,Ja=new WeakMap,cp=new WeakMap,ba=new WeakMap,Hl=new WeakMap;function sT(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{n(Un(e.result)),s()},a=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&lp.set(n,e)}).catch(()=>{}),Hl.set(t,e),t}function iT(e){if(Ja.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Ja.set(e,t)}let Za={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ja.get(e);if(t==="objectStoreNames")return e.objectStoreNames||cp.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Un(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function oT(e){Za=e(Za)}function aT(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Sa(this),t,...n);return cp.set(r,t.sort?t.sort():[t]),Un(r)}:rT().includes(e)?function(...t){return e.apply(Sa(this),t),Un(lp.get(this))}:function(...t){return Un(e.apply(Sa(this),t))}}function lT(e){return typeof e=="function"?aT(e):(e instanceof IDBTransaction&&iT(e),eT(e,nT())?new Proxy(e,Za):e)}function Un(e){if(e instanceof IDBRequest)return sT(e);if(ba.has(e))return ba.get(e);const t=lT(e);return t!==e&&(ba.set(e,t),Hl.set(t,e)),t}const Sa=e=>Hl.get(e);function cT(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),l=Un(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Un(a.result),c.oldVersion,c.newVersion,Un(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const uT=["get","getKey","getAll","getAllKeys","count"],hT=["put","add","delete","clear"],Ca=new Map;function vh(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ca.get(t))return Ca.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=hT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||uT.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&c.done]))[0]};return Ca.set(t,i),i}oT(e=>({...e,get:(t,n,r)=>vh(t,n)||e.get(t,n,r),has:(t,n)=>!!vh(t,n)||e.has(t,n)}));class fT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dT(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dT(e){return e.getComponent()?.type==="VERSION"}const tl="@firebase/app",Th="0.14.6";const vn=new ap("@firebase/app"),pT="@firebase/app-compat",mT="@firebase/analytics-compat",gT="@firebase/analytics",_T="@firebase/app-check-compat",yT="@firebase/app-check",ET="@firebase/auth",vT="@firebase/auth-compat",TT="@firebase/database",AT="@firebase/data-connect",IT="@firebase/database-compat",wT="@firebase/functions",RT="@firebase/functions-compat",bT="@firebase/installations",ST="@firebase/installations-compat",CT="@firebase/messaging",PT="@firebase/messaging-compat",VT="@firebase/performance",DT="@firebase/performance-compat",NT="@firebase/remote-config",xT="@firebase/remote-config-compat",OT="@firebase/storage",MT="@firebase/storage-compat",kT="@firebase/firestore",LT="@firebase/ai",FT="@firebase/firestore-compat",UT="firebase",BT="12.6.0";const el="[DEFAULT]",jT={[tl]:"fire-core",[pT]:"fire-core-compat",[gT]:"fire-analytics",[mT]:"fire-analytics-compat",[yT]:"fire-app-check",[_T]:"fire-app-check-compat",[ET]:"fire-auth",[vT]:"fire-auth-compat",[TT]:"fire-rtdb",[AT]:"fire-data-connect",[IT]:"fire-rtdb-compat",[wT]:"fire-fn",[RT]:"fire-fn-compat",[bT]:"fire-iid",[ST]:"fire-iid-compat",[CT]:"fire-fcm",[PT]:"fire-fcm-compat",[VT]:"fire-perf",[DT]:"fire-perf-compat",[NT]:"fire-rc",[xT]:"fire-rc-compat",[OT]:"fire-gcs",[MT]:"fire-gcs-compat",[kT]:"fire-fst",[FT]:"fire-fst-compat",[LT]:"fire-vertex","fire-js":"fire-js",[UT]:"fire-js-all"};const ao=new Map,qT=new Map,nl=new Map;function Ah(e,t){try{e.container.addComponent(t)}catch(n){vn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function lo(e){const t=e.name;if(nl.has(t))return vn.debug(`There were multiple attempts to register component ${t}.`),!1;nl.set(t,e);for(const n of ao.values())Ah(n,e);for(const n of qT.values())Ah(n,e);return!0}function $T(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function HT(e){return e==null?!1:e.settings!==void 0}const GT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bn=new op("app","Firebase",GT);class zT{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Bn.create("app-deleted",{appName:this._name})}}const KT=BT;function up(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:el,automaticDataCollectionEnabled:!0,...t},s=r.name;if(typeof s!="string"||!s)throw Bn.create("bad-app-name",{appName:String(s)});if(n||(n=ip()),!n)throw Bn.create("no-options");const i=ao.get(s);if(i){if(oo(n,i.options)&&oo(r,i.config))return i;throw Bn.create("duplicate-app",{appName:s})}const a=new Xv(s);for(const c of nl.values())a.addComponent(c);const l=new zT(n,r,a);return ao.set(s,l),l}function WT(e=el){const t=ao.get(e);if(!t&&e===el&&ip())return up();if(!t)throw Bn.create("no-app",{appName:e});return t}function $r(e,t,n){let r=jT[e]??e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),vn.warn(a.join(" "));return}lo(new Zs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const QT="firebase-heartbeat-database",XT=1,ti="firebase-heartbeat-store";let Pa=null;function hp(){return Pa||(Pa=cT(QT,XT,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ti)}catch(n){console.warn(n)}}}}).catch(e=>{throw Bn.create("idb-open",{originalErrorMessage:e.message})})),Pa}async function YT(e){try{const n=(await hp()).transaction(ti),r=await n.objectStore(ti).get(fp(e));return await n.done,r}catch(t){if(t instanceof ns)vn.warn(t.message);else{const n=Bn.create("idb-get",{originalErrorMessage:t?.message});vn.warn(n.message)}}}async function Ih(e,t){try{const r=(await hp()).transaction(ti,"readwrite");await r.objectStore(ti).put(t,fp(e)),await r.done}catch(n){if(n instanceof ns)vn.warn(n.message);else{const r=Bn.create("idb-set",{originalErrorMessage:n?.message});vn.warn(r.message)}}}function fp(e){return`${e.name}!${e.options.appId}`}const JT=1024,ZT=30;class tA{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=wh();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>ZT){const s=rA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){vn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=wh(),{heartbeatsToSend:n,unsentEntries:r}=eA(this._heartbeatsCache.heartbeats),s=io(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return vn.warn(t),""}}}function wh(){return new Date().toISOString().substring(0,10)}function eA(e,t=JT){const n=[];let r=e.slice();for(const s of e){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Rh(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Rh(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qv()?$v().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YT(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ih(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ih(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Rh(e){return io(JSON.stringify({version:2,heartbeats:e})).length}function rA(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function sA(e){lo(new Zs("platform-logger",t=>new fT(t),"PRIVATE")),lo(new Zs("heartbeat",t=>new tA(t),"PRIVATE")),$r(tl,Th,e),$r(tl,Th,"esm2020"),$r("fire-js","")}sA("");var iA="firebase",oA="12.7.0";$r(iA,oA,"app");var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jn,dp;(function(){var e;function t(R,v){function _(){}_.prototype=v.prototype,R.F=v.prototype,R.prototype=new _,R.prototype.constructor=R,R.D=function(b,w,I){for(var y=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)y[Et-2]=arguments[Et];return v.prototype[w].apply(b,y)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,v,_){_||(_=0);const b=Array(16);if(typeof v=="string")for(var w=0;w<16;++w)b[w]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(w=0;w<16;++w)b[w]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=R.g[0],_=R.g[1],w=R.g[2];let I=R.g[3],y;y=v+(I^_&(w^I))+b[0]+3614090360&4294967295,v=_+(y<<7&4294967295|y>>>25),y=I+(w^v&(_^w))+b[1]+3905402710&4294967295,I=v+(y<<12&4294967295|y>>>20),y=w+(_^I&(v^_))+b[2]+606105819&4294967295,w=I+(y<<17&4294967295|y>>>15),y=_+(v^w&(I^v))+b[3]+3250441966&4294967295,_=w+(y<<22&4294967295|y>>>10),y=v+(I^_&(w^I))+b[4]+4118548399&4294967295,v=_+(y<<7&4294967295|y>>>25),y=I+(w^v&(_^w))+b[5]+1200080426&4294967295,I=v+(y<<12&4294967295|y>>>20),y=w+(_^I&(v^_))+b[6]+2821735955&4294967295,w=I+(y<<17&4294967295|y>>>15),y=_+(v^w&(I^v))+b[7]+4249261313&4294967295,_=w+(y<<22&4294967295|y>>>10),y=v+(I^_&(w^I))+b[8]+1770035416&4294967295,v=_+(y<<7&4294967295|y>>>25),y=I+(w^v&(_^w))+b[9]+2336552879&4294967295,I=v+(y<<12&4294967295|y>>>20),y=w+(_^I&(v^_))+b[10]+4294925233&4294967295,w=I+(y<<17&4294967295|y>>>15),y=_+(v^w&(I^v))+b[11]+2304563134&4294967295,_=w+(y<<22&4294967295|y>>>10),y=v+(I^_&(w^I))+b[12]+1804603682&4294967295,v=_+(y<<7&4294967295|y>>>25),y=I+(w^v&(_^w))+b[13]+4254626195&4294967295,I=v+(y<<12&4294967295|y>>>20),y=w+(_^I&(v^_))+b[14]+2792965006&4294967295,w=I+(y<<17&4294967295|y>>>15),y=_+(v^w&(I^v))+b[15]+1236535329&4294967295,_=w+(y<<22&4294967295|y>>>10),y=v+(w^I&(_^w))+b[1]+4129170786&4294967295,v=_+(y<<5&4294967295|y>>>27),y=I+(_^w&(v^_))+b[6]+3225465664&4294967295,I=v+(y<<9&4294967295|y>>>23),y=w+(v^_&(I^v))+b[11]+643717713&4294967295,w=I+(y<<14&4294967295|y>>>18),y=_+(I^v&(w^I))+b[0]+3921069994&4294967295,_=w+(y<<20&4294967295|y>>>12),y=v+(w^I&(_^w))+b[5]+3593408605&4294967295,v=_+(y<<5&4294967295|y>>>27),y=I+(_^w&(v^_))+b[10]+38016083&4294967295,I=v+(y<<9&4294967295|y>>>23),y=w+(v^_&(I^v))+b[15]+3634488961&4294967295,w=I+(y<<14&4294967295|y>>>18),y=_+(I^v&(w^I))+b[4]+3889429448&4294967295,_=w+(y<<20&4294967295|y>>>12),y=v+(w^I&(_^w))+b[9]+568446438&4294967295,v=_+(y<<5&4294967295|y>>>27),y=I+(_^w&(v^_))+b[14]+3275163606&4294967295,I=v+(y<<9&4294967295|y>>>23),y=w+(v^_&(I^v))+b[3]+4107603335&4294967295,w=I+(y<<14&4294967295|y>>>18),y=_+(I^v&(w^I))+b[8]+1163531501&4294967295,_=w+(y<<20&4294967295|y>>>12),y=v+(w^I&(_^w))+b[13]+2850285829&4294967295,v=_+(y<<5&4294967295|y>>>27),y=I+(_^w&(v^_))+b[2]+4243563512&4294967295,I=v+(y<<9&4294967295|y>>>23),y=w+(v^_&(I^v))+b[7]+1735328473&4294967295,w=I+(y<<14&4294967295|y>>>18),y=_+(I^v&(w^I))+b[12]+2368359562&4294967295,_=w+(y<<20&4294967295|y>>>12),y=v+(_^w^I)+b[5]+4294588738&4294967295,v=_+(y<<4&4294967295|y>>>28),y=I+(v^_^w)+b[8]+2272392833&4294967295,I=v+(y<<11&4294967295|y>>>21),y=w+(I^v^_)+b[11]+1839030562&4294967295,w=I+(y<<16&4294967295|y>>>16),y=_+(w^I^v)+b[14]+4259657740&4294967295,_=w+(y<<23&4294967295|y>>>9),y=v+(_^w^I)+b[1]+2763975236&4294967295,v=_+(y<<4&4294967295|y>>>28),y=I+(v^_^w)+b[4]+1272893353&4294967295,I=v+(y<<11&4294967295|y>>>21),y=w+(I^v^_)+b[7]+4139469664&4294967295,w=I+(y<<16&4294967295|y>>>16),y=_+(w^I^v)+b[10]+3200236656&4294967295,_=w+(y<<23&4294967295|y>>>9),y=v+(_^w^I)+b[13]+681279174&4294967295,v=_+(y<<4&4294967295|y>>>28),y=I+(v^_^w)+b[0]+3936430074&4294967295,I=v+(y<<11&4294967295|y>>>21),y=w+(I^v^_)+b[3]+3572445317&4294967295,w=I+(y<<16&4294967295|y>>>16),y=_+(w^I^v)+b[6]+76029189&4294967295,_=w+(y<<23&4294967295|y>>>9),y=v+(_^w^I)+b[9]+3654602809&4294967295,v=_+(y<<4&4294967295|y>>>28),y=I+(v^_^w)+b[12]+3873151461&4294967295,I=v+(y<<11&4294967295|y>>>21),y=w+(I^v^_)+b[15]+530742520&4294967295,w=I+(y<<16&4294967295|y>>>16),y=_+(w^I^v)+b[2]+3299628645&4294967295,_=w+(y<<23&4294967295|y>>>9),y=v+(w^(_|~I))+b[0]+4096336452&4294967295,v=_+(y<<6&4294967295|y>>>26),y=I+(_^(v|~w))+b[7]+1126891415&4294967295,I=v+(y<<10&4294967295|y>>>22),y=w+(v^(I|~_))+b[14]+2878612391&4294967295,w=I+(y<<15&4294967295|y>>>17),y=_+(I^(w|~v))+b[5]+4237533241&4294967295,_=w+(y<<21&4294967295|y>>>11),y=v+(w^(_|~I))+b[12]+1700485571&4294967295,v=_+(y<<6&4294967295|y>>>26),y=I+(_^(v|~w))+b[3]+2399980690&4294967295,I=v+(y<<10&4294967295|y>>>22),y=w+(v^(I|~_))+b[10]+4293915773&4294967295,w=I+(y<<15&4294967295|y>>>17),y=_+(I^(w|~v))+b[1]+2240044497&4294967295,_=w+(y<<21&4294967295|y>>>11),y=v+(w^(_|~I))+b[8]+1873313359&4294967295,v=_+(y<<6&4294967295|y>>>26),y=I+(_^(v|~w))+b[15]+4264355552&4294967295,I=v+(y<<10&4294967295|y>>>22),y=w+(v^(I|~_))+b[6]+2734768916&4294967295,w=I+(y<<15&4294967295|y>>>17),y=_+(I^(w|~v))+b[13]+1309151649&4294967295,_=w+(y<<21&4294967295|y>>>11),y=v+(w^(_|~I))+b[4]+4149444226&4294967295,v=_+(y<<6&4294967295|y>>>26),y=I+(_^(v|~w))+b[11]+3174756917&4294967295,I=v+(y<<10&4294967295|y>>>22),y=w+(v^(I|~_))+b[2]+718787259&4294967295,w=I+(y<<15&4294967295|y>>>17),y=_+(I^(w|~v))+b[9]+3951481745&4294967295,R.g[0]=R.g[0]+v&4294967295,R.g[1]=R.g[1]+(w+(y<<21&4294967295|y>>>11))&4294967295,R.g[2]=R.g[2]+w&4294967295,R.g[3]=R.g[3]+I&4294967295}r.prototype.v=function(R,v){v===void 0&&(v=R.length);const _=v-this.blockSize,b=this.C;let w=this.h,I=0;for(;I<v;){if(w==0)for(;I<=_;)s(this,R,I),I+=this.blockSize;if(typeof R=="string"){for(;I<v;)if(b[w++]=R.charCodeAt(I++),w==this.blockSize){s(this,b),w=0;break}}else for(;I<v;)if(b[w++]=R[I++],w==this.blockSize){s(this,b),w=0;break}}this.h=w,this.o+=v},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var v=1;v<R.length-8;++v)R[v]=0;v=this.o*8;for(var _=R.length-8;_<R.length;++_)R[_]=v&255,v/=256;for(this.v(R),R=Array(16),v=0,_=0;_<4;++_)for(let b=0;b<32;b+=8)R[v++]=this.g[_]>>>b&255;return R};function i(R,v){var _=l;return Object.prototype.hasOwnProperty.call(_,R)?_[R]:_[R]=v(R)}function a(R,v){this.h=v;const _=[];let b=!0;for(let w=R.length-1;w>=0;w--){const I=R[w]|0;b&&I==v||(_[w]=I,b=!1)}this.g=_}var l={};function c(R){return-128<=R&&R<128?i(R,function(v){return new a([v|0],v<0?-1:0)}):new a([R|0],R<0?-1:0)}function h(R){if(isNaN(R)||!isFinite(R))return p;if(R<0)return M(h(-R));const v=[];let _=1;for(let b=0;R>=_;b++)v[b]=R/_|0,_*=4294967296;return new a(v,0)}function f(R,v){if(R.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(R.charAt(0)=="-")return M(f(R.substring(1),v));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _=h(Math.pow(v,8));let b=p;for(let I=0;I<R.length;I+=8){var w=Math.min(8,R.length-I);const y=parseInt(R.substring(I,I+w),v);w<8?(w=h(Math.pow(v,w)),b=b.j(w).add(h(y))):(b=b.j(_),b=b.add(h(y)))}return b}var p=c(0),g=c(1),T=c(16777216);e=a.prototype,e.m=function(){if(D(this))return-M(this).m();let R=0,v=1;for(let _=0;_<this.g.length;_++){const b=this.i(_);R+=(b>=0?b:4294967296+b)*v,v*=4294967296}return R},e.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(V(this))return"0";if(D(this))return"-"+M(this).toString(R);const v=h(Math.pow(R,6));var _=this;let b="";for(;;){const w=z(_,v).g;_=$(_,w.j(v));let I=((_.g.length>0?_.g[0]:_.h)>>>0).toString(R);if(_=w,V(_))return I+b;for(;I.length<6;)I="0"+I;b=I+b}},e.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function V(R){if(R.h!=0)return!1;for(let v=0;v<R.g.length;v++)if(R.g[v]!=0)return!1;return!0}function D(R){return R.h==-1}e.l=function(R){return R=$(this,R),D(R)?-1:V(R)?0:1};function M(R){const v=R.g.length,_=[];for(let b=0;b<v;b++)_[b]=~R.g[b];return new a(_,~R.h).add(g)}e.abs=function(){return D(this)?M(this):this},e.add=function(R){const v=Math.max(this.g.length,R.g.length),_=[];let b=0;for(let w=0;w<=v;w++){let I=b+(this.i(w)&65535)+(R.i(w)&65535),y=(I>>>16)+(this.i(w)>>>16)+(R.i(w)>>>16);b=y>>>16,I&=65535,y&=65535,_[w]=y<<16|I}return new a(_,_[_.length-1]&-2147483648?-1:0)};function $(R,v){return R.add(M(v))}e.j=function(R){if(V(this)||V(R))return p;if(D(this))return D(R)?M(this).j(M(R)):M(M(this).j(R));if(D(R))return M(this.j(M(R)));if(this.l(T)<0&&R.l(T)<0)return h(this.m()*R.m());const v=this.g.length+R.g.length,_=[];for(var b=0;b<2*v;b++)_[b]=0;for(b=0;b<this.g.length;b++)for(let w=0;w<R.g.length;w++){const I=this.i(b)>>>16,y=this.i(b)&65535,Et=R.i(w)>>>16,Ut=R.i(w)&65535;_[2*b+2*w]+=y*Ut,j(_,2*b+2*w),_[2*b+2*w+1]+=I*Ut,j(_,2*b+2*w+1),_[2*b+2*w+1]+=y*Et,j(_,2*b+2*w+1),_[2*b+2*w+2]+=I*Et,j(_,2*b+2*w+2)}for(R=0;R<v;R++)_[R]=_[2*R+1]<<16|_[2*R];for(R=v;R<2*v;R++)_[R]=0;return new a(_,0)};function j(R,v){for(;(R[v]&65535)!=R[v];)R[v+1]+=R[v]>>>16,R[v]&=65535,v++}function H(R,v){this.g=R,this.h=v}function z(R,v){if(V(v))throw Error("division by zero");if(V(R))return new H(p,p);if(D(R))return v=z(M(R),v),new H(M(v.g),M(v.h));if(D(v))return v=z(R,M(v)),new H(M(v.g),v.h);if(R.g.length>30){if(D(R)||D(v))throw Error("slowDivide_ only works with positive integers.");for(var _=g,b=v;b.l(R)<=0;)_=it(_),b=it(b);var w=at(_,1),I=at(b,1);for(b=at(b,2),_=at(_,2);!V(b);){var y=I.add(b);y.l(R)<=0&&(w=w.add(_),I=y),b=at(b,1),_=at(_,1)}return v=$(R,w.j(v)),new H(w,v)}for(w=p;R.l(v)>=0;){for(_=Math.max(1,Math.floor(R.m()/v.m())),b=Math.ceil(Math.log(_)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),I=h(_),y=I.j(v);D(y)||y.l(R)>0;)_-=b,I=h(_),y=I.j(v);V(I)&&(I=g),w=w.add(I),R=$(R,y)}return new H(w,R)}e.B=function(R){return z(this,R).h},e.and=function(R){const v=Math.max(this.g.length,R.g.length),_=[];for(let b=0;b<v;b++)_[b]=this.i(b)&R.i(b);return new a(_,this.h&R.h)},e.or=function(R){const v=Math.max(this.g.length,R.g.length),_=[];for(let b=0;b<v;b++)_[b]=this.i(b)|R.i(b);return new a(_,this.h|R.h)},e.xor=function(R){const v=Math.max(this.g.length,R.g.length),_=[];for(let b=0;b<v;b++)_[b]=this.i(b)^R.i(b);return new a(_,this.h^R.h)};function it(R){const v=R.g.length+1,_=[];for(let b=0;b<v;b++)_[b]=R.i(b)<<1|R.i(b-1)>>>31;return new a(_,R.h)}function at(R,v){const _=v>>5;v%=32;const b=R.g.length-_,w=[];for(let I=0;I<b;I++)w[I]=v>0?R.i(I+_)>>>v|R.i(I+_+1)<<32-v:R.i(I+_);return new a(w,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,dp=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=f,jn=a}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});var Di=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pp,Ss,mp,qi,rl,gp,_p,yp;(function(){var e,t=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Di=="object"&&Di];for(var u=0;u<o.length;++u){var d=o[u];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function s(o,u){if(u)t:{var d=r;o=o.split(".");for(var m=0;m<o.length-1;m++){var C=o[m];if(!(C in d))break t;d=d[C]}o=o[o.length-1],m=d[o],u=u(m),u!=m&&u!=null&&t(d,o,{configurable:!0,writable:!0,value:u})}}s("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(o){return o||function(u){var d=[],m;for(m in u)Object.prototype.hasOwnProperty.call(u,m)&&d.push([m,u[m]]);return d}});var i=i||{},a=this||self;function l(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function c(o,u,d){return o.call.apply(o.bind,arguments)}function h(o,u,d){return h=c,h.apply(null,arguments)}function f(o,u){var d=Array.prototype.slice.call(arguments,1);return function(){var m=d.slice();return m.push.apply(m,arguments),o.apply(this,m)}}function p(o,u){function d(){}d.prototype=u.prototype,o.Z=u.prototype,o.prototype=new d,o.prototype.constructor=o,o.Ob=function(m,C,P){for(var G=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)G[ht-2]=arguments[ht];return u.prototype[C].apply(m,G)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function T(o){const u=o.length;if(u>0){const d=Array(u);for(let m=0;m<u;m++)d[m]=o[m];return d}return[]}function V(o,u){for(let m=1;m<arguments.length;m++){const C=arguments[m];var d=typeof C;if(d=d!="object"?d:C?Array.isArray(C)?"array":d:"null",d=="array"||d=="object"&&typeof C.length=="number"){d=o.length||0;const P=C.length||0;o.length=d+P;for(let G=0;G<P;G++)o[d+G]=C[G]}else o.push(C)}}class D{constructor(u,d){this.i=u,this.j=d,this.h=0,this.g=null}get(){let u;return this.h>0?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function M(o){a.setTimeout(()=>{throw o},0)}function $(){var o=R;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class j{constructor(){this.h=this.g=null}add(u,d){const m=H.get();m.set(u,d),this.h?this.h.next=m:this.g=m,this.h=m}}var H=new D(()=>new z,o=>o.reset());class z{constructor(){this.next=this.g=this.h=null}set(u,d){this.h=u,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let it,at=!1,R=new j,v=()=>{const o=Promise.resolve(void 0);it=()=>{o.then(_)}};function _(){for(var o;o=$();){try{o.h.call(o.g)}catch(d){M(d)}var u=H;u.j(o),u.h<100&&(u.h++,o.next=u.g,u.g=o)}at=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};a.addEventListener("test",d,u),a.removeEventListener("test",d,u)}catch{}return o})();function y(o){return/^[\s\xa0]*$/.test(o)}function Et(o,u){w.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,u)}p(Et,w),Et.prototype.init=function(o,u){const d=this.type=o.type,m=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget,u||(d=="mouseover"?u=o.fromElement:d=="mouseout"&&(u=o.toElement)),this.relatedTarget=u,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&Et.Z.h.call(this)},Et.prototype.h=function(){Et.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Ut="closure_listenable_"+(Math.random()*1e6|0),Mt=0;function It(o,u,d,m,C){this.listener=o,this.proxy=null,this.src=u,this.type=d,this.capture=!!m,this.ha=C,this.key=++Mt,this.da=this.fa=!1}function gt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Ee(o,u,d){for(const m in o)u.call(d,o[m],m,o)}function ze(o,u){for(const d in o)u.call(void 0,o[d],d,o)}function Ie(o){const u={};for(const d in o)u[d]=o[d];return u}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ln(o,u){let d,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(d in m)o[d]=m[d];for(let P=0;P<te.length;P++)d=te[P],Object.prototype.hasOwnProperty.call(m,d)&&(o[d]=m[d])}}function ke(o){this.src=o,this.g={},this.h=0}ke.prototype.add=function(o,u,d,m,C){const P=o.toString();o=this.g[P],o||(o=this.g[P]=[],this.h++);const G=ie(o,u,m,C);return G>-1?(u=o[G],d||(u.fa=!1)):(u=new It(u,this.src,P,!!m,C),u.fa=d,o.push(u)),u};function Le(o,u){const d=u.type;if(d in o.g){var m=o.g[d],C=Array.prototype.indexOf.call(m,u,void 0),P;(P=C>=0)&&Array.prototype.splice.call(m,C,1),P&&(gt(u),o.g[d].length==0&&(delete o.g[d],o.h--))}}function ie(o,u,d,m){for(let C=0;C<o.length;++C){const P=o[C];if(!P.da&&P.listener==u&&P.capture==!!d&&P.ha==m)return C}return-1}var O="closure_lm_"+(Math.random()*1e6|0),Y={};function W(o,u,d,m,C){if(Array.isArray(u)){for(let P=0;P<u.length;P++)W(o,u[P],d,m,C);return null}return d=K(d),o&&o[Ut]?o.J(u,d,l(m)?!!m.capture:!1,C):Z(o,u,d,!1,m,C)}function Z(o,u,d,m,C,P){if(!u)throw Error("Invalid event type");const G=l(C)?!!C.capture:!!C;let ht=F(o);if(ht||(o[O]=ht=new ke(o)),d=ht.add(u,d,m,G,P),d.proxy)return d;if(m=dt(),d.proxy=m,m.src=o,m.listener=d,o.addEventListener)I||(C=G),C===void 0&&(C=!1),o.addEventListener(u.toString(),m,C);else if(o.attachEvent)o.attachEvent(S(u.toString()),m);else if(o.addListener&&o.removeListener)o.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return d}function dt(){function o(d){return u.call(o.src,o.listener,d)}const u=N;return o}function E(o,u,d,m,C){if(Array.isArray(u))for(var P=0;P<u.length;P++)E(o,u[P],d,m,C);else m=l(m)?!!m.capture:!!m,d=K(d),o&&o[Ut]?(o=o.i,P=String(u).toString(),P in o.g&&(u=o.g[P],d=ie(u,d,m,C),d>-1&&(gt(u[d]),Array.prototype.splice.call(u,d,1),u.length==0&&(delete o.g[P],o.h--)))):o&&(o=F(o))&&(u=o.g[u.toString()],o=-1,u&&(o=ie(u,d,m,C)),(d=o>-1?u[o]:null)&&A(d))}function A(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[Ut])Le(u.i,o);else{var d=o.type,m=o.proxy;u.removeEventListener?u.removeEventListener(d,m,o.capture):u.detachEvent?u.detachEvent(S(d),m):u.addListener&&u.removeListener&&u.removeListener(m),(d=F(u))?(Le(d,o),d.h==0&&(d.src=null,u[O]=null)):gt(o)}}}function S(o){return o in Y?Y[o]:Y[o]="on"+o}function N(o,u){if(o.da)o=!0;else{u=new Et(u,this);const d=o.listener,m=o.ha||o.src;o.fa&&A(o),o=d.call(m,u)}return o}function F(o){return o=o[O],o instanceof ke?o:null}var x="__closure_events_fn_"+(Math.random()*1e9>>>0);function K(o){return typeof o=="function"?o:(o[x]||(o[x]=function(u){return o.handleEvent(u)}),o[x])}function q(){b.call(this),this.i=new ke(this),this.M=this,this.G=null}p(q,b),q.prototype[Ut]=!0,q.prototype.removeEventListener=function(o,u,d,m){E(this,o,u,d,m)};function B(o,u){var d,m=o.G;if(m)for(d=[];m;m=m.G)d.push(m);if(o=o.M,m=u.type||u,typeof u=="string")u=new w(u,o);else if(u instanceof w)u.target=u.target||o;else{var C=u;u=new w(m,o),ln(u,C)}C=!0;let P,G;if(d)for(G=d.length-1;G>=0;G--)P=u.g=d[G],C=U(P,m,!0,u)&&C;if(P=u.g=o,C=U(P,m,!0,u)&&C,C=U(P,m,!1,u)&&C,d)for(G=0;G<d.length;G++)P=u.g=d[G],C=U(P,m,!1,u)&&C}q.prototype.N=function(){if(q.Z.N.call(this),this.i){var o=this.i;for(const u in o.g){const d=o.g[u];for(let m=0;m<d.length;m++)gt(d[m]);delete o.g[u],o.h--}}this.G=null},q.prototype.J=function(o,u,d,m){return this.i.add(String(o),u,!1,d,m)},q.prototype.K=function(o,u,d,m){return this.i.add(String(o),u,!0,d,m)};function U(o,u,d,m){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();let C=!0;for(let P=0;P<u.length;++P){const G=u[P];if(G&&!G.da&&G.capture==d){const ht=G.listener,Gt=G.ha||G.src;G.fa&&Le(o.i,G),C=ht.call(Gt,m)!==!1&&C}}return C&&!m.defaultPrevented}function nt(o,u){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=h(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(u)>2147483647?-1:a.setTimeout(o,u||0)}function Q(o){o.g=nt(()=>{o.g=null,o.i&&(o.i=!1,Q(o))},o.l);const u=o.h;o.h=null,o.m.apply(null,u)}class tt extends b{constructor(u,d){super(),this.m=u,this.l=d,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Q(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rt(o){b.call(this),this.h=o,this.g={}}p(rt,b);var ft=[];function St(o){Ee(o.g,function(u,d){this.g.hasOwnProperty(d)&&A(u)},o),o.g={}}rt.prototype.N=function(){rt.Z.N.call(this),St(this)},rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vt=a.JSON.stringify,oe=a.JSON.parse,ae=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function we(){}function Re(){}var Fe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function br(){w.call(this,"d")}p(br,w);function ee(){w.call(this,"c")}p(ee,w);var Xt={},ls=null;function Yn(){return ls=ls||new q}Xt.Ia="serverreachability";function Rc(o){w.call(this,Xt.Ia,o)}p(Rc,w);function cs(o){const u=Yn();B(u,new Rc(u))}Xt.STAT_EVENT="statevent";function bc(o,u){w.call(this,Xt.STAT_EVENT,o),this.stat=u}p(bc,w);function pe(o){const u=Yn();B(u,new bc(u,o))}Xt.Ja="timingevent";function Sc(o,u){w.call(this,Xt.Ja,o),this.size=u}p(Sc,w);function us(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},u)}function hs(){this.g=!0}hs.prototype.ua=function(){this.g=!1};function Gm(o,u,d,m,C,P){o.info(function(){if(o.g)if(P){var G="",ht=P.split("&");for(let Pt=0;Pt<ht.length;Pt++){var Gt=ht[Pt].split("=");if(Gt.length>1){const Yt=Gt[0];Gt=Gt[1];const We=Yt.split("_");G=We.length>=2&&We[1]=="type"?G+(Yt+"="+Gt+"&"):G+(Yt+"=redacted&")}}}else G=null;else G=P;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+u+`
`+d+`
`+G})}function zm(o,u,d,m,C,P,G){o.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+u+`
`+d+`
`+P+" "+G})}function Sr(o,u,d,m){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+Wm(o,d)+(m?" "+m:"")})}function Km(o,u){o.info(function(){return"TIMEOUT: "+u})}hs.prototype.info=function(){};function Wm(o,u){if(!o.g)return u;if(!u)return null;try{const P=JSON.parse(u);if(P){for(o=0;o<P.length;o++)if(Array.isArray(P[o])){var d=P[o];if(!(d.length<2)){var m=d[1];if(Array.isArray(m)&&!(m.length<1)){var C=m[0];if(C!="noop"&&C!="stop"&&C!="close")for(let G=1;G<m.length;G++)m[G]=""}}}}return vt(P)}catch{return u}}var _i={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pc;function Xo(){}p(Xo,we),Xo.prototype.g=function(){return new XMLHttpRequest},Pc=new Xo;function fs(o){return encodeURIComponent(String(o))}function Qm(o){var u=1;o=o.split(":");const d=[];for(;u>0&&o.length;)d.push(o.shift()),u--;return o.length&&d.push(o.join(":")),d}function wn(o,u,d,m){this.j=o,this.i=u,this.l=d,this.S=m||1,this.V=new rt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vc}function Vc(){this.i=null,this.g="",this.h=!1}var Dc={},Yo={};function Jo(o,u,d){o.M=1,o.A=Ei(Ke(u)),o.u=d,o.R=!0,Nc(o,null)}function Nc(o,u){o.F=Date.now(),yi(o),o.B=Ke(o.A);var d=o.B,m=o.S;Array.isArray(m)||(m=[String(m)]),Gc(d.i,"t",m),o.C=0,d=o.j.L,o.h=new Vc,o.g=cu(o.j,d?u:null,!o.u),o.P>0&&(o.O=new tt(h(o.Y,o,o.g),o.P)),u=o.V,d=o.g,m=o.ba;var C="readystatechange";Array.isArray(C)||(C&&(ft[0]=C.toString()),C=ft);for(let P=0;P<C.length;P++){const G=W(d,C[P],m||u.handleEvent,!1,u.h||u);if(!G)break;u.g[G.key]=G}u=o.J?Ie(o.J):{},o.u?(o.v||(o.v="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,u)):(o.v="GET",o.g.ea(o.B,o.v,null,u)),cs(),Gm(o.i,o.v,o.B,o.l,o.S,o.u)}wn.prototype.ba=function(o){o=o.target;const u=this.O;u&&Sn(o)==3?u.j():this.Y(o)},wn.prototype.Y=function(o){try{if(o==this.g)t:{const ht=Sn(this.g),Gt=this.g.ya(),Pt=this.g.ca();if(!(ht<3)&&(ht!=3||this.g&&(this.h.h||this.g.la()||Jc(this.g)))){this.K||ht!=4||Gt==7||(Gt==8||Pt<=0?cs(3):cs(2)),Zo(this);var u=this.g.ca();this.X=u;var d=Xm(this);if(this.o=u==200,zm(this.i,this.v,this.B,this.l,this.S,ht,u),this.o){if(this.U&&!this.L){e:{if(this.g){var m,C=this.g;if((m=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(m)){var P=m;break e}}P=null}if(o=P)Sr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ta(this,o);else{this.o=!1,this.m=3,pe(12),Jn(this),ds(this);break t}}if(this.R){o=!0;let Yt;for(;!this.K&&this.C<d.length;)if(Yt=Ym(this,d),Yt==Yo){ht==4&&(this.m=4,pe(14),o=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==Dc){this.m=4,pe(15),Sr(this.i,this.l,d,"[Invalid Chunk]"),o=!1;break}else Sr(this.i,this.l,Yt,null),ta(this,Yt);if(xc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||d.length!=0||this.h.h||(this.m=1,pe(16),o=!1),this.o=this.o&&o,!o)Sr(this.i,this.l,d,"[Invalid Chunked Response]"),Jn(this),ds(this);else if(d.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+d.length),la(G),G.P=!0,pe(11))}}else Sr(this.i,this.l,d,null),ta(this,d);ht==4&&Jn(this),this.o&&!this.K&&(ht==4?iu(this.j,this):(this.o=!1,yi(this)))}else hg(this.g),u==400&&d.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),Jn(this),ds(this)}}}catch{}};function Xm(o){if(!xc(o))return o.g.la();const u=Jc(o.g);if(u==="")return"";let d="";const m=u.length,C=Sn(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return Jn(o),ds(o),"";o.h.i=new a.TextDecoder}for(let P=0;P<m;P++)o.h.h=!0,d+=o.h.i.decode(u[P],{stream:!(C&&P==m-1)});return u.length=0,o.h.g+=d,o.C=0,o.h.g}function xc(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function Ym(o,u){var d=o.C,m=u.indexOf(`
`,d);return m==-1?Yo:(d=Number(u.substring(d,m)),isNaN(d)?Dc:(m+=1,m+d>u.length?Yo:(u=u.slice(m,m+d),o.C=m+d,u)))}wn.prototype.cancel=function(){this.K=!0,Jn(this)};function yi(o){o.T=Date.now()+o.H,Oc(o,o.H)}function Oc(o,u){if(o.D!=null)throw Error("WatchDog timer not null");o.D=us(h(o.aa,o),u)}function Zo(o){o.D&&(a.clearTimeout(o.D),o.D=null)}wn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Km(this.i,this.B),this.M!=2&&(cs(),pe(17)),Jn(this),this.m=2,ds(this)):Oc(this,this.T-o)};function ds(o){o.j.I==0||o.K||iu(o.j,o)}function Jn(o){Zo(o);var u=o.O;u&&typeof u.dispose=="function"&&u.dispose(),o.O=null,St(o.V),o.g&&(u=o.g,o.g=null,u.abort(),u.dispose())}function ta(o,u){try{var d=o.j;if(d.I!=0&&(d.g==o||ea(d.h,o))){if(!o.L&&ea(d.h,o)&&d.I==3){try{var m=d.Ba.g.parse(u)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){t:if(!d.v){if(d.g)if(d.g.F+3e3<o.F)wi(d),Ai(d);else break t;aa(d),pe(18)}}else d.xa=C[1],0<d.xa-d.K&&C[2]<37500&&d.F&&d.A==0&&!d.C&&(d.C=us(h(d.Va,d),6e3));Lc(d.h)<=1&&d.ta&&(d.ta=void 0)}else tr(d,11)}else if((o.L||d.g==o)&&wi(d),!y(u))for(C=d.Ba.g.parse(u),u=0;u<C.length;u++){let Pt=C[u];const Yt=Pt[0];if(!(Yt<=d.K))if(d.K=Yt,Pt=Pt[1],d.I==2)if(Pt[0]=="c"){d.M=Pt[1],d.ba=Pt[2];const We=Pt[3];We!=null&&(d.ka=We,d.j.info("VER="+d.ka));const er=Pt[4];er!=null&&(d.za=er,d.j.info("SVER="+d.za));const Cn=Pt[5];Cn!=null&&typeof Cn=="number"&&Cn>0&&(m=1.5*Cn,d.O=m,d.j.info("backChannelRequestTimeoutMs_="+m)),m=d;const Pn=o.g;if(Pn){const bi=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bi){var P=m.h;P.g||bi.indexOf("spdy")==-1&&bi.indexOf("quic")==-1&&bi.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(na(P,P.h),P.h=null))}if(m.G){const ca=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(m.wa=ca,xt(m.J,m.G,ca))}}d.I=3,d.l&&d.l.ra(),d.aa&&(d.T=Date.now()-o.F,d.j.info("Handshake RTT: "+d.T+"ms")),m=d;var G=o;if(m.na=lu(m,m.L?m.ba:null,m.W),G.L){Fc(m.h,G);var ht=G,Gt=m.O;Gt&&(ht.H=Gt),ht.D&&(Zo(ht),yi(ht)),m.g=G}else ru(m);d.i.length>0&&Ii(d)}else Pt[0]!="stop"&&Pt[0]!="close"||tr(d,7);else d.I==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?tr(d,7):oa(d):Pt[0]!="noop"&&d.l&&d.l.qa(Pt),d.A=0)}}cs(4)}catch{}}var Jm=class{constructor(o,u){this.g=o,this.map=u}};function Mc(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kc(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Lc(o){return o.h?1:o.g?o.g.size:0}function ea(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function na(o,u){o.g?o.g.add(u):o.h=u}function Fc(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}Mc.prototype.cancel=function(){if(this.i=Uc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Uc(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let u=o.i;for(const d of o.g.values())u=u.concat(d.G);return u}return T(o.i)}var Bc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zm(o,u){if(o){o=o.split("&");for(let d=0;d<o.length;d++){const m=o[d].indexOf("=");let C,P=null;m>=0?(C=o[d].substring(0,m),P=o[d].substring(m+1)):C=o[d],u(C,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Rn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let u;o instanceof Rn?(this.l=o.l,ps(this,o.j),this.o=o.o,this.g=o.g,ms(this,o.u),this.h=o.h,ra(this,zc(o.i)),this.m=o.m):o&&(u=String(o).match(Bc))?(this.l=!1,ps(this,u[1]||"",!0),this.o=gs(u[2]||""),this.g=gs(u[3]||"",!0),ms(this,u[4]),this.h=gs(u[5]||"",!0),ra(this,u[6]||"",!0),this.m=gs(u[7]||"")):(this.l=!1,this.i=new ys(null,this.l))}Rn.prototype.toString=function(){const o=[];var u=this.j;u&&o.push(_s(u,jc,!0),":");var d=this.g;return(d||u=="file")&&(o.push("//"),(u=this.o)&&o.push(_s(u,jc,!0),"@"),o.push(fs(d).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.u,d!=null&&o.push(":",String(d))),(d=this.h)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(_s(d,d.charAt(0)=="/"?ng:eg,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",_s(d,sg)),o.join("")},Rn.prototype.resolve=function(o){const u=Ke(this);let d=!!o.j;d?ps(u,o.j):d=!!o.o,d?u.o=o.o:d=!!o.g,d?u.g=o.g:d=o.u!=null;var m=o.h;if(d)ms(u,o.u);else if(d=!!o.h){if(m.charAt(0)!="/")if(this.g&&!this.h)m="/"+m;else{var C=u.h.lastIndexOf("/");C!=-1&&(m=u.h.slice(0,C+1)+m)}if(C=m,C==".."||C==".")m="";else if(C.indexOf("./")!=-1||C.indexOf("/.")!=-1){m=C.lastIndexOf("/",0)==0,C=C.split("/");const P=[];for(let G=0;G<C.length;){const ht=C[G++];ht=="."?m&&G==C.length&&P.push(""):ht==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),m&&G==C.length&&P.push("")):(P.push(ht),m=!0)}m=P.join("/")}else m=C}return d?u.h=m:d=o.i.toString()!=="",d?ra(u,zc(o.i)):d=!!o.m,d&&(u.m=o.m),u};function Ke(o){return new Rn(o)}function ps(o,u,d){o.j=d?gs(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function ms(o,u){if(u){if(u=Number(u),isNaN(u)||u<0)throw Error("Bad port number "+u);o.u=u}else o.u=null}function ra(o,u,d){u instanceof ys?(o.i=u,ig(o.i,o.l)):(d||(u=_s(u,rg)),o.i=new ys(u,o.l))}function xt(o,u,d){o.i.set(u,d)}function Ei(o){return xt(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function gs(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function _s(o,u,d){return typeof o=="string"?(o=encodeURI(o).replace(u,tg),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function tg(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var jc=/[#\/\?@]/g,eg=/[#\?:]/g,ng=/[#\?]/g,rg=/[#\?@]/g,sg=/#/g;function ys(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function Zn(o){o.g||(o.g=new Map,o.h=0,o.i&&Zm(o.i,function(u,d){o.add(decodeURIComponent(u.replace(/\+/g," ")),d)}))}e=ys.prototype,e.add=function(o,u){Zn(this),this.i=null,o=Cr(this,o);let d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(u),this.h+=1,this};function qc(o,u){Zn(o),u=Cr(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function $c(o,u){return Zn(o),u=Cr(o,u),o.g.has(u)}e.forEach=function(o,u){Zn(this),this.g.forEach(function(d,m){d.forEach(function(C){o.call(u,C,m,this)},this)},this)};function Hc(o,u){Zn(o);let d=[];if(typeof u=="string")$c(o,u)&&(d=d.concat(o.g.get(Cr(o,u))));else for(o=Array.from(o.g.values()),u=0;u<o.length;u++)d=d.concat(o[u]);return d}e.set=function(o,u){return Zn(this),this.i=null,o=Cr(this,o),$c(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},e.get=function(o,u){return o?(o=Hc(this,o),o.length>0?String(o[0]):u):u};function Gc(o,u,d){qc(o,u),d.length>0&&(o.i=null,o.g.set(Cr(o,u),T(d)),o.h+=d.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],u=Array.from(this.g.keys());for(let m=0;m<u.length;m++){var d=u[m];const C=fs(d);d=Hc(this,d);for(let P=0;P<d.length;P++){let G=C;d[P]!==""&&(G+="="+fs(d[P])),o.push(G)}}return this.i=o.join("&")};function zc(o){const u=new ys;return u.i=o.i,o.g&&(u.g=new Map(o.g),u.h=o.h),u}function Cr(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function ig(o,u){u&&!o.j&&(Zn(o),o.i=null,o.g.forEach(function(d,m){const C=m.toLowerCase();m!=C&&(qc(this,m),Gc(this,C,d))},o)),o.j=u}function og(o,u){const d=new hs;if(a.Image){const m=new Image;m.onload=f(bn,d,"TestLoadImage: loaded",!0,u,m),m.onerror=f(bn,d,"TestLoadImage: error",!1,u,m),m.onabort=f(bn,d,"TestLoadImage: abort",!1,u,m),m.ontimeout=f(bn,d,"TestLoadImage: timeout",!1,u,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=o}else u(!1)}function ag(o,u){const d=new hs,m=new AbortController,C=setTimeout(()=>{m.abort(),bn(d,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:m.signal}).then(P=>{clearTimeout(C),P.ok?bn(d,"TestPingServer: ok",!0,u):bn(d,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(C),bn(d,"TestPingServer: error",!1,u)})}function bn(o,u,d,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(d)}catch{}}function lg(){this.g=new ae}function sa(o){this.i=o.Sb||null,this.h=o.ab||!1}p(sa,we),sa.prototype.g=function(){return new vi(this.i,this.h)};function vi(o,u){q.call(this),this.H=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(vi,q),e=vi.prototype,e.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=u,this.readyState=1,vs(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const u={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(u.body=o),(this.H||a).fetch(new Request(this.D,u)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Es(this)),this.readyState=0},e.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Kc(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Kc(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}e.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.B.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?Es(this):vs(this),this.readyState==3&&Kc(this)}},e.Oa=function(o){this.g&&(this.response=this.responseText=o,Es(this))},e.Na=function(o){this.g&&(this.response=o,Es(this))},e.ga=function(){this.g&&Es(this)};function Es(o){o.readyState=4,o.l=null,o.j=null,o.B=null,vs(o)}e.setRequestHeader=function(o,u){this.A.append(o,u)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],u=this.h.entries();for(var d=u.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=u.next();return o.join(`\r
`)};function vs(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Wc(o){let u="";return Ee(o,function(d,m){u+=m,u+=":",u+=d,u+=`\r
`}),u}function ia(o,u,d){t:{for(m in d){var m=!1;break t}m=!0}m||(d=Wc(d),typeof o=="string"?d!=null&&fs(d):xt(o,u,d))}function Lt(o){q.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Lt,q);var cg=/^https?$/i,ug=["POST","PUT"];e=Lt.prototype,e.Fa=function(o){this.H=o},e.ea=function(o,u,d,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pc.g(),this.g.onreadystatechange=g(h(this.Ca,this));try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(P){Qc(this,P);return}if(o=d||"",d=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)d.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(const P of m.keys())d.set(P,m.get(P));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(d.keys()).find(P=>P.toLowerCase()=="content-type"),C=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(ug,u,void 0)>=0)||m||C||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,G]of d)this.g.setRequestHeader(P,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(P){Qc(this,P)}};function Qc(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.o=5,Xc(o),Ti(o)}function Xc(o){o.A||(o.A=!0,B(o,"complete"),B(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,B(this,"complete"),B(this,"abort"),Ti(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),Lt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Yc(this):this.Xa())},e.Xa=function(){Yc(this)};function Yc(o){if(o.h&&typeof i<"u"){if(o.v&&Sn(o)==4)setTimeout(o.Ca.bind(o),0);else if(B(o,"readystatechange"),Sn(o)==4){o.h=!1;try{const P=o.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}var d;if(!(d=u)){var m;if(m=P===0){let G=String(o.D).match(Bc)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),m=!cg.test(G?G.toLowerCase():"")}d=m}if(d)B(o,"complete"),B(o,"success");else{o.o=6;try{var C=Sn(o)>2?o.g.statusText:""}catch{C=""}o.l=C+" ["+o.ca()+"]",Xc(o)}}finally{Ti(o)}}}}function Ti(o,u){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const d=o.g;o.g=null,u||B(o,"ready");try{d.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Sn(o){return o.g?o.g.readyState:0}e.ca=function(){try{return Sn(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),oe(u)}};function Jc(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function hg(o){const u={};o=(o.g&&Sn(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<o.length;m++){if(y(o[m]))continue;var d=Qm(o[m]);const C=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const P=u[C]||[];u[C]=P,P.push(d)}ze(u,function(m){return m.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(o,u,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||u}function Zc(o){this.za=0,this.i=[],this.j=new hs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ts("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ts("baseRetryDelayMs",5e3,o),this.Za=Ts("retryDelaySeedMs",1e4,o),this.Ta=Ts("forwardChannelMaxRetries",2,o),this.va=Ts("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Mc(o&&o.concurrentRequestLimit),this.Ba=new lg,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Zc.prototype,e.ka=8,e.I=1,e.connect=function(o,u,d,m){pe(0),this.W=o,this.H=u||{},d&&m!==void 0&&(this.H.OSID=d,this.H.OAID=m),this.F=this.X,this.J=lu(this,null,this.W),Ii(this)};function oa(o){if(tu(o),o.I==3){var u=o.V++,d=Ke(o.J);if(xt(d,"SID",o.M),xt(d,"RID",u),xt(d,"TYPE","terminate"),As(o,d),u=new wn(o,o.j,u),u.M=2,u.A=Ei(Ke(d)),d=!1,a.navigator&&a.navigator.sendBeacon)try{d=a.navigator.sendBeacon(u.A.toString(),"")}catch{}!d&&a.Image&&(new Image().src=u.A,d=!0),d||(u.g=cu(u.j,null),u.g.ea(u.A)),u.F=Date.now(),yi(u)}au(o)}function Ai(o){o.g&&(la(o),o.g.cancel(),o.g=null)}function tu(o){Ai(o),o.v&&(a.clearTimeout(o.v),o.v=null),wi(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function Ii(o){if(!kc(o.h)&&!o.m){o.m=!0;var u=o.Ea;it||v(),at||(it(),at=!0),R.add(u,o),o.D=0}}function fg(o,u){return Lc(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=u.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=us(h(o.Ea,o,u),ou(o,o.D)),o.D++,!0)}e.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const C=new wn(this,this.j,o);let P=this.o;if(this.U&&(P?(P=Ie(P),ln(P,this.U)):P=this.U),this.u!==null||this.R||(C.J=P,P=null),this.S)t:{for(var u=0,d=0;d<this.i.length;d++){e:{var m=this.i[d];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break e}m=void 0}if(m===void 0)break;if(u+=m,u>4096){u=d;break t}if(u===4096||d===this.i.length-1){u=d+1;break t}}u=1e3}else u=1e3;u=nu(this,C,u),d=Ke(this.J),xt(d,"RID",o),xt(d,"CVER",22),this.G&&xt(d,"X-HTTP-Session-Id",this.G),As(this,d),P&&(this.R?u="headers="+fs(Wc(P))+"&"+u:this.u&&ia(d,this.u,P)),na(this.h,C),this.Ra&&xt(d,"TYPE","init"),this.S?(xt(d,"$req",u),xt(d,"SID","null"),C.U=!0,Jo(C,d,null)):Jo(C,d,u),this.I=2}}else this.I==3&&(o?eu(this,o):this.i.length==0||kc(this.h)||eu(this))};function eu(o,u){var d;u?d=u.l:d=o.V++;const m=Ke(o.J);xt(m,"SID",o.M),xt(m,"RID",d),xt(m,"AID",o.K),As(o,m),o.u&&o.o&&ia(m,o.u,o.o),d=new wn(o,o.j,d,o.D+1),o.u===null&&(d.J=o.o),u&&(o.i=u.G.concat(o.i)),u=nu(o,d,1e3),d.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),na(o.h,d),Jo(d,m,u)}function As(o,u){o.H&&Ee(o.H,function(d,m){xt(u,m,d)}),o.l&&Ee({},function(d,m){xt(u,m,d)})}function nu(o,u,d){d=Math.min(o.i.length,d);const m=o.l?h(o.l.Ka,o.l,o):null;t:{var C=o.i;let ht=-1;for(;;){const Gt=["count="+d];ht==-1?d>0?(ht=C[0].g,Gt.push("ofs="+ht)):ht=0:Gt.push("ofs="+ht);let Pt=!0;for(let Yt=0;Yt<d;Yt++){var P=C[Yt].g;const We=C[Yt].map;if(P-=ht,P<0)ht=Math.max(0,C[Yt].g-100),Pt=!1;else try{P="req"+P+"_"||"";try{var G=We instanceof Map?We:Object.entries(We);for(const[er,Cn]of G){let Pn=Cn;l(Cn)&&(Pn=vt(Cn)),Gt.push(P+er+"="+encodeURIComponent(Pn))}}catch(er){throw Gt.push(P+"type="+encodeURIComponent("_badmap")),er}}catch{m&&m(We)}}if(Pt){G=Gt.join("&");break t}}G=void 0}return o=o.i.splice(0,d),u.G=o,G}function ru(o){if(!o.g&&!o.v){o.Y=1;var u=o.Da;it||v(),at||(it(),at=!0),R.add(u,o),o.A=0}}function aa(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=us(h(o.Da,o),ou(o,o.A)),o.A++,!0)}e.Da=function(){if(this.v=null,su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=us(h(this.Wa,this),o)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),Ai(this),su(this))};function la(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function su(o){o.g=new wn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var u=Ke(o.na);xt(u,"RID","rpc"),xt(u,"SID",o.M),xt(u,"AID",o.K),xt(u,"CI",o.F?"0":"1"),!o.F&&o.ia&&xt(u,"TO",o.ia),xt(u,"TYPE","xmlhttp"),As(o,u),o.u&&o.o&&ia(u,o.u,o.o),o.O&&(o.g.H=o.O);var d=o.g;o=o.ba,d.M=1,d.A=Ei(Ke(u)),d.u=null,d.R=!0,Nc(d,o)}e.Va=function(){this.C!=null&&(this.C=null,Ai(this),aa(this),pe(19))};function wi(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function iu(o,u){var d=null;if(o.g==u){wi(o),la(o),o.g=null;var m=2}else if(ea(o.h,u))d=u.G,Fc(o.h,u),m=1;else return;if(o.I!=0){if(u.o)if(m==1){d=u.u?u.u.length:0,u=Date.now()-u.F;var C=o.D;m=Yn(),B(m,new Sc(m,d)),Ii(o)}else ru(o);else if(C=u.m,C==3||C==0&&u.X>0||!(m==1&&fg(o,u)||m==2&&aa(o)))switch(d&&d.length>0&&(u=o.h,u.i=u.i.concat(d)),C){case 1:tr(o,5);break;case 4:tr(o,10);break;case 3:tr(o,6);break;default:tr(o,2)}}}function ou(o,u){let d=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(d*=2),d*u}function tr(o,u){if(o.j.info("Error code "+u),u==2){var d=h(o.bb,o),m=o.Ua;const C=!m;m=new Rn(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ps(m,"https"),Ei(m),C?og(m.toString(),d):ag(m.toString(),d)}else pe(2);o.I=0,o.l&&o.l.pa(u),au(o),tu(o)}e.bb=function(o){o?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function au(o){if(o.I=0,o.ja=[],o.l){const u=Uc(o.h);(u.length!=0||o.i.length!=0)&&(V(o.ja,u),V(o.ja,o.i),o.h.i.length=0,T(o.i),o.i.length=0),o.l.oa()}}function lu(o,u,d){var m=d instanceof Rn?Ke(d):new Rn(d);if(m.g!="")u&&(m.g=u+"."+m.g),ms(m,m.u);else{var C=a.location;m=C.protocol,u=u?u+"."+C.hostname:C.hostname,C=+C.port;const P=new Rn(null);m&&ps(P,m),u&&(P.g=u),C&&ms(P,C),d&&(P.h=d),m=P}return d=o.G,u=o.wa,d&&u&&xt(m,d,u),xt(m,"VER",o.ka),As(o,m),m}function cu(o,u,d){if(u&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Aa&&!o.ma?new Lt(new sa({ab:d})):new Lt(o.ma),u.Fa(o.L),u}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function uu(){}e=uu.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Ri(){}Ri.prototype.g=function(o,u){return new be(o,u)};function be(o,u){q.call(this),this.g=new Zc(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.sa&&(o?o["X-WebChannel-Client-Profile"]=u.sa:o={"X-WebChannel-Client-Profile":u.sa}),this.g.U=o,(o=u&&u.Qb)&&!y(o)&&(this.g.u=o),this.A=u&&u.supportsCrossDomainXhr||!1,this.v=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!y(u)&&(this.g.G=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new Pr(this)}p(be,q),be.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},be.prototype.close=function(){oa(this.g)},be.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.v&&(d={},d.__data__=vt(o),o=d);u.i.push(new Jm(u.Ya++,o)),u.I==3&&Ii(u)},be.prototype.N=function(){this.g.l=null,delete this.j,oa(this.g),delete this.g,be.Z.N.call(this)};function hu(o){br.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){t:{for(const d in u){o=d;break t}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}p(hu,br);function fu(){ee.call(this),this.status=1}p(fu,ee);function Pr(o){this.g=o}p(Pr,uu),Pr.prototype.ra=function(){B(this.g,"a")},Pr.prototype.qa=function(o){B(this.g,new hu(o))},Pr.prototype.pa=function(o){B(this.g,new fu)},Pr.prototype.oa=function(){B(this.g,"b")},Ri.prototype.createWebChannel=Ri.prototype.g,be.prototype.send=be.prototype.o,be.prototype.open=be.prototype.m,be.prototype.close=be.prototype.close,yp=function(){return new Ri},_p=function(){return Yn()},gp=Xt,rl={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_i.NO_ERROR=0,_i.TIMEOUT=8,_i.HTTP_ERROR=6,qi=_i,Cc.COMPLETE="complete",mp=Cc,Re.EventType=Fe,Fe.OPEN="a",Fe.CLOSE="b",Fe.ERROR="c",Fe.MESSAGE="d",q.prototype.listen=q.prototype.J,Ss=Re,Lt.prototype.listenOnce=Lt.prototype.K,Lt.prototype.getLastError=Lt.prototype.Ha,Lt.prototype.getLastErrorCode=Lt.prototype.ya,Lt.prototype.getStatus=Lt.prototype.ca,Lt.prototype.getResponseJson=Lt.prototype.La,Lt.prototype.getResponseText=Lt.prototype.la,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Fa,pp=Lt}).apply(typeof Di<"u"?Di:typeof self<"u"?self:typeof window<"u"?window:{});const Sh="@firebase/firestore",Ch="4.9.3";class ce{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ce.UNAUTHENTICATED=new ce(null),ce.GOOGLE_CREDENTIALS=new ce("google-credentials-uid"),ce.FIRST_PARTY=new ce("first-party-uid"),ce.MOCK_USER=new ce("mock-user");let rs="12.7.0";const Er=new ap("@firebase/firestore");function xr(){return Er.logLevel}function J(e,...t){if(Er.logLevel<=yt.DEBUG){const n=t.map(Gl);Er.debug(`Firestore (${rs}): ${e}`,...n)}}function Tn(e,...t){if(Er.logLevel<=yt.ERROR){const n=t.map(Gl);Er.error(`Firestore (${rs}): ${e}`,...n)}}function Xr(e,...t){if(Er.logLevel<=yt.WARN){const n=t.map(Gl);Er.warn(`Firestore (${rs}): ${e}`,...n)}}function Gl(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function ot(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,Ep(e,r,n)}function Ep(e,t,n){let r=`FIRESTORE (${rs}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Tn(r),new Error(r)}function bt(e,t,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,e||Ep(t,s,r)}function ut(e,t){return e}const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends ns{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class vp{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class aA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(ce.UNAUTHENTICATED)))}shutdown(){}}class lA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class cA{constructor(t){this.t=t,this.currentUser=ce.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){bt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new gr,t.enqueueRetryable((()=>s(this.currentUser)))};const a=()=>{const c=i;t.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},l=c=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new gr)}}),0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string",31837,{l:r}),new vp(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return bt(t===null||typeof t=="string",2055,{h:t}),new ce(t)}}class uA{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=ce.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hA{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new uA(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(ce.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ph{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fA{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,HT(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){bt(this.o===void 0,3512);const r=i=>{i.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,J("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable((()=>r(i)))};const s=i=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ph(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ph(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dA(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class zl{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=dA(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%62))}return r}}function pt(e,t){return e<t?-1:e>t?1:0}function sl(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const s=e.charAt(r),i=t.charAt(r);if(s!==i)return Va(s)===Va(i)?pt(s,i):Va(s)?1:-1}return pt(e.length,t.length)}const pA=55296,mA=57343;function Va(e){const t=e.charCodeAt(0);return t>=pA&&t<=mA}function Yr(e,t,n){return e.length===t.length&&e.every(((r,s)=>n(r,t[s])))}const Vh="__name__";class Ye{constructor(t,n,r){n===void 0?n=0:n>t.length&&ot(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&ot(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ye.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ye?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=Ye.compareSegments(t.get(s),n.get(s));if(i!==0)return i}return pt(t.length,n.length)}static compareSegments(t,n){const r=Ye.isNumericId(t),s=Ye.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ye.extractNumericId(t).compare(Ye.extractNumericId(n)):sl(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return jn.fromString(t.substring(4,t.length-2))}}class Nt extends Ye{construct(t,n,r){return new Nt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new X(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Nt(n)}static emptyPath(){return new Nt([])}}const gA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class re extends Ye{construct(t,n,r){return new re(t,n,r)}static isValidIdentifier(t){return gA.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),re.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vh}static keyField(){return new re([Vh])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(k.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<t.length;){const l=t[s];if(l==="\\"){if(s+1===t.length)throw new X(k.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new X(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new X(k.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new re(n)}static emptyPath(){return new re([])}}class et{constructor(t){this.path=t}static fromPath(t){return new et(Nt.fromString(t))}static fromName(t){return new et(Nt.fromString(t).popFirst(5))}static empty(){return new et(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Nt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Nt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new et(new Nt(t.slice()))}}function Tp(e,t,n){if(!n)throw new X(k.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function _A(e,t,n,r){if(t===!0&&r===!0)throw new X(k.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Dh(e){if(!et.isDocumentKey(e))throw new X(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Nh(e){if(et.isDocumentKey(e))throw new X(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ap(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Lo(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ot(12329,{type:typeof e})}function Hr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new X(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lo(e);throw new X(k.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Ht(e,t){const n={typeString:e};return t&&(n.value=t),n}function fi(e,t){if(!Ap(e))throw new X(k.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const s=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new X(k.INVALID_ARGUMENT,n);return!0}const xh=-62135596800,Oh=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(t){return Ot.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Oh);return new Ot(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new X(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<xh)throw new X(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new X(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Oh}_compareTo(t){return this.seconds===t.seconds?pt(this.nanoseconds,t.nanoseconds):pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(fi(t,Ot._jsonSchema))return new Ot(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-xh;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ot._jsonSchemaVersion="firestore/timestamp/1.0",Ot._jsonSchema={type:Ht("string",Ot._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};class lt{static fromTimestamp(t){return new lt(t)}static min(){return new lt(new Ot(0,0))}static max(){return new lt(new Ot(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ei=-1;function yA(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=lt.fromTimestamp(r===1e9?new Ot(n+1,0):new Ot(n,r));return new Hn(s,et.empty(),t)}function EA(e){return new Hn(e.readTime,e.key,ei)}class Hn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Hn(lt.min(),et.empty(),ei)}static max(){return new Hn(lt.max(),et.empty(),ei)}}function vA(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=et.comparator(e.documentKey,t.documentKey),n!==0?n:pt(e.largestBatchId,t.largestBatchId))}const TA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ss(e){if(e.code!==k.FAILED_PRECONDITION||e.message!==TA)throw e;J("LocalStore","Unexpectedly lost primary lease")}class L{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ot(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new L(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):L.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):L.reject(n)}static resolve(t){return new L(((n,r)=>{n(t)}))}static reject(t){return new L(((n,r)=>{r(t)}))}static waitFor(t){return new L(((n,r)=>{let s=0,i=0,a=!1;t.forEach((l=>{++s,l.next((()=>{++i,a&&i===s&&n()}),(c=>r(c)))})),a=!0,i===s&&n()}))}static or(t){let n=L.resolve(!1);for(const r of t)n=n.next((s=>s?L.resolve(s):r()));return n}static forEach(t,n){const r=[];return t.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(t,n){return new L(((r,s)=>{const i=t.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const h=c;n(t[h]).next((f=>{a[h]=f,++l,l===i&&r(a)}),(f=>s(f)))}}))}static doWhile(t,n){return new L(((r,s)=>{const i=()=>{t()===!0?n().next((()=>{i()}),s):r()};i()}))}}function IA(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function is(e){return e.name==="IndexedDbTransactionError"}class Fo{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Fo.ce=-1;const Kl=-1;function Uo(e){return e==null}function co(e){return e===0&&1/e==-1/0}function wA(e){return typeof e=="number"&&Number.isInteger(e)&&!co(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Ip="";function RA(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Mh(t)),t=bA(e.get(n),t);return Mh(t)}function bA(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const i=e.charAt(s);switch(i){case"\0":n+="";break;case Ip:n+="";break;default:n+=i}}return n}function Mh(e){return e+Ip+""}function kh(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Tr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function wp(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class kt{constructor(t,n){this.comparator=t,this.root=n||ne.EMPTY}insert(t,n){return new kt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ne.BLACK,null,null))}remove(t){return new kt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ne.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ni(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ni(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ni(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ni(this.root,t,this.comparator,!0)}}class Ni{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ne{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??ne.RED,this.left=s??ne.EMPTY,this.right=i??ne.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new ne(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ne.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return ne.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ne.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ne.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ot(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ot(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ot(27949);return t+(this.isRed()?0:1)}}ne.EMPTY=null,ne.RED=!0,ne.BLACK=!1;ne.EMPTY=new class{constructor(){this.size=0}get key(){throw ot(57766)}get value(){throw ot(16141)}get color(){throw ot(16727)}get left(){throw ot(29726)}get right(){throw ot(36894)}copy(t,n,r,s,i){return this}insert(t,n,r){return new ne(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qt{constructor(t){this.comparator=t,this.data=new kt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Lh(this.data.getIterator())}getIteratorFrom(t){return new Lh(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Qt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Qt(this.comparator);return n.data=t,n}}class Lh{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Be{constructor(t){this.fields=t,t.sort(re.comparator)}static empty(){return new Be([])}unionWith(t){let n=new Qt(re.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Be(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Yr(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class Rp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class se{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Rp("Invalid base64 string: "+i):i}})(t);return new se(n)}static fromUint8Array(t){const n=(function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i})(t);return new se(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}se.EMPTY_BYTE_STRING=new se("");const SA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gn(e){if(bt(!!e,39018),typeof e=="string"){let t=0;const n=SA.exec(e);if(bt(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Bt(e.seconds),nanos:Bt(e.nanos)}}function Bt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function zn(e){return typeof e=="string"?se.fromBase64String(e):se.fromUint8Array(e)}const bp="server_timestamp",Sp="__type__",Cp="__previous_value__",Pp="__local_write_time__";function Wl(e){return(e?.mapValue?.fields||{})[Sp]?.stringValue===bp}function Bo(e){const t=e.mapValue.fields[Cp];return Wl(t)?Bo(t):t}function ni(e){const t=Gn(e.mapValue.fields[Pp].timestampValue);return new Ot(t.seconds,t.nanos)}class CA{constructor(t,n,r,s,i,a,l,c,h,f){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=f}}const uo="(default)";class ri{constructor(t,n){this.projectId=t,this.database=n||uo}static empty(){return new ri("","")}get isDefaultDatabase(){return this.database===uo}isEqual(t){return t instanceof ri&&t.projectId===this.projectId&&t.database===this.database}}const Vp="__type__",PA="__max__",xi={mapValue:{}},Dp="__vector__",ho="value";function Kn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Wl(e)?4:DA(e)?9007199254740991:VA(e)?10:11:ot(28295,{value:e})}function an(e,t){if(e===t)return!0;const n=Kn(e);if(n!==Kn(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ni(e).isEqual(ni(t));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Gn(s.timestampValue),l=Gn(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(s,i){return zn(s.bytesValue).isEqual(zn(i.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(s,i){return Bt(s.geoPointValue.latitude)===Bt(i.geoPointValue.latitude)&&Bt(s.geoPointValue.longitude)===Bt(i.geoPointValue.longitude)})(e,t);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Bt(s.integerValue)===Bt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Bt(s.doubleValue),l=Bt(i.doubleValue);return a===l?co(a)===co(l):isNaN(a)&&isNaN(l)}return!1})(e,t);case 9:return Yr(e.arrayValue.values||[],t.arrayValue.values||[],an);case 10:case 11:return(function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(kh(a)!==kh(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!an(a[c],l[c])))return!1;return!0})(e,t);default:return ot(52216,{left:e})}}function si(e,t){return(e.values||[]).find((n=>an(n,t)))!==void 0}function Jr(e,t){if(e===t)return 0;const n=Kn(e),r=Kn(t);if(n!==r)return pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pt(e.booleanValue,t.booleanValue);case 2:return(function(i,a){const l=Bt(i.integerValue||i.doubleValue),c=Bt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(e,t);case 3:return Fh(e.timestampValue,t.timestampValue);case 4:return Fh(ni(e),ni(t));case 5:return sl(e.stringValue,t.stringValue);case 6:return(function(i,a){const l=zn(i),c=zn(a);return l.compareTo(c)})(e.bytesValue,t.bytesValue);case 7:return(function(i,a){const l=i.split("/"),c=a.split("/");for(let h=0;h<l.length&&h<c.length;h++){const f=pt(l[h],c[h]);if(f!==0)return f}return pt(l.length,c.length)})(e.referenceValue,t.referenceValue);case 8:return(function(i,a){const l=pt(Bt(i.latitude),Bt(a.latitude));return l!==0?l:pt(Bt(i.longitude),Bt(a.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return Uh(e.arrayValue,t.arrayValue);case 10:return(function(i,a){const l=i.fields||{},c=a.fields||{},h=l[ho]?.arrayValue,f=c[ho]?.arrayValue,p=pt(h?.values?.length||0,f?.values?.length||0);return p!==0?p:Uh(h,f)})(e.mapValue,t.mapValue);case 11:return(function(i,a){if(i===xi.mapValue&&a===xi.mapValue)return 0;if(i===xi.mapValue)return 1;if(a===xi.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),h=a.fields||{},f=Object.keys(h);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const g=sl(c[p],f[p]);if(g!==0)return g;const T=Jr(l[c[p]],h[f[p]]);if(T!==0)return T}return pt(c.length,f.length)})(e.mapValue,t.mapValue);default:throw ot(23264,{he:n})}}function Fh(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return pt(e,t);const n=Gn(e),r=Gn(t),s=pt(n.seconds,r.seconds);return s!==0?s:pt(n.nanos,r.nanos)}function Uh(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Jr(n[s],r[s]);if(i)return i}return pt(n.length,r.length)}function Zr(e){return il(e)}function il(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const r=Gn(n);return`time(${r.seconds},${r.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return zn(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return et.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=il(i);return r+"]"})(e.arrayValue):"mapValue"in e?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${il(n.fields[a])}`;return s+"}"})(e.mapValue):ot(61005,{value:e})}function $i(e){switch(Kn(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Bo(e);return t?16+$i(t):16;case 5:return 2*e.stringValue.length;case 6:return zn(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+$i(i)),0)})(e.arrayValue);case 10:case 11:return(function(r){let s=0;return Tr(r.fields,((i,a)=>{s+=i.length+$i(a)})),s})(e.mapValue);default:throw ot(13486,{value:e})}}function Bh(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ol(e){return!!e&&"integerValue"in e}function Ql(e){return!!e&&"arrayValue"in e}function jh(e){return!!e&&"nullValue"in e}function qh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Hi(e){return!!e&&"mapValue"in e}function VA(e){return(e?.mapValue?.fields||{})[Vp]?.stringValue===Dp}function js(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Tr(e.mapValue.fields,((n,r)=>t.mapValue.fields[n]=js(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=js(e.arrayValue.values[n]);return t}return{...e}}function DA(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===PA}class Ne{constructor(t){this.value=t}static empty(){return new Ne({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Hi(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=js(n)}setAll(t){let n=re.emptyPath(),r={},s=[];t.forEach(((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=js(a):s.push(l.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());Hi(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return an(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];Hi(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){Tr(n,((s,i)=>t[s]=i));for(const s of r)delete t[s]}clone(){return new Ne(js(this.value))}}function Np(e){const t=[];return Tr(e.fields,((n,r)=>{const s=new re([n]);if(Hi(r)){const i=Np(r.mapValue).fields;if(i.length===0)t.push(s);else for(const a of i)t.push(s.child(a))}else t.push(s)})),new Be(t)}class he{constructor(t,n,r,s,i,a,l){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(t){return new he(t,0,lt.min(),lt.min(),lt.min(),Ne.empty(),0)}static newFoundDocument(t,n,r,s){return new he(t,1,n,lt.min(),r,s,0)}static newNoDocument(t,n){return new he(t,2,n,lt.min(),lt.min(),Ne.empty(),0)}static newUnknownDocument(t,n){return new he(t,3,n,lt.min(),lt.min(),Ne.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ne.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ne.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof he&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new he(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fo{constructor(t,n){this.position=t,this.inclusive=n}}function $h(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(i.field.isKeyField()?r=et.comparator(et.fromName(a.referenceValue),n.key):r=Jr(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hh(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!an(e.position[n],t.position[n]))return!1;return!0}class ii{constructor(t,n="asc"){this.field=t,this.dir=n}}function NA(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class xp{}class $t extends xp{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new OA(t,n,r):n==="array-contains"?new LA(t,r):n==="in"?new FA(t,r):n==="not-in"?new UA(t,r):n==="array-contains-any"?new BA(t,r):new $t(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new MA(t,r):new kA(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jr(n,this.value)):n!==null&&Kn(this.value)===Kn(n)&&this.matchesComparison(Jr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ot(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ge extends xp{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ge(t,n)}matches(t){return Op(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Op(e){return e.op==="and"}function Mp(e){return xA(e)&&Op(e)}function xA(e){for(const t of e.filters)if(t instanceof Ge)return!1;return!0}function al(e){if(e instanceof $t)return e.field.canonicalString()+e.op.toString()+Zr(e.value);if(Mp(e))return e.filters.map((t=>al(t))).join(",");{const t=e.filters.map((n=>al(n))).join(",");return`${e.op}(${t})`}}function kp(e,t){return e instanceof $t?(function(r,s){return s instanceof $t&&r.op===s.op&&r.field.isEqual(s.field)&&an(r.value,s.value)})(e,t):e instanceof Ge?(function(r,s){return s instanceof Ge&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,a,l)=>i&&kp(a,s.filters[l])),!0):!1})(e,t):void ot(19439)}function Lp(e){return e instanceof $t?(function(n){return`${n.field.canonicalString()} ${n.op} ${Zr(n.value)}`})(e):e instanceof Ge?(function(n){return n.op.toString()+" {"+n.getFilters().map(Lp).join(" ,")+"}"})(e):"Filter"}class OA extends $t{constructor(t,n,r){super(t,n,r),this.key=et.fromName(r.referenceValue)}matches(t){const n=et.comparator(t.key,this.key);return this.matchesComparison(n)}}class MA extends $t{constructor(t,n){super(t,"in",n),this.keys=Fp("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class kA extends $t{constructor(t,n){super(t,"not-in",n),this.keys=Fp("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Fp(e,t){return(t.arrayValue?.values||[]).map((n=>et.fromName(n.referenceValue)))}class LA extends $t{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ql(n)&&si(n.arrayValue,this.value)}}class FA extends $t{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&si(this.value.arrayValue,n)}}class UA extends $t{constructor(t,n){super(t,"not-in",n)}matches(t){if(si(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!si(this.value.arrayValue,n)}}class BA extends $t{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ql(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>si(this.value.arrayValue,r)))}}class jA{constructor(t,n=null,r=[],s=[],i=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}}function Gh(e,t=null,n=[],r=[],s=null,i=null,a=null){return new jA(e,t,n,r,s,i,a)}function Xl(e){const t=ut(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>al(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Uo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>Zr(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>Zr(r))).join(",")),t.Te=n}return t.Te}function Yl(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!NA(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!kp(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Hh(e.startAt,t.startAt)&&Hh(e.endAt,t.endAt)}function ll(e){return et.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class os{constructor(t,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qA(e,t,n,r,s,i,a,l){return new os(e,t,n,r,s,i,a,l)}function Jl(e){return new os(e)}function zh(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Up(e){return e.collectionGroup!==null}function qs(e){const t=ut(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),n.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Qt(re.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((h=>{h.isInequality()&&(l=l.add(h.field))}))})),l})(t).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||t.Ie.push(new ii(i,r))})),n.has(re.keyField().canonicalString())||t.Ie.push(new ii(re.keyField(),r))}return t.Ie}function tn(e){const t=ut(e);return t.Ee||(t.Ee=$A(t,qs(e))),t.Ee}function $A(e,t){if(e.limitType==="F")return Gh(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new ii(s.field,i)}));const n=e.endAt?new fo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new fo(e.startAt.position,e.startAt.inclusive):null;return Gh(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function cl(e,t){const n=e.filters.concat([t]);return new os(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ul(e,t,n){return new os(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function jo(e,t){return Yl(tn(e),tn(t))&&e.limitType===t.limitType}function Bp(e){return`${Xl(tn(e))}|lt:${e.limitType}`}function Or(e){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>Lp(s))).join(", ")}]`),Uo(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Zr(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Zr(s))).join(",")),`Target(${r})`})(tn(e))}; limitType=${e.limitType})`}function qo(e,t){return t.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):et.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(e,t)&&(function(r,s){for(const i of qs(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(e,t)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(e,t)&&(function(r,s){return!(r.startAt&&!(function(a,l,c){const h=$h(a,l,c);return a.inclusive?h<=0:h<0})(r.startAt,qs(r),s)||r.endAt&&!(function(a,l,c){const h=$h(a,l,c);return a.inclusive?h>=0:h>0})(r.endAt,qs(r),s))})(e,t)}function HA(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function jp(e){return(t,n)=>{let r=!1;for(const s of qs(e)){const i=GA(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function GA(e,t,n){const r=e.field.isKeyField()?et.comparator(t.key,n.key):(function(i,a,l){const c=a.data.field(i),h=l.data.field(i);return c!==null&&h!==null?Jr(c,h):ot(42886)})(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ot(19790,{direction:e.dir})}}class Ar{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Tr(this.inner,((n,r)=>{for(const[s,i]of r)t(s,i)}))}isEmpty(){return wp(this.inner)}size(){return this.innerSize}}const zA=new kt(et.comparator);function An(){return zA}const qp=new kt(et.comparator);function Cs(...e){let t=qp;for(const n of e)t=t.insert(n.key,n);return t}function $p(e){let t=qp;return e.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function fr(){return $s()}function Hp(){return $s()}function $s(){return new Ar((e=>e.toString()),((e,t)=>e.isEqual(t)))}const KA=new kt(et.comparator),WA=new Qt(et.comparator);function mt(...e){let t=WA;for(const n of e)t=t.add(n);return t}const QA=new Qt(pt);function XA(){return QA}function Zl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:co(t)?"-0":t}}function Gp(e){return{integerValue:""+e}}function YA(e,t){return wA(t)?Gp(t):Zl(e,t)}class $o{constructor(){this._=void 0}}function JA(e,t,n){return e instanceof po?(function(s,i){const a={fields:{[Sp]:{stringValue:bp},[Pp]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Wl(i)&&(i=Bo(i)),i&&(a.fields[Cp]=i),{mapValue:a}})(n,t):e instanceof oi?Kp(e,t):e instanceof ai?Wp(e,t):(function(s,i){const a=zp(s,i),l=Kh(a)+Kh(s.Ae);return ol(a)&&ol(s.Ae)?Gp(l):Zl(s.serializer,l)})(e,t)}function ZA(e,t,n){return e instanceof oi?Kp(e,t):e instanceof ai?Wp(e,t):n}function zp(e,t){return e instanceof mo?(function(r){return ol(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(t)?t:{integerValue:0}:null}class po extends $o{}class oi extends $o{constructor(t){super(),this.elements=t}}function Kp(e,t){const n=Qp(t);for(const r of e.elements)n.some((s=>an(s,r)))||n.push(r);return{arrayValue:{values:n}}}class ai extends $o{constructor(t){super(),this.elements=t}}function Wp(e,t){let n=Qp(t);for(const r of e.elements)n=n.filter((s=>!an(s,r)));return{arrayValue:{values:n}}}class mo extends $o{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Kh(e){return Bt(e.integerValue||e.doubleValue)}function Qp(e){return Ql(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function tI(e,t){return e.field.isEqual(t.field)&&(function(r,s){return r instanceof oi&&s instanceof oi||r instanceof ai&&s instanceof ai?Yr(r.elements,s.elements,an):r instanceof mo&&s instanceof mo?an(r.Ae,s.Ae):r instanceof po&&s instanceof po})(e.transform,t.transform)}class eI{constructor(t,n){this.version=t,this.transformResults=n}}class en{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new en}static exists(t){return new en(void 0,t)}static updateTime(t){return new en(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gi(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Ho{}function Xp(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new tc(e.key,en.none()):new di(e.key,e.data,en.none());{const n=e.data,r=Ne.empty();let s=new Qt(re.comparator);for(let i of t.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Ir(e.key,r,new Be(s.toArray()),en.none())}}function nI(e,t,n){e instanceof di?(function(s,i,a){const l=s.value.clone(),c=Qh(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(e,t,n):e instanceof Ir?(function(s,i,a){if(!Gi(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=Qh(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(Yp(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(e,t,n):(function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()})(0,t,n)}function Hs(e,t,n,r){return e instanceof di?(function(i,a,l,c){if(!Gi(i.precondition,a))return l;const h=i.value.clone(),f=Xh(i.fieldTransforms,c,a);return h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null})(e,t,n,r):e instanceof Ir?(function(i,a,l,c){if(!Gi(i.precondition,a))return l;const h=Xh(i.fieldTransforms,c,a),f=a.data;return f.setAll(Yp(i)),f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((p=>p.field)))})(e,t,n,r):(function(i,a,l){return Gi(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(e,t,n)}function rI(e,t){let n=null;for(const r of e.fieldTransforms){const s=t.data.field(r.field),i=zp(r.transform,s||null);i!=null&&(n===null&&(n=Ne.empty()),n.set(r.field,i))}return n||null}function Wh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Yr(r,s,((i,a)=>tI(i,a)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class di extends Ho{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ir extends Ho{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Yp(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Qh(e,t,n){const r=new Map;bt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,l=t.data.field(i.field);r.set(i.field,ZA(a,l,n[s]))}return r}function Xh(e,t,n){const r=new Map;for(const s of e){const i=s.transform,a=n.data.field(s.field);r.set(s.field,JA(i,a,t))}return r}class tc extends Ho{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sI extends Ho{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iI{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&nI(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Hs(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Hs(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Hp();return this.mutations.forEach((s=>{const i=t.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=Xp(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(lt.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),mt())}isEqual(t){return this.batchId===t.batchId&&Yr(this.mutations,t.mutations,((n,r)=>Wh(n,r)))&&Yr(this.baseMutations,t.baseMutations,((n,r)=>Wh(n,r)))}}class ec{constructor(t,n,r,s){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(t,n,r){bt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let s=(function(){return KA})();const i=t.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new ec(t,n,r,s)}}class oI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class aI{constructor(t,n){this.count=t,this.unchangedNames=n}}var qt,_t;function lI(e){switch(e){case k.OK:return ot(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return ot(15467,{code:e})}}function Jp(e){if(e===void 0)return Tn("GRPC error has no .code"),k.UNKNOWN;switch(e){case qt.OK:return k.OK;case qt.CANCELLED:return k.CANCELLED;case qt.UNKNOWN:return k.UNKNOWN;case qt.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case qt.INTERNAL:return k.INTERNAL;case qt.UNAVAILABLE:return k.UNAVAILABLE;case qt.UNAUTHENTICATED:return k.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case qt.NOT_FOUND:return k.NOT_FOUND;case qt.ALREADY_EXISTS:return k.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return k.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case qt.ABORTED:return k.ABORTED;case qt.OUT_OF_RANGE:return k.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return k.UNIMPLEMENTED;case qt.DATA_LOSS:return k.DATA_LOSS;default:return ot(39323,{code:e})}}(_t=qt||(qt={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";function cI(){return new TextEncoder}const uI=new jn([4294967295,4294967295],0);function Yh(e){const t=cI().encode(e),n=new dp;return n.update(t),new Uint8Array(n.digest())}function Jh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new jn([n,r],0),new jn([s,i],0)]}class nc{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ps(`Invalid padding: ${n}`);if(r<0)throw new Ps(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ps(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Ps(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=jn.fromNumber(this.ge)}ye(t,n,r){let s=t.add(n.multiply(jn.fromNumber(r)));return s.compare(uI)===1&&(s=new jn([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Yh(t),[r,s]=Jh(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),a=new nc(i,s,n);return r.forEach((l=>a.insert(l))),a}insert(t){if(this.ge===0)return;const n=Yh(t),[r,s]=Jh(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Ps extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Go{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,pi.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Go(lt.min(),s,new kt(pt),An(),mt())}}class pi{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new pi(r,n,mt(),mt(),mt())}}class zi{constructor(t,n,r,s){this.be=t,this.removedTargetIds=n,this.key=r,this.De=s}}class Zp{constructor(t,n){this.targetId=t,this.Ce=n}}class tm{constructor(t,n,r=se.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Zh{constructor(){this.ve=0,this.Fe=tf(),this.Me=se.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=mt(),n=mt(),r=mt();return this.Fe.forEach(((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ot(38017,{changeType:i})}})),new pi(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=tf()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hI{constructor(t){this.Ge=t,this.ze=new Map,this.je=An(),this.Je=Oi(),this.He=Oi(),this.Ye=new kt(pt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:ot(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(t){const n=t.targetId,r=t.Ce.count,s=this.ot(n);if(s){const i=s.target;if(ll(i))if(r===0){const a=new et(i.path);this.et(n,a,he.newNoDocument(a,lt.min()))}else bt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(t),c=l?this.ct(l,t,a):1;if(c!==0){this.it(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=zn(r).toUint8Array()}catch(c){if(c instanceof Rp)return Xr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new nc(a,s,i)}catch(c){return Xr(c instanceof Ps?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;t.mightContain(l)||(this.et(n,i,null),s++)})),s}Tt(t){const n=new Map;this.ze.forEach(((i,a)=>{const l=this.ot(a);if(l){if(i.current&&ll(l.target)){const c=new et(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,he.newNoDocument(c,t))}i.Be&&(n.set(a,i.ke()),i.qe())}}));let r=mt();this.He.forEach(((i,a)=>{let l=!0;a.forEachWhile((c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(i))})),this.je.forEach(((i,a)=>a.setReadTime(t)));const s=new Go(t,n,this.Ye,this.je,r);return this.je=An(),this.Je=Oi(),this.He=Oi(),this.Ye=new kt(pt),s}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Zh,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Qt(pt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Qt(pt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||J("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Zh),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Oi(){return new kt(et.comparator)}function tf(){return new kt(et.comparator)}const fI={asc:"ASCENDING",desc:"DESCENDING"},dI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pI={and:"AND",or:"OR"};class mI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function hl(e,t){return e.useProto3Json||Uo(t)?t:{value:t}}function go(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function em(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function gI(e,t){return go(e,t.toTimestamp())}function nn(e){return bt(!!e,49232),lt.fromTimestamp((function(n){const r=Gn(n);return new Ot(r.seconds,r.nanos)})(e))}function rc(e,t){return fl(e,t).canonicalString()}function fl(e,t){const n=(function(s){return new Nt(["projects",s.projectId,"databases",s.database])})(e).child("documents");return t===void 0?n:n.child(t)}function nm(e){const t=Nt.fromString(e);return bt(am(t),10190,{key:t.toString()}),t}function dl(e,t){return rc(e.databaseId,t.path)}function Da(e,t){const n=nm(t);if(n.get(1)!==e.databaseId.projectId)throw new X(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new X(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new et(sm(n))}function rm(e,t){return rc(e.databaseId,t)}function _I(e){const t=nm(e);return t.length===4?Nt.emptyPath():sm(t)}function pl(e){return new Nt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sm(e){return bt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function ef(e,t,n){return{name:dl(e,t),fields:n.value.mapValue.fields}}function yI(e,t){let n;if("targetChange"in t){t.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ot(39313,{state:h})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=(function(h,f){return h.useProto3Json?(bt(f===void 0||typeof f=="string",58123),se.fromBase64String(f||"")):(bt(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),se.fromUint8Array(f||new Uint8Array))})(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&(function(h){const f=h.code===void 0?k.UNKNOWN:Jp(h.code);return new X(f,h.message||"")})(a);n=new tm(r,s,i,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Da(e,r.document.name),i=nn(r.document.updateTime),a=r.document.createTime?nn(r.document.createTime):lt.min(),l=new Ne({mapValue:{fields:r.document.fields}}),c=he.newFoundDocument(s,i,a,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new zi(h,f,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Da(e,r.document),i=r.readTime?nn(r.readTime):lt.min(),a=he.newNoDocument(s,i),l=r.removedTargetIds||[];n=new zi([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Da(e,r.document),i=r.removedTargetIds||[];n=new zi([],i,s,null)}else{if(!("filter"in t))return ot(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new aI(s,i),l=r.targetId;n=new Zp(l,a)}}return n}function EI(e,t){let n;if(t instanceof di)n={update:ef(e,t.key,t.value)};else if(t instanceof tc)n={delete:dl(e,t.key)};else if(t instanceof Ir)n={update:ef(e,t.key,t.data),updateMask:CI(t.fieldMask)};else{if(!(t instanceof sI))return ot(16599,{Vt:t.type});n={verify:dl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(i,a){const l=a.transform;if(l instanceof po)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof oi)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ai)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof mo)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw ot(20930,{transform:a.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:gI(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ot(27497)})(e,t.precondition)),n}function vI(e,t){return e&&e.length>0?(bt(t!==void 0,14353),e.map((n=>(function(s,i){let a=s.updateTime?nn(s.updateTime):nn(i);return a.isEqual(lt.min())&&(a=nn(i)),new eI(a,s.transformResults||[])})(n,t)))):[]}function TI(e,t){return{documents:[rm(e,t.path)]}}function AI(e,t){const n={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rm(e,s);const i=(function(h){if(h.length!==0)return om(Ge.create(h,"and"))})(t.filters);i&&(n.structuredQuery.where=i);const a=(function(h){if(h.length!==0)return h.map((f=>(function(g){return{field:Mr(g.field),direction:RI(g.dir)}})(f)))})(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=hl(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(t.endAt)),{ft:n,parent:s}}function II(e){let t=_I(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){bt(r===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:t=t.child(f.collectionId)}let i=[];n.where&&(i=(function(p){const g=im(p);return g instanceof Ge&&Mp(g)?g.getFilters():[g]})(n.where));let a=[];n.orderBy&&(a=(function(p){return p.map((g=>(function(V){return new ii(kr(V.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(g)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let g;return g=typeof p=="object"?p.value:p,Uo(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,T=p.values||[];return new fo(T,g)})(n.startAt));let h=null;return n.endAt&&(h=(function(p){const g=!p.before,T=p.values||[];return new fo(T,g)})(n.endAt)),qA(t,s,a,i,l,"F",c,h)}function wI(e,t){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot(28987,{purpose:s})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function im(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=kr(n.unaryFilter.field);return $t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=kr(n.unaryFilter.field);return $t.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=kr(n.unaryFilter.field);return $t.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=kr(n.unaryFilter.field);return $t.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ot(61313);default:return ot(60726)}})(e):e.fieldFilter!==void 0?(function(n){return $t.create(kr(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ot(58110);default:return ot(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Ge.create(n.compositeFilter.filters.map((r=>im(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ot(1026)}})(n.compositeFilter.op))})(e):ot(30097,{filter:e})}function RI(e){return fI[e]}function bI(e){return dI[e]}function SI(e){return pI[e]}function Mr(e){return{fieldPath:e.canonicalString()}}function kr(e){return re.fromServerFormat(e.fieldPath)}function om(e){return e instanceof $t?(function(n){if(n.op==="=="){if(qh(n.value))return{unaryFilter:{field:Mr(n.field),op:"IS_NAN"}};if(jh(n.value))return{unaryFilter:{field:Mr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qh(n.value))return{unaryFilter:{field:Mr(n.field),op:"IS_NOT_NAN"}};if(jh(n.value))return{unaryFilter:{field:Mr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mr(n.field),op:bI(n.op),value:n.value}}})(e):e instanceof Ge?(function(n){const r=n.getFilters().map((s=>om(s)));return r.length===1?r[0]:{compositeFilter:{op:SI(n.op),filters:r}}})(e):ot(54877,{filter:e})}function CI(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function am(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class Ln{constructor(t,n,r,s,i=lt.min(),a=lt.min(),l=se.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(t){return new Ln(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ln(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ln(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ln(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class PI{constructor(t){this.yt=t}}function VI(e){const t=II({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ul(t,t.limit,"L"):t}class DI{constructor(){this.Cn=new NI}addToCollectionParentIndex(t,n){return this.Cn.add(n),L.resolve()}getCollectionParents(t,n){return L.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return L.resolve()}deleteFieldIndex(t,n){return L.resolve()}deleteAllFieldIndexes(t){return L.resolve()}createTargetIndexes(t,n){return L.resolve()}getDocumentsMatchingTarget(t,n){return L.resolve(null)}getIndexType(t,n){return L.resolve(0)}getFieldIndexes(t,n){return L.resolve([])}getNextCollectionGroupToUpdate(t){return L.resolve(null)}getMinOffset(t,n){return L.resolve(Hn.min())}getMinOffsetFromCollectionGroup(t,n){return L.resolve(Hn.min())}updateCollectionGroup(t,n,r){return L.resolve()}updateIndexEntries(t,n){return L.resolve()}}class NI{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new Qt(Nt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new Qt(Nt.comparator)).toArray()}}const nf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lm=41943040;class Te{static withCacheSize(t){return new Te(t,Te.DEFAULT_COLLECTION_PERCENTILE,Te.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Te.DEFAULT_COLLECTION_PERCENTILE=10,Te.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Te.DEFAULT=new Te(lm,Te.DEFAULT_COLLECTION_PERCENTILE,Te.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Te.DISABLED=new Te(-1,0,0);class ts{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ts(0)}static cr(){return new ts(-1)}}const rf="LruGarbageCollector",xI=1048576;function sf([e,t],[n,r]){const s=pt(e,n);return s===0?pt(t,r):s}class OI{constructor(t){this.Ir=t,this.buffer=new Qt(sf),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sf(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MI{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){J(rf,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){is(n)?J(rf,"Ignoring IndexedDB error during garbage collection: ",n):await ss(n)}await this.Vr(3e5)}))}}class kI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return L.resolve(Fo.ce);const r=new OI(n);return this.mr.forEachTarget(t,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(t,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(nf)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nf):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,s,i,a,l,c,h;const f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(t,s)))).next((p=>(r=p,l=Date.now(),this.removeTargets(t,r,n)))).next((p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(t,r)))).next((p=>(h=Date.now(),xr()<=yt.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(h-c)+`ms
Total Duration: ${h-f}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p}))))}}function LI(e,t){return new kI(e,t)}class FI{constructor(){this.changes=new Ar((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,he.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class UI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class BI{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(t,n)))).next((s=>(r!==null&&Hs(r.mutation,s,Be.empty(),Ot.now()),s)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,mt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=mt()){const s=fr();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,r).next((i=>{let a=Cs();return i.forEach(((l,c)=>{a=a.insert(l,c.overlayedDocument)})),a}))))}getOverlayedDocuments(t,n){const r=fr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,mt())))}populateOverlays(t,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(t,s).next((i=>{i.forEach(((a,l)=>{n.set(a,l)}))}))}computeViews(t,n,r,s){let i=An();const a=$s(),l=(function(){return $s()})();return n.forEach(((c,h)=>{const f=r.get(h.key);s.has(h.key)&&(f===void 0||f.mutation instanceof Ir)?i=i.insert(h.key,h):f!==void 0?(a.set(h.key,f.mutation.getFieldMask()),Hs(f.mutation,h,f.mutation.getFieldMask(),Ot.now())):a.set(h.key,Be.empty())})),this.recalculateAndSaveOverlays(t,i).next((c=>(c.forEach(((h,f)=>a.set(h,f))),n.forEach(((h,f)=>l.set(h,new UI(f,a.get(h)??null)))),l)))}recalculateAndSaveOverlays(t,n){const r=$s();let s=new kt(((a,l)=>a-l)),i=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((a=>{for(const l of a)l.keys().forEach((c=>{const h=n.get(c);if(h===null)return;let f=r.get(c)||Be.empty();f=l.applyToLocalView(h,f),r.set(c,f);const p=(s.get(l.batchId)||mt()).add(c);s=s.insert(l.batchId,p)}))})).next((()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,f=c.value,p=Hp();f.forEach((g=>{if(!i.has(g)){const T=Xp(n.get(g),r.get(g));T!==null&&p.set(g,T),i=i.add(g)}})),a.push(this.documentOverlayCache.saveOverlays(t,h,p))}return L.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,s){return(function(a){return et.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Up(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next((i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):L.resolve(fr());let l=ei,c=i;return a.next((h=>L.forEach(h,((f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(f)?L.resolve():this.remoteDocumentCache.getEntry(t,f).next((g=>{c=c.insert(f,g)}))))).next((()=>this.populateOverlays(t,h,i))).next((()=>this.computeViews(t,c,h,mt()))).next((f=>({batchId:l,changes:$p(f)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new et(n)).next((r=>{let s=Cs();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const i=n.collectionGroup;let a=Cs();return this.indexManager.getCollectionParents(t,i).next((l=>L.forEach(l,(c=>{const h=(function(p,g){return new os(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(t,h,r,s).next((f=>{f.forEach(((p,g)=>{a=a.insert(p,g)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(t,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i,s)))).next((a=>{i.forEach(((c,h)=>{const f=h.getKey();a.get(f)===null&&(a=a.insert(f,he.newInvalidDocument(f)))}));let l=Cs();return a.forEach(((c,h)=>{const f=i.get(c);f!==void 0&&Hs(f.mutation,h,Be.empty(),Ot.now()),qo(n,h)&&(l=l.insert(c,h))})),l}))}}class jI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return L.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:nn(s.createTime)}})(n)),L.resolve()}getNamedQuery(t,n){return L.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:VI(s.bundledQuery),readTime:nn(s.readTime)}})(n)),L.resolve()}}class qI{constructor(){this.overlays=new kt(et.comparator),this.qr=new Map}getOverlay(t,n){return L.resolve(this.overlays.get(n))}getOverlays(t,n){const r=fr();return L.forEach(n,(s=>this.getOverlay(t,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((s,i)=>{this.St(t,n,i)})),L.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),L.resolve()}getOverlaysForCollection(t,n,r){const s=fr(),i=n.length+1,a=new et(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return L.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new kt(((h,f)=>h-f));const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=i.get(h.largestBatchId);f===null&&(f=fr(),i=i.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=fr(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((h,f)=>l.set(h,f))),!(l.size()>=s)););return L.resolve(l)}St(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new oI(n,r));let i=this.qr.get(n);i===void 0&&(i=mt(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}class $I{constructor(){this.sessionToken=se.EMPTY_BYTE_STRING}getSessionToken(t){return L.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,L.resolve()}}class sc{constructor(){this.Qr=new Qt(Jt.$r),this.Ur=new Qt(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Jt(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new Jt(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new et(new Nt([])),r=new Jt(n,t),s=new Jt(n,t+1),i=[];return this.Ur.forEachInRange([r,s],(a=>{this.Gr(a),i.push(a.key)})),i}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new et(new Nt([])),r=new Jt(n,t),s=new Jt(n,t+1);let i=mt();return this.Ur.forEachInRange([r,s],(a=>{i=i.add(a.key)})),i}containsKey(t){const n=new Jt(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Jt{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return et.comparator(t.key,n.key)||pt(t.Yr,n.Yr)}static Kr(t,n){return pt(t.Yr,n.Yr)||et.comparator(t.key,n.key)}}class HI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Qt(Jt.$r)}checkEmpty(t){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new iI(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Zr=this.Zr.add(new Jt(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return L.resolve(a)}lookupMutationBatch(t,n){return L.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return L.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?Kl:this.tr-1)}getAllMutationBatches(t){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Jt(n,0),s=new Jt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(a=>{const l=this.Xr(a.Yr);i.push(l)})),L.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Qt(pt);return n.forEach((s=>{const i=new Jt(s,0),a=new Jt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],(l=>{r=r.add(l.Yr)}))})),L.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;et.isDocumentKey(i)||(i=i.child(""));const a=new Jt(new et(i),0);let l=new Qt(pt);return this.Zr.forEachWhile((c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(l=l.add(c.Yr)),!0)}),a),L.resolve(this.ti(l))}ti(t){const n=[];return t.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(t,n){bt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return L.forEach(n.mutations,(s=>{const i=new Jt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new Jt(n,0),s=this.Zr.firstAfterOrEqual(r);return L.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,L.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class GI{constructor(t){this.ri=t,this.docs=(function(){return new kt(et.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():he.newInvalidDocument(n))}getEntries(t,n){let r=An();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():he.newInvalidDocument(s))})),L.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let i=An();const a=n.path,l=new et(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:f}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||vA(EA(f),r)<=0||(s.has(f.key)||qo(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return L.resolve(i)}getAllFromCollectionGroup(t,n,r,s){ot(9500)}ii(t,n){return L.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new zI(this)}getSize(t){return L.resolve(this.size)}}class zI extends FI{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(r)})),L.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class KI{constructor(t){this.persistence=t,this.si=new Ar((n=>Xl(n)),Yl),this.lastRemoteSnapshotVersion=lt.min(),this.highestTargetId=0,this.oi=0,this._i=new sc,this.targetCount=0,this.ai=ts.ur()}forEachTarget(t,n){return this.si.forEach(((r,s)=>n(s))),L.resolve()}getLastRemoteSnapshotVersion(t){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return L.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),L.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new ts(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,L.resolve()}updateTargetData(t,n){return this.Pr(n),L.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.si.forEach(((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(t,l.targetId)),s++)})),L.waitFor(i).next((()=>s))}getTargetCount(t){return L.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return L.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),L.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((a=>{i.push(s.markPotentiallyOrphaned(t,a))})),L.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),L.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return L.resolve(r)}containsKey(t,n){return L.resolve(this._i.containsKey(n))}}class cm{constructor(t,n){this.ui={},this.overlays={},this.ci=new Fo(0),this.li=!1,this.li=!0,this.hi=new $I,this.referenceDelegate=t(this),this.Pi=new KI(this),this.indexManager=new DI,this.remoteDocumentCache=(function(s){return new GI(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new PI(n),this.Ii=new jI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new qI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new HI(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){J("MemoryPersistence","Starting transaction:",t);const s=new WI(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(t,n){return L.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class WI extends AA{constructor(t){super(),this.currentSequenceNumber=t}}class ic{constructor(t){this.persistence=t,this.Ri=new sc,this.Vi=null}static mi(t){return new ic(t)}get fi(){if(this.Vi)return this.Vi;throw ot(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),L.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),L.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.fi,(r=>{const s=et.fromPath(r);return this.gi(t,s).next((i=>{i||n.removeEntry(s,lt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return L.or([()=>L.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class _o{constructor(t,n){this.persistence=t,this.pi=new Ar((r=>RA(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=LI(this,n)}static mi(t,n){return new _o(t,n)}Ei(){}di(t){return L.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((s=>r+s))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return L.forEach(this.pi,((r,s)=>this.br(t,r,s).next((i=>i?L.resolve():n(s)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(t,(a=>this.br(t,a,n).next((l=>{l||(r++,i.removeEntry(a,lt.min()))})))).next((()=>i.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),L.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),L.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),L.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),L.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=$i(t.data.value)),n}br(t,n,r){return L.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.pi.get(n);return L.resolve(s!==void 0&&s>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class oc{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=s}static As(t,n){let r=mt(),s=mt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new oc(t,n.fromCache,r,s)}}class QI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class XI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jv()?8:IA(Uv())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,s){const i={result:null};return this.ys(t,n).next((a=>{i.result=a})).next((()=>{if(!i.result)return this.ws(t,n,s,r).next((a=>{i.result=a}))})).next((()=>{if(i.result)return;const a=new QI;return this.Ss(t,n,a).next((l=>{if(i.result=l,this.Vs)return this.bs(t,n,a,l.size)}))})).next((()=>i.result))}bs(t,n,r,s){return r.documentReadCount<this.fs?(xr()<=yt.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",Or(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),L.resolve()):(xr()<=yt.DEBUG&&J("QueryEngine","Query:",Or(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(xr()<=yt.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",Or(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,tn(n))):L.resolve())}ys(t,n){if(zh(n))return L.resolve(null);let r=tn(n);return this.indexManager.getIndexType(t,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=ul(n,null,"F"),r=tn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((i=>{const a=mt(...i);return this.ps.getDocuments(t,a).next((l=>this.indexManager.getMinOffset(t,r).next((c=>{const h=this.Ds(n,l);return this.Cs(n,h,a,c.readTime)?this.ys(t,ul(n,null,"F")):this.vs(t,h,n,c)}))))})))))}ws(t,n,r,s){return zh(n)||s.isEqual(lt.min())?L.resolve(null):this.ps.getDocuments(t,r).next((i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?L.resolve(null):(xr()<=yt.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Or(n)),this.vs(t,a,n,yA(s,ei)).next((l=>l)))}))}Ds(t,n){let r=new Qt(jp(t));return n.forEach(((s,i)=>{qo(t,i)&&(r=r.add(i))})),r}Cs(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(t,n,r){return xr()<=yt.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",Or(n)),this.ps.getDocumentsMatchingQuery(t,n,Hn.min(),r)}vs(t,n,r,s){return this.ps.getDocumentsMatchingQuery(t,r,s).next((i=>(n.forEach((a=>{i=i.insert(a.key,a)})),i)))}}const ac="LocalStore",YI=3e8;class JI{constructor(t,n,r,s){this.persistence=t,this.Fs=n,this.serializer=s,this.Ms=new kt(pt),this.xs=new Ar((i=>Xl(i)),Yl),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new BI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function ZI(e,t,n,r){return new JI(e,t,n,r)}async function um(e,t){const n=ut(e);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const a=[],l=[];let c=mt();for(const h of s){a.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}for(const h of i){l.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next((h=>({Ls:h,removedBatchIds:a,addedBatchIds:l})))}))}))}function tw(e,t){const n=ut(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,h,f){const p=h.batch,g=p.keys();let T=L.resolve();return g.forEach((V=>{T=T.next((()=>f.getEntry(c,V))).next((D=>{const M=h.docVersions.get(V);bt(M!==null,48541),D.version.compareTo(M)<0&&(p.applyToRemoteDocument(D,h),D.isValidDocument()&&(D.setReadTime(h.commitVersion),f.addEntry(D)))}))})),T.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(n,r,t,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=mt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c})(t)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function hm(e){const t=ut(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function ew(e,t){const n=ut(e),r=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];t.targetChanges.forEach(((f,p)=>{const g=s.get(p);if(!g)return;l.push(n.Pi.removeMatchingKeys(i,f.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(i,f.addedDocuments,p))));let T=g.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(p)!==null?T=T.withResumeToken(se.EMPTY_BYTE_STRING,lt.min()).withLastLimboFreeSnapshotVersion(lt.min()):f.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(f.resumeToken,r)),s=s.insert(p,T),(function(D,M,$){return D.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=YI?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(g,T,f)&&l.push(n.Pi.updateTargetData(i,T))}));let c=An(),h=mt();if(t.documentUpdates.forEach((f=>{t.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))})),l.push(nw(i,a,t.documentUpdates).next((f=>{c=f.ks,h=f.qs}))),!r.isEqual(lt.min())){const f=n.Pi.getLastRemoteSnapshotVersion(i).next((p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));l.push(f)}return L.waitFor(l).next((()=>a.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,c,h))).next((()=>c))})).then((i=>(n.Ms=s,i)))}function nw(e,t,n){let r=mt(),s=mt();return n.forEach((i=>r=r.add(i))),t.getEntries(e,r).next((i=>{let a=An();return n.forEach(((l,c)=>{const h=i.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(lt.min())?(t.removeEntry(l,c.readTime),a=a.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(c),a=a.insert(l,c)):J(ac,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)})),{ks:a,qs:s}}))}function rw(e,t){const n=ut(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Kl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function sw(e,t){const n=ut(e);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,t).next((i=>i?(s=i,L.resolve(s)):n.Pi.allocateTargetId(r).next((a=>(s=new Ln(t,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function ml(e,t,n){const r=ut(e),s=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(a=>r.persistence.referenceDelegate.removeTarget(a,s)))}catch(a){if(!is(a))throw a;J(ac,`Failed to update sequence numbers for target ${t}: ${a}`)}r.Ms=r.Ms.remove(t),r.xs.delete(s.target)}function of(e,t,n){const r=ut(e);let s=lt.min(),i=mt();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,h,f){const p=ut(c),g=p.xs.get(f);return g!==void 0?L.resolve(p.Ms.get(g)):p.Pi.getTargetData(h,f)})(r,a,tn(t)).next((l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next((c=>{i=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,t,n?s:lt.min(),n?i:mt()))).next((l=>(iw(r,HA(t),l),{documents:l,Qs:i})))))}function iw(e,t,n){let r=e.Os.get(t)||lt.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),e.Os.set(t,r)}class af{constructor(){this.activeTargetIds=XA()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ow{constructor(){this.Mo=new af,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new af,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class aw{Oo(t){}shutdown(){}}const lf="ConnectivityMonitor";class cf{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){J(lf,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){J(lf,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mi=null;function gl(){return Mi===null?Mi=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mi++,"0x"+Mi.toString(16)}const Na="RestConnection",lw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cw{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===uo?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(t,n,r,s,i){const a=gl(),l=this.zo(t,n.toUriEncodedString());J(Na,`Sending RPC '${t}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:h}=new URL(l),f=$l(h);return this.Jo(t,l,c,r,f).then((p=>(J(Na,`Received RPC '${t}' ${a}: `,p),p)),(p=>{throw Xr(Na,`RPC '${t}' ${a} failed with error: `,p,"url: ",l,"request:",r),p}))}Ho(t,n,r,s,i,a){return this.Go(t,n,r,s,i)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rs})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>t[i]=s)),r&&r.headers.forEach(((s,i)=>t[i]=s))}zo(t,n){const r=lw[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class uw{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const le="WebChannelConnection";class hw extends cw{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,s,i){const a=gl();return new Promise(((l,c)=>{const h=new pp;h.setWithCredentials(!0),h.listenOnce(mp.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case qi.NO_ERROR:const p=h.getResponseJson();J(le,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(p)),l(p);break;case qi.TIMEOUT:J(le,`RPC '${t}' ${a} timed out`),c(new X(k.DEADLINE_EXCEEDED,"Request time out"));break;case qi.HTTP_ERROR:const g=h.getStatus();if(J(le,`RPC '${t}' ${a} failed with status:`,g,"response text:",h.getResponseText()),g>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const V=T?.error;if(V&&V.status&&V.message){const D=(function($){const j=$.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(j)>=0?j:k.UNKNOWN})(V.status);c(new X(D,V.message))}else c(new X(k.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new X(k.UNAVAILABLE,"Connection failed."));break;default:ot(9055,{l_:t,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{J(le,`RPC '${t}' ${a} completed.`)}}));const f=JSON.stringify(s);J(le,`RPC '${t}' ${a} sending request:`,s),h.send(n,"POST",f,r,15)}))}T_(t,n,r){const s=gl(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=yp(),l=_p(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=i.join("");J(le,`Creating RPC '${t}' stream ${s}: ${f}`,c);const p=a.createWebChannel(f,c);this.I_(p);let g=!1,T=!1;const V=new uw({Yo:M=>{T?J(le,`Not sending because RPC '${t}' stream ${s} is closed:`,M):(g||(J(le,`Opening RPC '${t}' stream ${s} transport.`),p.open(),g=!0),J(le,`RPC '${t}' stream ${s} sending:`,M),p.send(M))},Zo:()=>p.close()}),D=(M,$,j)=>{M.listen($,(H=>{try{j(H)}catch(z){setTimeout((()=>{throw z}),0)}}))};return D(p,Ss.EventType.OPEN,(()=>{T||(J(le,`RPC '${t}' stream ${s} transport opened.`),V.o_())})),D(p,Ss.EventType.CLOSE,(()=>{T||(T=!0,J(le,`RPC '${t}' stream ${s} transport closed`),V.a_(),this.E_(p))})),D(p,Ss.EventType.ERROR,(M=>{T||(T=!0,Xr(le,`RPC '${t}' stream ${s} transport errored. Name:`,M.name,"Message:",M.message),V.a_(new X(k.UNAVAILABLE,"The operation could not be completed")))})),D(p,Ss.EventType.MESSAGE,(M=>{if(!T){const $=M.data[0];bt(!!$,16349);const j=$,H=j?.error||j[0]?.error;if(H){J(le,`RPC '${t}' stream ${s} received error:`,H);const z=H.status;let it=(function(v){const _=qt[v];if(_!==void 0)return Jp(_)})(z),at=H.message;it===void 0&&(it=k.INTERNAL,at="Unknown error status: "+z+" with message "+H.message),T=!0,V.a_(new X(it,at)),p.close()}else J(le,`RPC '${t}' stream ${s} received:`,$),V.u_($)}})),D(l,gp.STAT_EVENT,(M=>{M.stat===rl.PROXY?J(le,`RPC '${t}' stream ${s} detected buffering proxy`):M.stat===rl.NOPROXY&&J(le,`RPC '${t}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function xa(){return typeof document<"u"?document:null}function zo(e){return new mI(e,!0)}class fm{constructor(t,n,r=1e3,s=1.5,i=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&J("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const uf="PersistentStream";class dm{constructor(t,n,r,s,i,a,l,c){this.Mi=t,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fm(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(Tn(n.toString()),Tn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{t((()=>{const s=new X(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return J(uf,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(J(uf,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fw extends dm{constructor(t,n,r,s,i,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=yI(this.serializer,t),r=(function(i){if(!("targetChange"in i))return lt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?lt.min():a.readTime?nn(a.readTime):lt.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=pl(this.serializer),n.addTarget=(function(i,a){let l;const c=a.target;if(l=ll(c)?{documents:TI(i,c)}:{query:AI(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=em(i,a.resumeToken);const h=hl(i,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(lt.min())>0){l.readTime=go(i,a.snapshotVersion.toTimestamp());const h=hl(i,a.expectedCount);h!==null&&(l.expectedCount=h)}return l})(this.serializer,t);const r=wI(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=pl(this.serializer),n.removeTarget=t,this.q_(n)}}class dw extends dm{constructor(t,n,r,s,i,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return bt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,bt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){bt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=vI(t.writeResults,t.commitTime),r=nn(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=pl(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>EI(this.serializer,r)))};this.q_(n)}}class pw{}class mw extends pw{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new X(k.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(t,fl(n,r),s,i,a))).catch((i=>{throw i.name==="FirebaseError"?(i.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(k.UNKNOWN,i.toString())}))}Ho(t,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Ho(t,fl(n,r),s,a,l,i))).catch((a=>{throw a.name==="FirebaseError"?(a.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new X(k.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gw{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tn(n),this.aa=!1):J("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const vr="RemoteStore";class _w{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{wr(this)&&(J(vr,"Restarting streams for network reachability change."),await(async function(c){const h=ut(c);h.Ea.add(4),await mi(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Ko(h)})(this))}))})),this.Ra=new gw(r,s)}}async function Ko(e){if(wr(e))for(const t of e.da)await t(!0)}async function mi(e){for(const t of e.da)await t(!1)}function pm(e,t){const n=ut(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),hc(n)?uc(n):as(n).O_()&&cc(n,t))}function lc(e,t){const n=ut(e),r=as(n);n.Ia.delete(t),r.O_()&&mm(n,t),n.Ia.size===0&&(r.O_()?r.L_():wr(n)&&n.Ra.set("Unknown"))}function cc(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(lt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}as(e).Y_(t)}function mm(e,t){e.Va.Ue(t),as(e).Z_(t)}function uc(e){e.Va=new hI({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),as(e).start(),e.Ra.ua()}function hc(e){return wr(e)&&!as(e).x_()&&e.Ia.size>0}function wr(e){return ut(e).Ea.size===0}function gm(e){e.Va=void 0}async function yw(e){e.Ra.set("Online")}async function Ew(e){e.Ia.forEach(((t,n)=>{cc(e,t)}))}async function vw(e,t){gm(e),hc(e)?(e.Ra.ha(t),uc(e)):e.Ra.set("Unknown")}async function Tw(e,t,n){if(e.Ra.set("Online"),t instanceof tm&&t.state===2&&t.cause)try{await(async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.Va.removeTarget(l))})(e,t)}catch(r){J(vr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await yo(e,r)}else if(t instanceof zi?e.Va.Ze(t):t instanceof Zp?e.Va.st(t):e.Va.tt(t),!n.isEqual(lt.min()))try{const r=await hm(e.localStore);n.compareTo(r)>=0&&await(function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach(((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const f=i.Ia.get(h);f&&i.Ia.set(h,f.withResumeToken(c.resumeToken,a))}})),l.targetMismatches.forEach(((c,h)=>{const f=i.Ia.get(c);if(!f)return;i.Ia.set(c,f.withResumeToken(se.EMPTY_BYTE_STRING,f.snapshotVersion)),mm(i,c);const p=new Ln(f.target,c,h,f.sequenceNumber);cc(i,p)})),i.remoteSyncer.applyRemoteEvent(l)})(e,n)}catch(r){J(vr,"Failed to raise snapshot:",r),await yo(e,r)}}async function yo(e,t,n){if(!is(t))throw t;e.Ea.add(1),await mi(e),e.Ra.set("Offline"),n||(n=()=>hm(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{J(vr,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Ko(e)}))}function _m(e,t){return t().catch((n=>yo(e,n,t)))}async function Wo(e){const t=ut(e),n=Wn(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Kl;for(;Aw(t);)try{const s=await rw(t.localStore,r);if(s===null){t.Ta.length===0&&n.L_();break}r=s.batchId,Iw(t,s)}catch(s){await yo(t,s)}ym(t)&&Em(t)}function Aw(e){return wr(e)&&e.Ta.length<10}function Iw(e,t){e.Ta.push(t);const n=Wn(e);n.O_()&&n.X_&&n.ea(t.mutations)}function ym(e){return wr(e)&&!Wn(e).x_()&&e.Ta.length>0}function Em(e){Wn(e).start()}async function ww(e){Wn(e).ra()}async function Rw(e){const t=Wn(e);for(const n of e.Ta)t.ea(n.mutations)}async function bw(e,t,n){const r=e.Ta.shift(),s=ec.from(r,t,n);await _m(e,(()=>e.remoteSyncer.applySuccessfulWrite(s))),await Wo(e)}async function Sw(e,t){t&&Wn(e).X_&&await(async function(r,s){if((function(a){return lI(a)&&a!==k.ABORTED})(s.code)){const i=r.Ta.shift();Wn(r).B_(),await _m(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Wo(r)}})(e,t),ym(e)&&Em(e)}async function hf(e,t){const n=ut(e);n.asyncQueue.verifyOperationInProgress(),J(vr,"RemoteStore received new credentials");const r=wr(n);n.Ea.add(3),await mi(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Ko(n)}async function Cw(e,t){const n=ut(e);t?(n.Ea.delete(2),await Ko(n)):t||(n.Ea.add(2),await mi(n),n.Ra.set("Unknown"))}function as(e){return e.ma||(e.ma=(function(n,r,s){const i=ut(n);return i.sa(),new fw(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(e.datastore,e.asyncQueue,{Xo:yw.bind(null,e),t_:Ew.bind(null,e),r_:vw.bind(null,e),H_:Tw.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),hc(e)?uc(e):e.Ra.set("Unknown")):(await e.ma.stop(),gm(e))}))),e.ma}function Wn(e){return e.fa||(e.fa=(function(n,r,s){const i=ut(n);return i.sa(),new dw(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:ww.bind(null,e),r_:Sw.bind(null,e),ta:Rw.bind(null,e),na:bw.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Wo(e)):(await e.fa.stop(),e.Ta.length>0&&(J(vr,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class fc{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,i){const a=Date.now()+r,l=new fc(t,n,a,s,i);return l.start(r),l}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(k.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dc(e,t){if(Tn("AsyncQueue",`${t}: ${e}`),is(e))return new X(k.UNAVAILABLE,`${t}: ${e}`);throw e}class Gr{static emptySet(t){return new Gr(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||et.comparator(n.key,r.key):(n,r)=>et.comparator(n.key,r.key),this.keyedMap=Cs(),this.sortedSet=new kt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Gr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Gr;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class ff{constructor(){this.ga=new kt(et.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):ot(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class es{constructor(t,n,r,s,i,a,l,c,h){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(t,n,r,s,i){const a=[];return n.forEach((l=>{a.push({type:0,doc:l})})),new es(t,n,Gr.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jo(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class Pw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class Vw{constructor(){this.queries=df(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ut(n),i=s.queries;s.queries=df(),i.forEach(((a,l)=>{for(const c of l.Sa)c.onError(r)}))})(this,new X(k.ABORTED,"Firestore shutting down"))}}function df(){return new Ar((e=>Bp(e)),jo)}async function Dw(e,t){const n=ut(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.ba()&&t.Da()&&(r=2):(i=new Pw,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=dc(a,`Initialization of query '${Or(t.query)}' failed`);return void t.onError(l)}n.queries.set(s,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&pc(n)}async function Nw(e,t){const n=ut(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(t);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=t.Da()?0:1:!i.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xw(e,t){const n=ut(e);let r=!1;for(const s of t){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Fa(s)&&(r=!0);a.wa=s}}r&&pc(n)}function Ow(e,t,n){const r=ut(e),s=r.queries.get(t);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(t)}function pc(e){e.Ca.forEach((t=>{t.next()}))}var _l,pf;(pf=_l||(_l={})).Ma="default",pf.Cache="cache";class Mw{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new es(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=es.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==_l.Cache}}class vm{constructor(t){this.key=t}}class Tm{constructor(t){this.key=t}}class kw{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=mt(),this.mutatedKeys=mt(),this.eu=jp(t),this.tu=new Gr(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new ff,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((f,p)=>{const g=s.get(f),T=qo(this.query,p)?p:null,V=!!g&&this.mutatedKeys.has(g.key),D=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let M=!1;g&&T?g.data.isEqual(T.data)?V!==D&&(r.track({type:3,doc:T}),M=!0):this.su(g,T)||(r.track({type:2,doc:T}),M=!0,(c&&this.eu(T,c)>0||h&&this.eu(T,h)<0)&&(l=!0)):!g&&T?(r.track({type:0,doc:T}),M=!0):g&&!T&&(r.track({type:1,doc:g}),M=!0,(c||h)&&(l=!0)),M&&(T?(a=a.add(T),i=D?i.add(f):i.delete(f)):(a=a.delete(f),i=i.delete(f)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{tu:a,iu:r,Cs:l,mutatedKeys:i}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,s){const i=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const a=t.iu.ya();a.sort(((f,p)=>(function(T,V){const D=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot(20277,{Rt:M})}};return D(T)-D(V)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,h=c!==this.Za;return this.Za=c,a.length!==0||h?{snapshot:new es(this.query,t.tu,i,a,t.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ff,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=mt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new Tm(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new vm(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=mt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return es.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mc="SyncEngine";class Lw{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Fw{constructor(t){this.key=t,this.hu=!1}}class Uw{constructor(t,n,r,s,i,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Ar((l=>Bp(l)),jo),this.Iu=new Map,this.Eu=new Set,this.du=new kt(et.comparator),this.Au=new Map,this.Ru=new sc,this.Vu={},this.mu=new Map,this.fu=ts.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Bw(e,t,n=!0){const r=Sm(e);let s;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await Am(r,t,n,!0),s}async function jw(e,t){const n=Sm(e);await Am(n,t,!0,!1)}async function Am(e,t,n,r){const s=await sw(e.localStore,tn(t)),i=s.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await qw(e,t,i,a==="current",s.resumeToken)),e.isPrimaryClient&&n&&pm(e.remoteStore,s),l}async function qw(e,t,n,r,s){e.pu=(p,g,T)=>(async function(D,M,$,j){let H=M.view.ru($);H.Cs&&(H=await of(D.localStore,M.query,!1).then((({documents:R})=>M.view.ru(R,H))));const z=j&&j.targetChanges.get(M.targetId),it=j&&j.targetMismatches.get(M.targetId)!=null,at=M.view.applyChanges(H,D.isPrimaryClient,z,it);return gf(D,M.targetId,at.au),at.snapshot})(e,p,g,T);const i=await of(e.localStore,t,!0),a=new kw(t,i.Qs),l=a.ru(i.documents),c=pi.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",s),h=a.applyChanges(l,e.isPrimaryClient,c);gf(e,n,h.au);const f=new Lw(t,n,a);return e.Tu.set(t,f),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),h.snapshot}async function $w(e,t,n){const r=ut(e),s=r.Tu.get(t),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((a=>!jo(a,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ml(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&lc(r.remoteStore,s.targetId),yl(r,s.targetId)})).catch(ss)):(yl(r,s.targetId),await ml(r.localStore,s.targetId,!0))}async function Hw(e,t){const n=ut(e),r=n.Tu.get(t),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lc(n.remoteStore,r.targetId))}async function Gw(e,t,n){const r=Jw(e);try{const s=await(function(a,l){const c=ut(a),h=Ot.now(),f=l.reduce(((T,V)=>T.add(V.key)),mt());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let V=An(),D=mt();return c.Ns.getEntries(T,f).next((M=>{V=M,V.forEach((($,j)=>{j.isValidDocument()||(D=D.add($))}))})).next((()=>c.localDocuments.getOverlayedDocuments(T,V))).next((M=>{p=M;const $=[];for(const j of l){const H=rI(j,p.get(j.key).overlayedDocument);H!=null&&$.push(new Ir(j.key,H,Np(H.value.mapValue),en.exists(!0)))}return c.mutationQueue.addMutationBatch(T,h,$,l)})).next((M=>{g=M;const $=M.applyToLocalDocumentSet(p,D);return c.documentOverlayCache.saveOverlays(T,M.batchId,$)}))})).then((()=>({batchId:g.batchId,changes:$p(p)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),(function(a,l,c){let h=a.Vu[a.currentUser.toKey()];h||(h=new kt(pt)),h=h.insert(l,c),a.Vu[a.currentUser.toKey()]=h})(r,s.batchId,n),await gi(r,s.changes),await Wo(r.remoteStore)}catch(s){const i=dc(s,"Failed to persist write");n.reject(i)}}async function Im(e,t){const n=ut(e);try{const r=await ew(n.localStore,t);t.targetChanges.forEach(((s,i)=>{const a=n.Au.get(i);a&&(bt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?bt(a.hu,14607):s.removedDocuments.size>0&&(bt(a.hu,42227),a.hu=!1))})),await gi(n,r,t)}catch(r){await ss(r)}}function mf(e,t,n){const r=ut(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,a)=>{const l=a.view.va(t);l.snapshot&&s.push(l.snapshot)})),(function(a,l){const c=ut(a);c.onlineState=l;let h=!1;c.queries.forEach(((f,p)=>{for(const g of p.Sa)g.va(l)&&(h=!0)})),h&&pc(c)})(r.eventManager,t),s.length&&r.Pu.H_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function zw(e,t,n){const r=ut(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Au.get(t),i=s&&s.key;if(i){let a=new kt(et.comparator);a=a.insert(i,he.newNoDocument(i,lt.min()));const l=mt().add(i),c=new Go(lt.min(),new Map,new kt(pt),a,l);await Im(r,c),r.du=r.du.remove(i),r.Au.delete(t),gc(r)}else await ml(r.localStore,t,!1).then((()=>yl(r,t,n))).catch(ss)}async function Kw(e,t){const n=ut(e),r=t.batch.batchId;try{const s=await tw(n.localStore,t);Rm(n,r,null),wm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gi(n,s)}catch(s){await ss(s)}}async function Ww(e,t,n){const r=ut(e);try{const s=await(function(a,l){const c=ut(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let f;return c.mutationQueue.lookupMutationBatch(h,l).next((p=>(bt(p!==null,37113),f=p.keys(),c.mutationQueue.removeMutationBatch(h,p)))).next((()=>c.mutationQueue.performConsistencyCheck(h))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(h,f,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f))).next((()=>c.localDocuments.getDocuments(h,f)))}))})(r.localStore,t);Rm(r,t,n),wm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await gi(r,s)}catch(s){await ss(s)}}function wm(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function Rm(e,t,n){const r=ut(e);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(t);i&&(n?i.reject(n):i.resolve(),s=s.remove(t)),r.Vu[r.currentUser.toKey()]=s}}function yl(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((r=>{e.Ru.containsKey(r)||bm(e,r)}))}function bm(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(lc(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),gc(e))}function gf(e,t,n){for(const r of n)r instanceof vm?(e.Ru.addReference(r.key,t),Qw(e,r)):r instanceof Tm?(J(mc,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||bm(e,r.key)):ot(19791,{wu:r})}function Qw(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(J(mc,"New document in limbo: "+n),e.Eu.add(r),gc(e))}function gc(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new et(Nt.fromString(t)),r=e.fu.next();e.Au.set(r,new Fw(n)),e.du=e.du.insert(n,r),pm(e.remoteStore,new Ln(tn(Jl(n.path)),r,"TargetPurposeLimboResolution",Fo.ce))}}async function gi(e,t,n){const r=ut(e),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{a.push(r.pu(c,t,n).then((h=>{if((h||n)&&r.isPrimaryClient){const f=h?!h.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(h){s.push(h);const f=oc.As(c.targetId,h);i.push(f)}})))})),await Promise.all(a),r.Pu.H_(s),await(async function(c,h){const f=ut(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>L.forEach(h,(g=>L.forEach(g.Es,(T=>f.persistence.referenceDelegate.addReference(p,g.targetId,T))).next((()=>L.forEach(g.ds,(T=>f.persistence.referenceDelegate.removeReference(p,g.targetId,T)))))))))}catch(p){if(!is(p))throw p;J(ac,"Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const T=f.Ms.get(g),V=T.snapshotVersion,D=T.withLastLimboFreeSnapshotVersion(V);f.Ms=f.Ms.insert(g,D)}}})(r.localStore,i))}async function Xw(e,t){const n=ut(e);if(!n.currentUser.isEqual(t)){J(mc,"User change. New user:",t.toKey());const r=await um(n.localStore,t);n.currentUser=t,(function(i,a){i.mu.forEach((l=>{l.forEach((c=>{c.reject(new X(k.CANCELLED,a))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await gi(n,r.Ls)}}function Yw(e,t){const n=ut(e),r=n.Au.get(t);if(r&&r.hu)return mt().add(r.key);{let s=mt();const i=n.Iu.get(t);if(!i)return s;for(const a of i){const l=n.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function Sm(e){const t=ut(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Im.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zw.bind(null,t),t.Pu.H_=xw.bind(null,t.eventManager),t.Pu.yu=Ow.bind(null,t.eventManager),t}function Jw(e){const t=ut(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Kw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ww.bind(null,t),t}class Eo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=zo(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return ZI(this.persistence,new XI,t.initialUser,this.serializer)}Cu(t){return new cm(ic.mi,this.serializer)}Du(t){return new ow}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eo.provider={build:()=>new Eo};class Zw extends Eo{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){bt(this.persistence.referenceDelegate instanceof _o,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new MI(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Te.withCacheSize(this.cacheSizeBytes):Te.DEFAULT;return new cm((r=>_o.mi(r,n)),this.serializer)}}class El{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mf(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xw.bind(null,this.syncEngine),await Cw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Vw})()}createDatastore(t){const n=zo(t.databaseInfo.databaseId),r=(function(i){return new hw(i)})(t.databaseInfo);return(function(i,a,l,c){return new mw(i,a,l,c)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,s,i,a,l){return new _w(r,s,i,a,l)})(this.localStore,this.datastore,t.asyncQueue,(n=>mf(this.syncEngine,n,0)),(function(){return cf.v()?new cf:new aw})())}createSyncEngine(t,n){return(function(s,i,a,l,c,h,f){const p=new Uw(s,i,a,l,c,h);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ut(n);J(vr,"RemoteStore shutting down."),r.Ea.add(5),await mi(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}El.provider={build:()=>new El};class tR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Tn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Qn="FirestoreClient";class eR{constructor(t,n,r,s,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ce.UNAUTHENTICATED,this.clientId=zl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async a=>{J(Qn,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(J(Qn,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=dc(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Oa(e,t){e.asyncQueue.verifyOperationInProgress(),J(Qn,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async s=>{r.isEqual(s)||(await um(t.localStore,s),r=s)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function _f(e,t){e.asyncQueue.verifyOperationInProgress();const n=await nR(e);J(Qn,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((r=>hf(t.remoteStore,r))),e.setAppCheckTokenChangeListener(((r,s)=>hf(t.remoteStore,s))),e._onlineComponents=t}async function nR(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){J(Qn,"Using user provided OfflineComponentProvider");try{await Oa(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(s){return s.name==="FirebaseError"?s.code===k.FAILED_PRECONDITION||s.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Xr("Error using user provided cache. Falling back to memory cache: "+n),await Oa(e,new Eo)}}else J(Qn,"Using default OfflineComponentProvider"),await Oa(e,new Zw(void 0));return e._offlineComponents}async function Cm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(J(Qn,"Using user provided OnlineComponentProvider"),await _f(e,e._uninitializedComponentsProvider._online)):(J(Qn,"Using default OnlineComponentProvider"),await _f(e,new El))),e._onlineComponents}function rR(e){return Cm(e).then((t=>t.syncEngine))}async function yf(e){const t=await Cm(e),n=t.eventManager;return n.onListen=Bw.bind(null,t.syncEngine),n.onUnlisten=$w.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=jw.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Hw.bind(null,t.syncEngine),n}function Pm(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ef=new Map;const Vm="firestore.googleapis.com",vf=!0;class Tf{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new X(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vm,this.ssl=vf}else this.host=t.host,this.ssl=t.ssl??vf;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=lm;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<xI)throw new X(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_A("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pm(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new X(k.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X(k.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X(k.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Qo{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new X(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tf(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new aA;switch(r.type){case"firstParty":return new hA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Ef.get(n);r&&(J("ComponentProvider","Removing Datastore"),Ef.delete(n),r.terminate())})(this),Promise.resolve()}}function sR(e,t,n,r={}){e=Hr(e,Qo);const s=$l(t),i=e._getSettings(),a={...i,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${n}`;s&&(Ov(`https://${l}`),Fv("Firestore",!0)),i.host!==Vm&&i.host!==l&&Xr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!oo(c,a)&&(e._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=ce.MOCK_USER;else{h=Mv(r.mockUserToken,e._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new X(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ce(p)}e._authCredentials=new lA(new vp(h,f))}}class Rr{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Rr(this.firestore,t,this._query)}}class Wt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qn(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Wt(this.firestore,t,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(fi(n,Wt._jsonSchema))return new Wt(t,r||null,new et(Nt.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:Ht("string",Wt._jsonSchemaVersion),referencePath:Ht("string")};class qn extends Rr{constructor(t,n,r){super(t,n,Jl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Wt(this.firestore,null,new et(t))}withConverter(t){return new qn(this.firestore,t,this._path)}}function Af(e,t,...n){if(e=yr(e),Tp("collection","path",t),e instanceof Qo){const r=Nt.fromString(t,...n);return Nh(r),new qn(e,null,r)}{if(!(e instanceof Wt||e instanceof qn))throw new X(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Nt.fromString(t,...n));return Nh(r),new qn(e.firestore,null,r)}}function iR(e,t,...n){if(e=yr(e),arguments.length===1&&(t=zl.newId()),Tp("doc","path",t),e instanceof Qo){const r=Nt.fromString(t,...n);return Dh(r),new Wt(e,null,new et(r))}{if(!(e instanceof Wt||e instanceof qn))throw new X(k.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Nt.fromString(t,...n));return Dh(r),new Wt(e.firestore,e instanceof qn?e.converter:null,new et(r))}}const If="AsyncQueue";class wf{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fm(this,"async_queue_retry"),this._c=()=>{const r=xa();r&&J(If,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=xa();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=xa();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!is(t))throw t;J(If,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Tn("INTERNAL UNHANDLED ERROR: ",Rf(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=fc.createAndSchedule(this,t,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&ot(47125,{Pc:Rf(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Rf(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}function bf(e){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(e,["next","error","complete"])}class li extends Qo{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=new wf,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new wf(t),this._firestoreClient=void 0,await t}}}function oR(e,t){const n=typeof e=="object"?e:WT(),r=typeof e=="string"?e:uo,s=$T(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Nv("firestore");i&&sR(s,...i)}return s}function Dm(e){if(e._terminated)throw new X(k.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||aR(e),e._firestoreClient}function aR(e){const t=e._freezeSettings(),n=(function(s,i,a,l){return new CA(s,i,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Pm(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new eR(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(e._componentsProvider))}class xe{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xe(se.fromBase64String(t))}catch(n){throw new X(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new xe(se.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xe._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(fi(t,xe._jsonSchema))return xe.fromBase64String(t.bytes)}}xe._jsonSchemaVersion="firestore/bytes/1.0",xe._jsonSchema={type:Ht("string",xe._jsonSchemaVersion),bytes:Ht("string")};class _c{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new X(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new re(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Nm{constructor(t){this._methodName=t}}class rn{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new X(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new X(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return pt(this._lat,t._lat)||pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rn._jsonSchemaVersion}}static fromJSON(t){if(fi(t,rn._jsonSchema))return new rn(t.latitude,t.longitude)}}rn._jsonSchemaVersion="firestore/geoPoint/1.0",rn._jsonSchema={type:Ht("string",rn._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};class sn{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,t._values)}toJSON(){return{type:sn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(fi(t,sn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new sn(t.vectorValues);throw new X(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sn._jsonSchemaVersion="firestore/vectorValue/1.0",sn._jsonSchema={type:Ht("string",sn._jsonSchemaVersion),vectorValues:Ht("object")};const lR=/^__.*__$/;class cR{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ir(t,this.data,this.fieldMask,n,this.fieldTransforms):new di(t,this.data,n,this.fieldTransforms)}}function xm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot(40011,{Ac:e})}}class yc{constructor(t,n,r,s,i,a){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new yc({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return vo(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(xm(this.Ac)&&lR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class uR{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||zo(t)}Cc(t,n,r,s=!1){return new yc({Ac:t,methodName:n,Dc:r,path:re.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Om(e){const t=e._freezeSettings(),n=zo(e._databaseId);return new uR(e._databaseId,!!t.ignoreUndefinedProperties,n)}function hR(e,t,n,r,s,i={}){const a=e.Cc(i.merge||i.mergeFields?2:0,t,n,s);Lm("Data must be an object, but it was:",a,r);const l=Mm(r,a);let c,h;if(i.merge)c=new Be(a.fieldMask),h=a.fieldTransforms;else if(i.mergeFields){const f=[];for(const p of i.mergeFields){const g=dR(t,p,n);if(!a.contains(g))throw new X(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);mR(f,g)||f.push(g)}c=new Be(f),h=a.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,h=a.fieldTransforms;return new cR(new Ne(l),c,h)}function fR(e,t,n,r=!1){return Ec(n,e.Cc(r?4:3,t))}function Ec(e,t){if(km(e=yr(e)))return Lm("Unsupported field value:",t,e),Mm(e,t);if(e instanceof Nm)return(function(r,s){if(!xm(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let a=0;for(const l of r){let c=Ec(l,s.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}})(e,t)}return(function(r,s){if((r=yr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YA(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ot.fromDate(r);return{timestampValue:go(s.serializer,i)}}if(r instanceof Ot){const i=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:go(s.serializer,i)}}if(r instanceof rn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xe)return{bytesValue:em(s.serializer,r._byteString)};if(r instanceof Wt){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:rc(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof sn)return(function(a,l){return{mapValue:{fields:{[Vp]:{stringValue:Dp},[ho]:{arrayValue:{values:a.toArray().map((h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return Zl(l.serializer,h)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Lo(r)}`)})(e,t)}function Mm(e,t){const n={};return wp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Tr(e,((r,s)=>{const i=Ec(s,t.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function km(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ot||e instanceof rn||e instanceof xe||e instanceof Wt||e instanceof Nm||e instanceof sn)}function Lm(e,t,n){if(!km(n)||!Ap(n)){const r=Lo(n);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function dR(e,t,n){if((t=yr(t))instanceof _c)return t._internalPath;if(typeof t=="string")return Fm(e,t);throw vo("Field path arguments must be of type string or ",e,!1,void 0,n)}const pR=new RegExp("[~\\*/\\[\\]]");function Fm(e,t,n){if(t.search(pR)>=0)throw vo(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new _c(...t.split("."))._internalPath}catch{throw vo(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function vo(e,t,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new X(k.INVALID_ARGUMENT,l+e+c)}function mR(e,t){return e.some((n=>n.isEqual(t)))}class Um{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new gR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(vc("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gR extends Um{data(){return super.data()}}function vc(e,t){return typeof t=="string"?Fm(e,t):t instanceof _c?t._internalPath:t._delegate._internalPath}function _R(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new X(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tc{}class Bm extends Tc{}function yR(e,t,...n){let r=[];t instanceof Tc&&r.push(t),r=r.concat(n),(function(i){const a=i.filter((c=>c instanceof Ic)).length,l=i.filter((c=>c instanceof Ac)).length;if(a>1||a>0&&l>0)throw new X(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)e=s._apply(e);return e}class Ac extends Bm{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Ac(t,n,r)}_apply(t){const n=this._parse(t);return jm(t._query,n),new Rr(t.firestore,t.converter,cl(t._query,n))}_parse(t){const n=Om(t.firestore);return(function(i,a,l,c,h,f,p){let g;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new X(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Cf(p,f);const V=[];for(const D of p)V.push(Sf(c,i,D));g={arrayValue:{values:V}}}else g=Sf(c,i,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Cf(p,f),g=fR(l,a,p,f==="in"||f==="not-in");return $t.create(h,f,g)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Ic extends Tc{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Ic(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ge.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)jm(a,c),a=cl(a,c)})(t._query,n),new Rr(t.firestore,t.converter,cl(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wc extends Bm{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new wc(t,n)}_apply(t){const n=(function(s,i,a){if(s.startAt!==null)throw new X(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new X(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ii(i,a)})(t._query,this._field,this._direction);return new Rr(t.firestore,t.converter,(function(s,i){const a=s.explicitOrderBy.concat([i]);return new os(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(t._query,n))}}function ER(e,t="asc"){const n=t,r=vc("orderBy",e);return wc._create(r,n)}function Sf(e,t,n){if(typeof(n=yr(n))=="string"){if(n==="")throw new X(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Up(t)&&n.indexOf("/")!==-1)throw new X(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Nt.fromString(n));if(!et.isDocumentKey(r))throw new X(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bh(e,new et(r))}if(n instanceof Wt)return Bh(e,n._key);throw new X(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lo(n)}.`)}function Cf(e,t){if(!Array.isArray(e)||e.length===0)throw new X(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function jm(e,t){const n=(function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null})(e.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new X(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new X(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class vR{convertValue(t,n="none"){switch(Kn(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Bt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(zn(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw ot(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Tr(t,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(t){const n=t.fields?.[ho].arrayValue?.values?.map((r=>Bt(r.doubleValue)));return new sn(n)}convertGeoPoint(t){return new rn(Bt(t.latitude),Bt(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Bo(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ni(t));default:return null}}convertTimestamp(t){const n=Gn(t);return new Ot(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Nt.fromString(t);bt(am(r),9688,{name:t});const s=new ri(r.get(1),r.get(3)),i=new et(r.popFirst(5));return s.isEqual(n)||Tn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}function TR(e,t,n){let r;return r=e?e.toFirestore(t):t,r}class Vs{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class _r extends Um{constructor(t,n,r,s,i,a){super(t,n,r,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ki(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(vc("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=_r._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_r._jsonSchemaVersion="firestore/documentSnapshot/1.0",_r._jsonSchema={type:Ht("string",_r._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Ki extends _r{data(t={}){return super.data(t)}}class zr{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Vs(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Ki(this._firestore,this._userDataWriter,r.key,r,new Vs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map((l=>{const c=new Ki(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Vs(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const c=new Ki(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Vs(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,f=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:AR(l.type),doc:c,oldIndex:h,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=zr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function AR(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot(61501,{type:e})}}zr._jsonSchemaVersion="firestore/querySnapshot/1.0",zr._jsonSchema={type:Ht("string",zr._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class qm extends vR{constructor(t){super(),this.firestore=t}convertBytes(t){return new xe(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function xR(e){return $m(Hr(e.firestore,li),[new tc(e._key,en.none())])}function IR(e,t){const n=Hr(e.firestore,li),r=iR(e),s=TR(e.converter,t);return $m(n,[hR(Om(e.firestore),"addDoc",r._key,s,e.converter!==null,{}).toMutation(r._key,en.exists(!1))]).then((()=>r))}function wR(e,...t){e=yr(e);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||bf(t[r])||(n=t[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(bf(t[r])){const c=t[r];t[r]=c.next?.bind(c),t[r+1]=c.error?.bind(c),t[r+2]=c.complete?.bind(c)}let i,a,l;if(e instanceof Wt)a=Hr(e.firestore,li),l=Jl(e._key.path),i={next:c=>{t[r]&&t[r](RR(a,e,c))},error:t[r+1],complete:t[r+2]};else{const c=Hr(e,Rr);a=Hr(c.firestore,li),l=c._query;const h=new qm(a);i={next:f=>{t[r]&&t[r](new zr(a,h,c,f))},error:t[r+1],complete:t[r+2]},_R(e._query)}return(function(h,f,p,g){const T=new tR(g),V=new Mw(f,T,p);return h.asyncQueue.enqueueAndForget((async()=>Dw(await yf(h),V))),()=>{T.Nu(),h.asyncQueue.enqueueAndForget((async()=>Nw(await yf(h),V)))}})(Dm(a),l,s,i)}function $m(e,t){return(function(r,s){const i=new gr;return r.asyncQueue.enqueueAndForget((async()=>Gw(await rR(r),s,i))),i.promise})(Dm(e),t)}function RR(e,t,n){const r=n.docs.get(t._key),s=new qm(e);return new _r(e,s,t._key,r,new Vs(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(s){rs=s})(KT),lo(new Zs("firestore",((r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new li(new cA(r.getProvider("auth-internal")),new fA(a,r.getProvider("app-check-internal")),(function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new X(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ri(h.options.projectId,f)})(a,s),a);return i={useFetchStreams:n,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),$r(Sh,Ch,t),$r(Sh,Ch,"esm2020")})();const bR={apiKey:"AIzaSyAnH6OrDHBa-ljtrEpfAmwDzSXZdVqLBzw",authDomain:"taro-test-dc290.firebaseapp.com",projectId:"taro-test-dc290",storageBucket:"taro-test-dc290.firebasestorage.app",messagingSenderId:"561002476888",appId:"1:561002476888:web:8a51ece156741e965a212d",measurementId:"G-7LQTPF9BNL"},SR=up(bR),Pf=oR(SR),CR={__name:"message",setup(e){const t=Ur(""),n=Ur([]);Ml(()=>{const s=yR(Af(Pf,"messages"),ER("createdAt","desc"));wR(s,i=>{const a=[];i.forEach(l=>{a.push({id:l.id,...l.data()})}),n.value=a})});const r=async()=>{if(t.value.trim()!=="")try{await IR(Af(Pf,"messages"),{text:t.value,createdAt:new Date}),t.value=""}catch(s){console.error("",s)}};return(s,i)=>(De(),kn("div",null,[i[1]||(i[1]=Tt("h2",null,"Firebase 222222",-1)),r_(Tt("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>t.value=a),placeholder:"",onKeyup:$y(r,["enter"])},null,544),[[Fy,t.value]]),Tt("button",{onClick:r},""),Tt("ul",null,[(De(!0),kn(Ae,null,ja(n.value,a=>(De(),kn("li",{key:a.id},Ns(a.text),1))),128))])]))}},PR={__name:"HomeView",setup(e){return(t,n)=>(De(),to(CR))}},VR=tv({history:xE("/Favory/"),routes:[{path:"/",name:"home",component:PR},{path:"/List",name:"List",component:()=>Tv(()=>import("./ListView-CqVzT_5m.js"),__vite__mapDeps([0,1]))}]}),Hm=zy(yv);Hm.use(VR);Hm.mount("#app");export{Ae as F,np as _,ER as a,wR as b,Af as c,kn as d,De as e,Tt as f,ty as g,DR as h,ja as i,Bi as j,IR as k,Pf as l,xR as m,iR as n,Ml as o,to as p,yR as q,Ur as r,Ns as t,Fy as v,r_ as w};
