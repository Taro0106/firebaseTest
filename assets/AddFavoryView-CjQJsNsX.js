import{_ as w,r as s,c as r,b as t,p as n,v as _,s as k,u as g,t as D,F as h,i as b,x as C,f as N,g as A,j as u,n as $}from"./index-wfBM6Uki.js";const B={class:"form-card"},I={class:"upload-section"},M={class:"cute-upload-btn"},S={key:0},T={key:1},j={key:0,class:"preview-container"},O=["src"],P={class:"row"},Q={class:"row rating-row"},E={class:"stars"},L=["disabled"],q="dn6r2yt4y",z="Favory",G={__name:"addFavory",setup(F){const y=s(!1),l=s(""),o=s(""),p=s("æ¼«ç•«"),m=s("æœªå®Œçµ"),i=s(5),d=s(""),c=s(!1);s([]);const V=async v=>{const e=v.target.files[0];if(!e)return;c.value=!0;const a=new FormData;a.append("file",e),a.append("upload_preset",z);try{const f=await(await fetch(`https://api.cloudinary.com/v1_1/${q}/image/upload`,{method:"POST",body:a})).json();f.secure_url&&(o.value=f.secure_url)}catch{alert("åœ–ç‰‡å‚³é€å¤±æ•— Q_Q")}finally{c.value=!1}},x=async()=>{if(!l.value)return alert("è«‹è¼¸å…¥åç¨±ï¼");if(!o.value)return alert("è«‹æŒ‘é¸åœ–ç‰‡ï¼");if(!b.currentUser)return alert("ç™»å…¥å¾Œæ‰èƒ½æ”¶è—å–”ï¼");try{await C(N(A,"myFavoryList"),{name:l.value,image:o.value,category:p.value,status:m.value,rating:i.value,comment:d.value,uid:b.currentUser.uid,createdAt:new Date}),l.value="",o.value="",d.value="",y.value=!1}catch(v){console.error(v)}};return(v,e)=>(u(),r(h,null,[e[9]||(e[9]=t("h1",{class:"main-title"},"ðŸŒ¸ æ–°å¢žFavory ðŸŒ¸",-1)),t("div",B,[n(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),class:"cute-input",placeholder:"âœ¨ è¼¸å…¥ä½œå“åç¨±..."},null,512),[[_,l.value]]),t("div",I,[t("label",M,[t("input",{type:"file",onChange:V,accept:"image/*"},null,32),c.value?(u(),r("span",T,"ðŸª„ é­”æ³•å‚³é€ä¸­...")):(u(),r("span",S,"ðŸ“· æŒ‘é¸å°é¢åœ–"))]),o.value?(u(),r("div",j,[t("img",{src:o.value,class:"cute-preview"},null,8,O),t("button",{onClick:e[1]||(e[1]=a=>o.value=""),class:"remove-btn"},"âœ•")])):k("",!0)]),t("div",P,[n(t("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>p.value=a),class:"cute-select"},[...e[6]||(e[6]=[t("option",{value:"æ¼«ç•«"},"ðŸ“– æ¼«ç•«",-1),t("option",{value:"å‹•æ¼«"},"ðŸ“º å‹•æ¼«",-1)])],512),[[g,p.value]]),n(t("select",{"onUpdate:modelValue":e[3]||(e[3]=a=>m.value=a),class:"cute-select"},[...e[7]||(e[7]=[t("option",{value:"å®Œçµ"},"âœ… å®Œçµ",-1),t("option",{value:"æœªå®Œçµ"},"â³ æœªå®Œçµ",-1)])],512),[[g,m.value]])]),t("div",Q,[e[8]||(e[8]=t("span",null,"è©•åˆ†ï¼š",-1)),n(t("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=a=>i.value=a),min:"1",max:"5",class:"cute-number"},null,512),[[_,i.value]]),t("span",E,D("â­".repeat(i.value)),1)]),n(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=a=>d.value=a),class:"cute-textarea",placeholder:"ðŸ’¬ å¯«é»žæ‚„æ‚„è©±å§..."},null,512),[[_,d.value]]),t("button",{onClick:x,class:"submit-btn",disabled:c.value},"æ–°å¢žåˆ°å°æœ¬æœ¬ âœ¨",8,L)])],64))}},H=w(G,[["__scopeId","data-v-eb7e5d59"]]),J={class:"container"},K={__name:"AddFavoryView",setup(F){return(y,l)=>(u(),r("div",J,[$(H)]))}},W=w(K,[["__scopeId","data-v-55358896"]]);export{W as default};
