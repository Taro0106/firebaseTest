import{_ as U,r as l,o as A,q as L,a as B,c as k,b as N,d as r,e as n,f as e,w as d,v as f,g as F,h as w,t as u,F as S,i as T,j as $,k as q,l as g,m as I,n as M,p as j}from"./index-CYnmeDQy.js";const E={class:"container"},P={class:"form-card"},Q={class:"upload-section"},O={class:"cute-upload-btn"},z={key:0},G={key:1},H={key:0,class:"preview-container"},J=["src"],K={class:"row"},R={class:"row rating-row"},W={class:"stars"},X=["disabled"],Y={class:"list-grid"},Z={class:"card-img"},ee=["src"],te={class:"tag"},se={class:"info"},ae={class:"status"},oe={class:"comment"},le=["onClick"],ne="dn6r2yt4y",ie="Favory",ce={__name:"like",setup(x){const i=l(""),a=l(""),_=l("æ¼«ç•«"),y=l("æœªå®Œçµ"),p=l(5),v=l(""),m=l(!1),b=l([]),V=async o=>{const t=o.target.files[0];if(!t)return;m.value=!0;const s=new FormData;s.append("file",t),s.append("upload_preset",ie);try{const h=await(await fetch(`https://api.cloudinary.com/v1_1/${ne}/image/upload`,{method:"POST",body:s})).json();h.secure_url&&(a.value=h.secure_url)}catch(c){console.error("ä¸Šå‚³å¤±æ•—ï¼š",c),alert("åœ–ç‰‡å‚³é€å¤±æ•—ï¼Œå°ç²¾éˆé¬§è„¾æ°£äº† Q_Q")}finally{m.value=!1}};A(()=>{const o=L(k(g,"myAnimeList"),B("createdAt","desc"));N(o,t=>{const s=[];t.forEach(c=>{s.push({id:c.id,...c.data()})}),b.value=s})});const C=async()=>{if(!i.value)return alert("è«‹è¼¸å…¥ä½œå“åç¨±å–”ï¼");if(!a.value)return alert("è«‹å¹«ä½œå“æŒ‘ä¸€å¼µç¾Žç¾Žçš„åœ–ï½ž");try{await q(k(g,"myAnimeList"),{name:i.value,image:a.value,category:_.value,status:y.value,rating:p.value,comment:v.value,createdAt:new Date}),i.value="",a.value="",v.value=""}catch(o){console.error(o)}},D=async o=>{confirm("ç¢ºå®šè¦è·Ÿé€™éƒ¨ä½œå“èªªæŽ°æŽ°å—Žï¼Ÿ")&&await I(M(g,"myAnimeList",o))};return(o,t)=>(n(),r("div",E,[t[10]||(t[10]=e("h1",{class:"main-title"},"ðŸŒ¸ æˆ‘çš„æ”¶è—å°æœ¬æœ¬ ðŸŒ¸",-1)),e("div",P,[d(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.value=s),class:"cute-input",placeholder:"âœ¨ è¼¸å…¥ä½œå“åç¨±..."},null,512),[[f,i.value]]),e("div",Q,[e("label",O,[e("input",{type:"file",onChange:V,accept:"image/*"},null,32),m.value?(n(),r("span",G,"ðŸª„ é­”æ³•å‚³é€ä¸­...")):(n(),r("span",z,"ðŸ“· æŒ‘é¸å°é¢åœ–"))]),a.value?(n(),r("div",H,[e("img",{src:a.value,class:"cute-preview"},null,8,J),e("button",{onClick:t[1]||(t[1]=s=>a.value=""),class:"remove-btn"},"âœ•")])):F("",!0)]),e("div",K,[d(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>_.value=s),class:"cute-select"},[...t[6]||(t[6]=[e("option",{value:"æ¼«ç•«"},"ðŸ“– æ¼«ç•«",-1),e("option",{value:"å‹•æ¼«"},"ðŸ“º å‹•æ¼«",-1)])],512),[[w,_.value]]),d(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>y.value=s),class:"cute-select"},[...t[7]||(t[7]=[e("option",{value:"å®Œçµ"},"âœ… å®Œçµ",-1),e("option",{value:"æœªå®Œçµ"},"â³ æœªå®Œçµ",-1)])],512),[[w,y.value]])]),e("div",R,[t[8]||(t[8]=e("span",null,"è©•åˆ†ï¼š",-1)),d(e("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=s=>p.value=s),min:"1",max:"5",class:"cute-number"},null,512),[[f,p.value]]),e("span",W,u("â­".repeat(p.value)),1)]),d(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=s=>v.value=s),class:"cute-textarea",placeholder:"ðŸ’¬ å¯«é»žæ‚„æ‚„è©±å§..."},null,512),[[f,v.value]]),e("button",{onClick:C,class:"submit-btn",disabled:m.value},"æ–°å¢žåˆ°å°æœ¬æœ¬ âœ¨",8,X)]),e("div",Y,[(n(!0),r(S,null,T(b.value,s=>(n(),r("div",{key:s.id,class:"item-card"},[e("div",Z,[e("img",{src:s.image,alt:"cover"},null,8,ee),e("span",te,u(s.category),1)]),e("div",se,[e("h3",null,u(s.name),1),e("p",ae,[e("span",null,u(s.status),1),t[9]||(t[9]=$(" â€§ ",-1)),e("span",null,u("â­".repeat(s.rating)),1)]),e("p",oe,u(s.comment||"é€™éƒ¨ä½œå“é‚„æ²’æœ‰è©•èªžå–”ï½ž"),1),e("button",{class:"delete-btn",onClick:c=>D(s.id)},"åˆªé™¤",8,le)])]))),128))])]))}},re=U(ce,[["__scopeId","data-v-5e21f8c4"]]),de={__name:"AboutView",setup(x){return(i,a)=>(n(),j(re))}};export{de as default};
