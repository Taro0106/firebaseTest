import{_ as x,r as v,o as A,a as I,A as M,c as l,b as s,d as B,f as b,F as $,h as q,w as D,T as S,z as E,i as m,n as c,t as n,x as R,j as T,k as C,q as L,B as w,l as h,m as U,C as j,D as z}from"./index-D-OmkXlD.js";const P={class:"container"},G={class:"list-grid"},H=["onClick"],J={class:"card-img"},K=["src","alt"],O={class:"overlay"},Q={class:"name"},W={class:"modal-content"},X={class:"modal-body"},Y={class:"modal-img-container"},Z=["src","alt"],ss={class:"modal-info"},ts={class:"detail-name"},es={class:"detail-meta"},as={class:"tag"},os={class:"tag status"},ns={class:"detail-rating"},ls={class:"stars"},cs={class:"rating-text"},is={class:"detail-comment"},ds={key:0,class:"empty-state"},rs={__name:"list",setup(F){const r=E(),i=v([]),t=v(null),p=v(!0);let _=null;const f=e=>{_&&_();const a=T(C,"myFavoryList"),o=r.params.catName;let d;o?d=L(a,h("uid","==",e.uid),h("category","==",o),w("createdAt","desc")):d=L(a,h("uid","==",e.uid),w("createdAt","desc")),_=U(d,u=>{const y=[];u.forEach(k=>{y.push({id:k.id,...k.data()})}),i.value=y,p.value=!1},u=>{console.error("Firestore éŒ¯èª¤:",u)})};A(()=>{I(m,e=>{e?f(e):(i.value=[],p.value=!1)})}),M(()=>r.params.catName,()=>{m.currentUser&&f(m.currentUser)});const N=async e=>{confirm("è¦è·Ÿé€™éƒ¨ä½œå“èªªæŽ°æŽ°å—Žï¼Ÿ ðŸ¥º")&&(await j(z(C,"myFavoryList",e)),t.value=null)},V=e=>{t.value=e},g=()=>{t.value=null};return(e,a)=>(c(),l("div",P,[s("div",G,[(c(!0),l($,null,q(i.value,o=>(c(),l("div",{key:o.id,class:"item-card",onClick:d=>V(o)},[s("div",J,[s("img",{src:o.image,alt:o.name},null,8,K),s("div",O,[s("div",Q,n(o.name),1)])])],8,H))),128))]),B(S,{name:"fade"},{default:D(()=>[t.value?(c(),l("div",{key:0,class:"modal-overlay",onClick:R(g,["self"])},[s("div",W,[s("button",{class:"close-btn",onClick:g},"Ã—"),s("div",X,[s("div",Y,[s("img",{src:t.value.image,alt:t.value.name},null,8,Z)]),s("div",ss,[s("h2",ts,n(t.value.name),1),s("div",es,[s("span",as,"ðŸ·ï¸ "+n(t.value.category),1),s("span",os,"ðŸ“ "+n(t.value.status),1)]),s("div",ns,[s("span",ls,n("â­".repeat(t.value.rating)),1),s("span",cs,"("+n(t.value.rating)+"/5)",1)]),s("div",is,[a[1]||(a[1]=s("h3",null,"è©•èªž",-1)),s("p",null,n(t.value.comment||"é€™å€‹ä¸»äººå¾ˆæ‡¶ï¼Œä»€éº¼éƒ½æ²’ç•™ä¸‹..."),1)]),s("button",{class:"detail-delete-btn",onClick:a[0]||(a[0]=o=>N(t.value.id))}," ðŸ—‘ï¸ ç§»é™¤æ­¤æ”¶è— ")])])])])):b("",!0)]),_:1}),i.value.length===0?(c(),l("div",ds,[...a[2]||(a[2]=[s("div",{class:"empty-icon"},"ðŸ“š",-1),s("p",null,"é‚„æ²’æœ‰æ”¶è—ä»»ä½•ä½œå“å‘¢ï½ž",-1)])])):b("",!0)]))}},_s=x(rs,[["__scopeId","data-v-e7eceded"]]),us={class:"page"},vs={__name:"ListView",setup(F){return(r,i)=>(c(),l("div",us,[B(_s)]))}},hs=x(vs,[["__scopeId","data-v-e9b76994"]]);export{hs as default};
