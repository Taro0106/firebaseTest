import{_ as x,r as v,o as I,a as M,w as $,c as l,b as s,d as F,e as b,F as q,f as A,g as S,T as D,u as E,h as m,i as c,t as n,j as R,k as T,l as L,q as w,m as C,n as h,p as U,s as j,v as P}from"./index-Cnp4HeXn.js";const z={class:"container"},G={class:"list-grid"},H=["onClick"],J={class:"card-img"},K=["src","alt"],O={class:"overlay"},Q={class:"name"},W={class:"modal-content"},X={class:"modal-body"},Y={class:"modal-img-container"},Z=["src","alt"],ss={class:"modal-info"},es={class:"detail-name"},ts={class:"detail-meta"},as={class:"tag"},os={class:"tag status"},ns={class:"detail-rating"},ls={class:"stars"},cs={class:"rating-text"},is={class:"detail-comment"},ds={key:0,class:"empty-state"},rs={__name:"list",setup(N){const r=E(),i=v([]),e=v(null),p=v(!0);let _=null;const f=t=>{_&&_();const a=T(L,"myFavoryList"),o=r.params.catName;let d;o?d=w(a,h("uid","==",t.uid),h("category","==",o),C("createdAt","desc")):d=w(a,h("uid","==",t.uid),C("createdAt","desc")),_=U(d,u=>{const y=[];u.forEach(k=>{y.push({id:k.id,...k.data()})}),i.value=y,p.value=!1},u=>{console.error("Firestore éŒ¯èª¤:",u)})};I(()=>{M(m,t=>{t?f(t):(i.value=[],p.value=!1)})}),$(()=>r.params.catName,()=>{m.currentUser&&f(m.currentUser)});const V=async t=>{confirm("è¦è·Ÿé€™éƒ¨ä½œå“èªªæŽ°æŽ°å—Žï¼Ÿ ðŸ¥º")&&(await j(P(L,"myFavoryList",t)),e.value=null)},B=t=>{e.value=t},g=()=>{e.value=null};return(t,a)=>(c(),l("div",z,[s("div",G,[(c(!0),l(q,null,A(i.value,o=>(c(),l("div",{key:o.id,class:"item-card",onClick:d=>B(o)},[s("div",J,[s("img",{src:o.image,alt:o.name},null,8,K),s("div",O,[s("div",Q,n(o.name),1)])])],8,H))),128))]),F(D,{name:"fade"},{default:S(()=>[e.value?(c(),l("div",{key:0,class:"modal-overlay",onClick:R(g,["self"])},[s("div",W,[s("button",{class:"close-btn",onClick:g},"Ã—"),s("div",X,[s("div",Y,[s("img",{src:e.value.image,alt:e.value.name},null,8,Z)]),s("div",ss,[s("h2",es,n(e.value.name),1),s("div",ts,[s("span",as,"ðŸ·ï¸ "+n(e.value.category),1),s("span",os,"ðŸ“ "+n(e.value.status),1)]),s("div",ns,[s("span",ls,n("â­".repeat(e.value.rating)),1),s("span",cs,"("+n(e.value.rating)+"/5)",1)]),s("div",is,[a[1]||(a[1]=s("h3",null,"è©•èªž",-1)),s("p",null,n(e.value.comment||"é€™å€‹ä¸»äººå¾ˆæ‡¶ï¼Œä»€éº¼éƒ½æ²’ç•™ä¸‹..."),1)]),s("button",{class:"detail-delete-btn",onClick:a[0]||(a[0]=o=>V(e.value.id))}," ðŸ—‘ï¸ ç§»é™¤æ­¤æ”¶è— ")])])])])):b("",!0)]),_:1}),i.value.length===0?(c(),l("div",ds,[...a[2]||(a[2]=[s("div",{class:"empty-icon"},"ðŸ“š",-1),s("p",null,"é‚„æ²’æœ‰æ”¶è—ä»»ä½•ä½œå“å‘¢ï½ž",-1)])])):b("",!0)]))}},_s=x(rs,[["__scopeId","data-v-e7eceded"]]),us={class:"page"},vs={__name:"ListView",setup(N){return(r,i)=>(c(),l("div",us,[F(_s)]))}},hs=x(vs,[["__scopeId","data-v-e9b76994"]]);export{hs as default};
